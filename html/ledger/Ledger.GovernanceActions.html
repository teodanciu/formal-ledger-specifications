<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>Ledger.GovernanceActions</title><link rel="stylesheet" href="Agda.css"></head><body><pre class="Agda"><a id="1" class="Background">\section{Governance actions}
\label{sec:governance-actions}
We introduce three distinct bodies that have specific functions in the new governance framework:
\begin{enumerate}
\item
  a constitutional committee  (henceforth called \CC)
\item
  a group of delegate representatives (henceforth called \DReps)
\item
  the stake pool operators (henceforth called \SPOs)
\end{enumerate}
</a><a id="382" class="Markup">\begin{code}[hide]</a>
<a id="401" class="Symbol">{-#</a> <a id="405" class="Keyword">OPTIONS</a> <a id="413" class="Pragma">--safe</a> <a id="420" class="Symbol">#-}</a>
<a id="424" class="Keyword">open</a> <a id="429" class="Keyword">import</a> <a id="436" href="Ledger.Crypto.html" class="Module">Ledger.Crypto</a>

<a id="451" class="Keyword">open</a> <a id="456" class="Keyword">import</a> <a id="463" href="Ledger.Prelude.html" class="Module">Ledger.Prelude</a> <a id="478" class="Keyword">renaming</a> <a id="487" class="Symbol">(</a><a id="488" href="Relation.Nullary.Decidable.Core.html#1613" class="InductiveConstructor">yes</a> <a id="492" class="Symbol">to</a> <a id="495" class="InductiveConstructor">yesᵈ</a><a id="499" class="Symbol">;</a> <a id="501" href="Relation.Nullary.Decidable.Core.html#1650" class="InductiveConstructor">no</a> <a id="504" class="Symbol">to</a> <a id="507" class="InductiveConstructor">noᵈ</a><a id="510" class="Symbol">)</a>
<a id="512" class="Keyword">open</a> <a id="517" class="Keyword">import</a> <a id="524" href="Ledger.GovStructure.html" class="Module">Ledger.GovStructure</a>
<a id="544" class="Keyword">open</a> <a id="549" class="Keyword">import</a> <a id="556" href="Data.Nat.Properties.html" class="Module">Data.Nat.Properties</a> <a id="576" class="Keyword">using</a> <a id="582" class="Symbol">(</a><a id="583" href="Data.Nat.Properties.html#16466" class="Function">+-0-commutativeMonoid</a><a id="604" class="Symbol">;</a> <a id="606" href="Data.Nat.Properties.html#16387" class="Function">+-0-monoid</a><a id="616" class="Symbol">)</a>
<a id="618" class="Keyword">open</a> <a id="623" class="Keyword">import</a> <a id="630" href="Data.Rational.html" class="Module">Data.Rational</a> <a id="644" class="Keyword">using</a> <a id="650" class="Symbol">(</a><a id="651" href="Data.Rational.Base.html#1287" class="Record">ℚ</a><a id="652" class="Symbol">;</a> <a id="654" href="Data.Rational.Base.html#4213" class="Function">0ℚ</a><a id="656" class="Symbol">;</a> <a id="658" href="Data.Rational.Base.html#4234" class="Function">1ℚ</a><a id="660" class="Symbol">)</a>

<a id="663" class="Keyword">open</a> <a id="668" class="Keyword">import</a> <a id="675" href="Tactic.Derive.DecEq.html" class="Module">Tactic.Derive.DecEq</a>

<a id="696" class="Keyword">module</a> <a id="703" href="Ledger.GovernanceActions.html" class="Module">Ledger.GovernanceActions</a> <a id="728" class="Symbol">(</a><a id="729" href="Ledger.GovernanceActions.html#729" class="Bound">gs</a> <a id="732" class="Symbol">:</a> <a id="734" class="Symbol">_)</a> <a id="737" class="Symbol">(</a><a id="738" class="Keyword">open</a> <a id="743" href="Ledger.GovStructure.html#168" class="Module">GovStructure</a> <a id="756" href="Ledger.GovernanceActions.html#729" class="Bound">gs</a><a id="758" class="Symbol">)</a> <a id="760" class="Keyword">where</a>

<a id="2ℚ"></a><a id="767" href="Ledger.GovernanceActions.html#767" class="Function">2ℚ</a> <a id="770" class="Symbol">=</a> <a id="772" href="Data.Rational.Base.html#4234" class="Function">1ℚ</a> <a id="775" href="Data.Rational.Base.html#5985" class="Function Operator">Data.Rational.+</a> <a id="791" href="Data.Rational.Base.html#4234" class="Function">1ℚ</a>

<a id="795" class="Comment">-- TODO: this could be generic</a>
<a id="maximum"></a><a id="826" href="Ledger.GovernanceActions.html#826" class="Function">maximum</a> <a id="834" class="Symbol">:</a> <a id="836" href="Ledger.Prelude.html#1514" class="Function Operator">ℙ</a> <a id="838" href="Data.Rational.Base.html#1287" class="Record">ℚ</a> <a id="840" class="Symbol">→</a> <a id="842" href="Data.Rational.Base.html#1287" class="Record">ℚ</a>
<a id="844" href="Ledger.GovernanceActions.html#826" class="Function">maximum</a> <a id="852" href="Ledger.GovernanceActions.html#852" class="Bound">x</a> <a id="854" class="Symbol">=</a> <a id="856" href="Data.List.Base.html#4412" class="Function">foldl</a> <a id="862" href="Data.Rational.Base.html#6555" class="Function Operator">Data.Rational._⊔_</a> <a id="880" href="Data.Rational.Base.html#4213" class="Function">0ℚ</a> <a id="883" class="Symbol">(</a><a id="884" href="Data.Product.Base.html#608" class="Field">proj₁</a> <a id="890" href="Function.Base.html#1994" class="Function Operator">$</a> <a id="892" href="Ledger.Prelude.html#1755" class="Function">finiteness</a> <a id="903" href="Ledger.GovernanceActions.html#852" class="Bound">x</a><a id="904" class="Symbol">)</a>
<a id="906" class="Markup">\end{code}</a><a id="916" class="Background">
\begin{figure*}[h]
{\small
</a><a id="944" class="Markup">\begin{code}</a>
<a id="GovActionID"></a><a id="957" href="Ledger.GovernanceActions.html#957" class="Function">GovActionID</a> <a id="969" class="Symbol">:</a> <a id="971" href="Agda.Primitive.html#320" class="Primitive">Set</a>
<a id="975" href="Ledger.GovernanceActions.html#957" class="Function">GovActionID</a> <a id="987" class="Symbol">=</a> <a id="989" href="Ledger.GovStructure.html#202" class="Field">TxId</a> <a id="994" href="Data.Product.Base.html#1109" class="Function Operator">×</a> <a id="996" href="Agda.Builtin.Nat.html#186" class="Datatype">ℕ</a>

<a id="999" class="Keyword">data</a> <a id="GovRole"></a><a id="1004" href="Ledger.GovernanceActions.html#1004" class="Datatype">GovRole</a> <a id="1012" class="Symbol">:</a> <a id="1014" href="Agda.Primitive.html#320" class="Primitive">Set</a> <a id="1018" class="Keyword">where</a>
  <a id="GovRole.CC"></a><a id="1026" href="Ledger.GovernanceActions.html#1026" class="InductiveConstructor">CC</a> <a id="GovRole.DRep"></a><a id="1029" href="Ledger.GovernanceActions.html#1029" class="InductiveConstructor">DRep</a> <a id="GovRole.SPO"></a><a id="1034" href="Ledger.GovernanceActions.html#1034" class="InductiveConstructor">SPO</a> <a id="1038" class="Symbol">:</a> <a id="1040" href="Ledger.GovernanceActions.html#1004" class="Datatype">GovRole</a>

<a id="1049" class="Keyword">data</a> <a id="VDeleg"></a><a id="1054" href="Ledger.GovernanceActions.html#1054" class="Datatype">VDeleg</a> <a id="1061" class="Symbol">:</a> <a id="1063" href="Agda.Primitive.html#320" class="Primitive">Set</a> <a id="1067" class="Keyword">where</a>
  <a id="VDeleg.credVoter"></a><a id="1075" href="Ledger.GovernanceActions.html#1075" class="InductiveConstructor">credVoter</a>        <a id="1092" class="Symbol">:</a> <a id="1094" href="Ledger.GovernanceActions.html#1004" class="Datatype">GovRole</a> <a id="1102" class="Symbol">→</a> <a id="1104" href="Ledger.Address.html#713" class="Function">Credential</a> <a id="1115" class="Symbol">→</a> <a id="1117" href="Ledger.GovernanceActions.html#1054" class="Datatype">VDeleg</a>
  <a id="VDeleg.abstainRep"></a><a id="1126" href="Ledger.GovernanceActions.html#1126" class="InductiveConstructor">abstainRep</a>       <a id="1143" class="Symbol">:</a> <a id="1145" href="Ledger.GovernanceActions.html#1054" class="Datatype">VDeleg</a>
  <a id="VDeleg.noConfidenceRep"></a><a id="1154" href="Ledger.GovernanceActions.html#1154" class="InductiveConstructor">noConfidenceRep</a>  <a id="1171" class="Symbol">:</a> <a id="1173" href="Ledger.GovernanceActions.html#1054" class="Datatype">VDeleg</a>

<a id="1181" class="Keyword">record</a> <a id="Anchor"></a><a id="1188" href="Ledger.GovernanceActions.html#1188" class="Record">Anchor</a> <a id="1195" class="Symbol">:</a> <a id="1197" href="Agda.Primitive.html#320" class="Primitive">Set</a> <a id="1201" class="Keyword">where</a>
  <a id="1209" class="Keyword">field</a>  <a id="Anchor.url"></a><a id="1216" href="Ledger.GovernanceActions.html#1216" class="Field">url</a>   <a id="1222" class="Symbol">:</a> <a id="1224" href="Agda.Builtin.String.html#318" class="Postulate">String</a>
         <a id="Anchor.hash"></a><a id="1240" href="Ledger.GovernanceActions.html#1240" class="Field">hash</a>  <a id="1246" class="Symbol">:</a> <a id="1248" href="Ledger.GovStructure.html#215" class="Field">DocHash</a>

<a id="1257" class="Keyword">data</a> <a id="GovAction"></a><a id="1262" href="Ledger.GovernanceActions.html#1262" class="Datatype">GovAction</a> <a id="1272" class="Symbol">:</a> <a id="1274" href="Agda.Primitive.html#320" class="Primitive">Set</a> <a id="1278" class="Keyword">where</a>
  <a id="GovAction.NoConfidence"></a><a id="1286" href="Ledger.GovernanceActions.html#1286" class="InductiveConstructor">NoConfidence</a>     <a id="1303" class="Symbol">:</a>                                          <a id="1346" href="Ledger.GovernanceActions.html#1262" class="Datatype">GovAction</a>
  <a id="GovAction.NewCommittee"></a><a id="1358" href="Ledger.GovernanceActions.html#1358" class="InductiveConstructor">NewCommittee</a>     <a id="1375" class="Symbol">:</a> <a id="1377" href="Ledger.Address.html#713" class="Function">Credential</a> <a id="1388" href="Ledger.Prelude.html#2629" class="Function Operator">⇀</a> <a id="1390" href="Ledger.Epoch.html#502" class="Function">Epoch</a> <a id="1396" class="Symbol">→</a> <a id="1398" href="Ledger.Prelude.html#1514" class="Function Operator">ℙ</a> <a id="1400" href="Ledger.Address.html#713" class="Function">Credential</a> <a id="1411" class="Symbol">→</a> <a id="1413" href="Data.Rational.Base.html#1287" class="Record">ℚ</a>  <a id="1416" class="Symbol">→</a> <a id="1418" href="Ledger.GovernanceActions.html#1262" class="Datatype">GovAction</a>
  <a id="GovAction.NewConstitution"></a><a id="1430" href="Ledger.GovernanceActions.html#1430" class="InductiveConstructor">NewConstitution</a>  <a id="1447" class="Symbol">:</a> <a id="1449" href="Ledger.GovStructure.html#215" class="Field">DocHash</a> <a id="1457" class="Symbol">→</a> <a id="1459" href="Agda.Builtin.Maybe.html#118" class="Datatype">Maybe</a> <a id="1465" href="Ledger.Crypto.html#1632" class="Function">ScriptHash</a>             <a id="1488" class="Symbol">→</a> <a id="1490" href="Ledger.GovernanceActions.html#1262" class="Datatype">GovAction</a>
  <a id="GovAction.TriggerHF"></a><a id="1502" href="Ledger.GovernanceActions.html#1502" class="InductiveConstructor">TriggerHF</a>        <a id="1519" class="Symbol">:</a> <a id="1521" href="Ledger.PParams.html#678" class="Function">ProtVer</a>                                <a id="1560" class="Symbol">→</a> <a id="1562" href="Ledger.GovernanceActions.html#1262" class="Datatype">GovAction</a>
  <a id="GovAction.ChangePParams"></a><a id="1574" href="Ledger.GovernanceActions.html#1574" class="InductiveConstructor">ChangePParams</a>    <a id="1591" class="Symbol">:</a> <a id="1593" href="Ledger.PParams.html#5248" class="Function">PParamsUpdate</a>                          <a id="1632" class="Symbol">→</a> <a id="1634" href="Ledger.GovernanceActions.html#1262" class="Datatype">GovAction</a>
  <a id="GovAction.TreasuryWdrl"></a><a id="1646" href="Ledger.GovernanceActions.html#1646" class="InductiveConstructor">TreasuryWdrl</a>     <a id="1663" class="Symbol">:</a> <a id="1665" class="Symbol">(</a><a id="1666" href="Ledger.Address.html#1216" class="Record">RwdAddr</a> <a id="1674" href="Ledger.Prelude.html#2629" class="Function Operator">⇀</a> <a id="1676" href="Ledger.Prelude.Base.html#81" class="Function">Coin</a><a id="1680" class="Symbol">)</a>                       <a id="1704" class="Symbol">→</a> <a id="1706" href="Ledger.GovernanceActions.html#1262" class="Datatype">GovAction</a>
  <a id="GovAction.Info"></a><a id="1718" href="Ledger.GovernanceActions.html#1718" class="InductiveConstructor">Info</a>             <a id="1735" class="Symbol">:</a>                                          <a id="1778" href="Ledger.GovernanceActions.html#1262" class="Datatype">GovAction</a>

<a id="actionWellFormed"></a><a id="1789" href="Ledger.GovernanceActions.html#1789" class="Function">actionWellFormed</a> <a id="1806" class="Symbol">:</a> <a id="1808" href="Ledger.GovernanceActions.html#1262" class="Datatype">GovAction</a> <a id="1818" class="Symbol">→</a> <a id="1820" href="Agda.Builtin.Bool.html#156" class="Datatype">Bool</a>
<a id="1825" href="Ledger.GovernanceActions.html#1789" class="Function">actionWellFormed</a> <a id="1842" class="Symbol">(</a><a id="1843" href="Ledger.GovernanceActions.html#1574" class="InductiveConstructor">ChangePParams</a> <a id="1857" href="Ledger.GovernanceActions.html#1857" class="Bound">x</a><a id="1858" class="Symbol">)</a> <a id="1860" class="Symbol">=</a> <a id="1862" href="Ledger.PParams.html#4923" class="Function">ppdWellFormed</a> <a id="1876" href="Ledger.GovernanceActions.html#1857" class="Bound">x</a>
<a id="1878" href="Ledger.GovernanceActions.html#1789" class="CatchallClause Function">actionWellFormed</a><a id="1894" class="CatchallClause"> </a><a id="1895" class="CatchallClause Symbol">_</a>                 <a id="1913" class="Symbol">=</a> <a id="1915" href="Agda.Builtin.Bool.html#181" class="InductiveConstructor">true</a>
<a id="1920" class="Markup">\end{code}</a><a id="1930" class="Background">
} %% end small
\caption{Governance actions}
\label{defs:governance}
\end{figure*}
Figure~\ref{defs:governance} defines several data types used to represent governance actions including:
\begin{itemize}
  \item \defn{identifier}---a pair consisting of
        a \TxId (transaction ID) and a natural number;
  \item \defn{role}---one of three available voter roles defined above (\CC, \DRep, \SPO);
  \item \defn{voter delegation type}---one of three ways to delegate votes: by credential, abstention, or no confidence (\credVoter, \abstainRep, or \noConfidenceRep);
  \item \defn{anchor}---a url and a document hash;
  \item \defn{governance action}---one of seven possible actions (see Figure~\ref{fig:types-of-governance-actions} for definitions).
\end{itemize}
\begin{figure*}[h]
\begin{longtable}[]{@{}
 &gt;{\raggedright\arraybackslash}p{(\columnwidth - 2\tabcolsep) * \real{0.2}}
 &gt;{\raggedright\arraybackslash}p{(\columnwidth - 2\tabcolsep) * \real{0.75}}@{}}
\textbf{Action}  &amp; \textbf{Description}\\
\hline
\endhead
\NoConfidence            &amp; a motion to create a \defn{state of no-confidence} in the current constitutional committee \\[10pt]
\NewCommittee            &amp; changes to the members of the constitutional committee and/or to its signature threshold and/or term limits \\[10pt]
\NewConstitution         &amp; a modification to the off-chain Constitution, recorded as an on-chain hash of the text document \\[10pt]
\TriggerHF\footnotemark  &amp; triggers a non-backwards compatible upgrade of the network; requires a prior software upgrade  \\[10pt]
\ChangePParams           &amp; a change to \textit{one or more} updatable protocol parameters, excluding changes to major protocol versions (``hard forks&#39;&#39;)\\[10pt]
\TreasuryWdrl            &amp; movements from the treasury, sub-categorized into small, medium or large withdrawals (based on the amount of Lovelace to be withdrawn)\\[10pt]
\Info                    &amp; an action that has no effect on-chain, other than an on-chain record
\end{longtable}
\caption{Types of governance actions}
\label{fig:types-of-governance-actions}
\end{figure*}
\footnotetext{There are many varying definitions of the term ``hard fork&#39;&#39; in the blockchain industry. Hard forks typically refer
  to non-backwards compatible updates of a network. In Cardano, we formalize the definition slightly more by calling any upgrade that
  would lead to \emph{more blocks} being validated a ``hard fork&#39;&#39; and force nodes to comply with the new protocol version, effectively
  obsoleting nodes that are unable to handle the upgrade.}
\begin{figure*}[h]
</a><a id="4499" class="Markup">\begin{code}[hide]</a>
<a id="4518" class="Keyword">private</a>
  <a id="⟨_,_,_⟩"></a><a id="4528" href="Ledger.GovernanceActions.html#4528" class="Function Operator">⟨_,_,_⟩</a> <a id="4536" class="Symbol">:</a> <a id="4538" class="Symbol">{</a><a id="4539" href="Ledger.GovernanceActions.html#4539" class="Bound">A</a> <a id="4541" class="Symbol">:</a> <a id="4543" href="Agda.Primitive.html#320" class="Primitive">Set</a><a id="4546" class="Symbol">}</a> <a id="4548" class="Symbol">→</a> <a id="4550" href="Ledger.GovernanceActions.html#4539" class="Bound">A</a> <a id="4552" class="Symbol">→</a> <a id="4554" href="Ledger.GovernanceActions.html#4539" class="Bound">A</a> <a id="4556" class="Symbol">→</a> <a id="4558" href="Ledger.GovernanceActions.html#4539" class="Bound">A</a> <a id="4560" class="Symbol">→</a> <a id="4562" href="Ledger.GovernanceActions.html#1004" class="Datatype">GovRole</a> <a id="4570" class="Symbol">→</a> <a id="4572" href="Ledger.GovernanceActions.html#4539" class="Bound">A</a>
  <a id="4576" href="Ledger.GovernanceActions.html#4528" class="Function Operator">⟨</a> <a id="4578" href="Ledger.GovernanceActions.html#4578" class="Bound">q₁</a> <a id="4581" href="Ledger.GovernanceActions.html#4528" class="Function Operator">,</a> <a id="4583" href="Ledger.GovernanceActions.html#4583" class="Bound">q₂</a> <a id="4586" href="Ledger.GovernanceActions.html#4528" class="Function Operator">,</a> <a id="4588" href="Ledger.GovernanceActions.html#4588" class="Bound">q₃</a> <a id="4591" href="Ledger.GovernanceActions.html#4528" class="Function Operator">⟩</a> <a id="4593" class="Symbol">=</a> <a id="4595" class="Symbol">λ</a> <a id="4597" class="Symbol">{</a> <a id="4599" href="Ledger.GovernanceActions.html#1026" class="InductiveConstructor">CC</a> <a id="4602" class="Symbol">→</a> <a id="4604" href="Ledger.GovernanceActions.html#4578" class="Bound">q₁</a> <a id="4607" class="Symbol">;</a> <a id="4609" href="Ledger.GovernanceActions.html#1029" class="InductiveConstructor">DRep</a> <a id="4614" class="Symbol">→</a> <a id="4616" href="Ledger.GovernanceActions.html#4583" class="Bound">q₂</a> <a id="4619" class="Symbol">;</a> <a id="4621" href="Ledger.GovernanceActions.html#1034" class="InductiveConstructor">SPO</a> <a id="4625" class="Symbol">→</a> <a id="4627" href="Ledger.GovernanceActions.html#4588" class="Bound">q₃</a> <a id="4630" class="Symbol">}</a>
<a id="4632" class="Markup">\end{code}</a><a id="4642" class="Background">
</a><a id="4643" class="Markup">\begin{code}</a>
<a id="threshold"></a><a id="4656" href="Ledger.GovernanceActions.html#4656" class="Function">threshold</a> <a id="4666" class="Symbol">:</a> <a id="4668" href="Ledger.PParams.html#1022" class="Record">PParams</a> <a id="4676" class="Symbol">→</a> <a id="4678" href="Agda.Builtin.Maybe.html#118" class="Datatype">Maybe</a> <a id="4684" href="Data.Rational.Base.html#1287" class="Record">ℚ</a> <a id="4686" class="Symbol">→</a> <a id="4688" href="Ledger.GovernanceActions.html#1262" class="Datatype">GovAction</a> <a id="4698" class="Symbol">→</a> <a id="4700" href="Ledger.GovernanceActions.html#1004" class="Datatype">GovRole</a> <a id="4708" class="Symbol">→</a> <a id="4710" href="Agda.Builtin.Maybe.html#118" class="Datatype">Maybe</a> <a id="4716" href="Data.Rational.Base.html#1287" class="Record">ℚ</a>
<a id="4718" href="Ledger.GovernanceActions.html#4656" class="Function">threshold</a> <a id="4728" href="Ledger.GovernanceActions.html#4728" class="Bound">pp</a> <a id="4731" href="Ledger.GovernanceActions.html#4731" class="Bound">ccThreshold&#39;</a> <a id="4744" class="Symbol">=</a> <a id="4746" class="Symbol">λ</a> <a id="4748" class="Keyword">where</a>
    <a id="4758" href="Ledger.GovernanceActions.html#1286" class="InductiveConstructor">NoConfidence</a>           <a id="4781" class="Symbol">→</a> <a id="4783" href="Ledger.GovernanceActions.html#4528" class="Function Operator">⟨</a> <a id="4785" href="Ledger.GovernanceActions.html#6114" class="Function">noVote</a>            <a id="4803" href="Ledger.GovernanceActions.html#4528" class="Function Operator">,</a> <a id="4805" href="Ledger.GovernanceActions.html#6157" class="Function">vote</a> <a id="4810" href="Ledger.PParams.html#913" class="Function">P1</a>      <a id="4818" href="Ledger.GovernanceActions.html#4528" class="Function Operator">,</a> <a id="4820" href="Ledger.GovernanceActions.html#6157" class="Function">vote</a> <a id="4825" href="Ledger.PParams.html#996" class="Function">Q1</a> <a id="4828" href="Ledger.GovernanceActions.html#4528" class="Function Operator">⟩</a>
    <a id="4834" class="Symbol">(</a><a id="4835" href="Ledger.GovernanceActions.html#1358" class="InductiveConstructor">NewCommittee</a> <a id="4848" class="Symbol">_</a> <a id="4850" class="Symbol">_</a> <a id="4852" class="Symbol">_)</a>   <a id="4857" class="Symbol">→</a> <a id="4859" href="Function.Base.html#4053" class="Function Operator">case</a> <a id="4864" href="Ledger.GovernanceActions.html#4731" class="Bound">ccThreshold&#39;</a> <a id="4877" href="Function.Base.html#4053" class="Function Operator">of</a> <a id="4880" class="Symbol">λ</a> <a id="4882" class="Keyword">where</a>
      <a id="4894" class="Symbol">(</a><a id="4895" href="Agda.Builtin.Maybe.html#156" class="InductiveConstructor">just</a> <a id="4900" class="Symbol">_)</a>             <a id="4915" class="Symbol">→</a> <a id="4917" href="Ledger.GovernanceActions.html#4528" class="Function Operator">⟨</a> <a id="4919" href="Ledger.GovernanceActions.html#6114" class="Function">noVote</a>            <a id="4937" href="Ledger.GovernanceActions.html#4528" class="Function Operator">,</a> <a id="4939" href="Ledger.GovernanceActions.html#6157" class="Function">vote</a> <a id="4944" href="Ledger.PParams.html#916" class="Function">P2a</a>     <a id="4952" href="Ledger.GovernanceActions.html#4528" class="Function Operator">,</a> <a id="4954" href="Ledger.GovernanceActions.html#6157" class="Function">vote</a> <a id="4959" href="Ledger.PParams.html#999" class="Function">Q2a</a> <a id="4963" href="Ledger.GovernanceActions.html#4528" class="Function Operator">⟩</a>
      <a id="4971" href="Agda.Builtin.Maybe.html#177" class="InductiveConstructor">nothing</a>              <a id="4992" class="Symbol">→</a> <a id="4994" href="Ledger.GovernanceActions.html#4528" class="Function Operator">⟨</a> <a id="4996" href="Ledger.GovernanceActions.html#6114" class="Function">noVote</a>            <a id="5014" href="Ledger.GovernanceActions.html#4528" class="Function Operator">,</a> <a id="5016" href="Ledger.GovernanceActions.html#6157" class="Function">vote</a> <a id="5021" href="Ledger.PParams.html#920" class="Function">P2b</a>     <a id="5029" href="Ledger.GovernanceActions.html#4528" class="Function Operator">,</a> <a id="5031" href="Ledger.GovernanceActions.html#6157" class="Function">vote</a> <a id="5036" href="Ledger.PParams.html#1003" class="Function">Q2b</a> <a id="5040" href="Ledger.GovernanceActions.html#4528" class="Function Operator">⟩</a>
    <a id="5046" class="Symbol">(</a><a id="5047" href="Ledger.GovernanceActions.html#1430" class="InductiveConstructor">NewConstitution</a> <a id="5063" class="Symbol">_</a> <a id="5065" class="Symbol">_)</a>  <a id="5069" class="Symbol">→</a> <a id="5071" href="Ledger.GovernanceActions.html#4528" class="Function Operator">⟨</a> <a id="5073" href="Ledger.GovernanceActions.html#6157" class="Function">vote</a> <a id="5078" href="Ledger.GovernanceActions.html#5703" class="Function">ccThreshold</a>  <a id="5091" href="Ledger.GovernanceActions.html#4528" class="Function Operator">,</a> <a id="5093" href="Ledger.GovernanceActions.html#6157" class="Function">vote</a> <a id="5098" href="Ledger.PParams.html#924" class="Function">P3</a>      <a id="5106" href="Ledger.GovernanceActions.html#4528" class="Function Operator">,</a> <a id="5108" href="Ledger.GovernanceActions.html#6114" class="Function">noVote</a> <a id="5115" href="Ledger.GovernanceActions.html#4528" class="Function Operator">⟩</a>
    <a id="5121" class="Symbol">(</a><a id="5122" href="Ledger.GovernanceActions.html#1502" class="InductiveConstructor">TriggerHF</a> <a id="5132" class="Symbol">_)</a>          <a id="5144" class="Symbol">→</a> <a id="5146" href="Ledger.GovernanceActions.html#4528" class="Function Operator">⟨</a> <a id="5148" href="Ledger.GovernanceActions.html#6157" class="Function">vote</a> <a id="5153" href="Ledger.GovernanceActions.html#5703" class="Function">ccThreshold</a>  <a id="5166" href="Ledger.GovernanceActions.html#4528" class="Function Operator">,</a> <a id="5168" href="Ledger.GovernanceActions.html#6157" class="Function">vote</a> <a id="5173" href="Ledger.PParams.html#927" class="Function">P4</a>      <a id="5181" href="Ledger.GovernanceActions.html#4528" class="Function Operator">,</a> <a id="5183" href="Ledger.GovernanceActions.html#6157" class="Function">vote</a> <a id="5188" href="Ledger.PParams.html#1007" class="Function">Q4</a> <a id="5191" href="Ledger.GovernanceActions.html#4528" class="Function Operator">⟩</a>
    <a id="5197" class="Symbol">(</a><a id="5198" href="Ledger.GovernanceActions.html#1574" class="InductiveConstructor">ChangePParams</a> <a id="5212" href="Ledger.GovernanceActions.html#5212" class="Bound">x</a><a id="5213" class="Symbol">)</a>      <a id="5220" class="Symbol">→</a> <a id="5222" href="Ledger.GovernanceActions.html#4528" class="Function Operator">⟨</a> <a id="5224" href="Ledger.GovernanceActions.html#6157" class="Function">vote</a> <a id="5229" href="Ledger.GovernanceActions.html#5703" class="Function">ccThreshold</a>  <a id="5242" href="Ledger.GovernanceActions.html#4528" class="Function Operator">,</a> <a id="5244" href="Ledger.GovernanceActions.html#6157" class="Function">vote</a> <a id="5249" class="Symbol">(</a><a id="5250" href="Ledger.GovernanceActions.html#6023" class="Function">P5</a> <a id="5253" href="Ledger.GovernanceActions.html#5212" class="Bound">x</a><a id="5254" class="Symbol">)</a>  <a id="5257" href="Ledger.GovernanceActions.html#4528" class="Function Operator">,</a> <a id="5259" href="Ledger.GovernanceActions.html#6114" class="Function">noVote</a> <a id="5266" href="Ledger.GovernanceActions.html#4528" class="Function Operator">⟩</a>
    <a id="5272" class="Symbol">(</a><a id="5273" href="Ledger.GovernanceActions.html#1646" class="InductiveConstructor">TreasuryWdrl</a> <a id="5286" class="Symbol">_)</a>       <a id="5295" class="Symbol">→</a> <a id="5297" href="Ledger.GovernanceActions.html#4528" class="Function Operator">⟨</a> <a id="5299" href="Ledger.GovernanceActions.html#6157" class="Function">vote</a> <a id="5304" href="Ledger.GovernanceActions.html#5703" class="Function">ccThreshold</a>  <a id="5317" href="Ledger.GovernanceActions.html#4528" class="Function Operator">,</a> <a id="5319" href="Ledger.GovernanceActions.html#6157" class="Function">vote</a> <a id="5324" href="Ledger.PParams.html#946" class="Function">P6</a>      <a id="5332" href="Ledger.GovernanceActions.html#4528" class="Function Operator">,</a> <a id="5334" href="Ledger.GovernanceActions.html#6114" class="Function">noVote</a> <a id="5341" href="Ledger.GovernanceActions.html#4528" class="Function Operator">⟩</a>
    <a id="5347" href="Ledger.GovernanceActions.html#1718" class="InductiveConstructor">Info</a>                   <a id="5370" class="Symbol">→</a> <a id="5372" href="Ledger.GovernanceActions.html#4528" class="Function Operator">⟨</a> <a id="5374" href="Ledger.GovernanceActions.html#6157" class="Function">vote</a> <a id="5379" href="Ledger.GovernanceActions.html#767" class="Function">2ℚ</a>           <a id="5392" href="Ledger.GovernanceActions.html#4528" class="Function Operator">,</a> <a id="5394" href="Ledger.GovernanceActions.html#6157" class="Function">vote</a> <a id="5399" href="Ledger.GovernanceActions.html#767" class="Function">2ℚ</a>      <a id="5407" href="Ledger.GovernanceActions.html#4528" class="Function Operator">,</a> <a id="5409" href="Ledger.GovernanceActions.html#6157" class="Function">vote</a> <a id="5414" href="Ledger.GovernanceActions.html#767" class="Function">2ℚ</a> <a id="5417" href="Ledger.GovernanceActions.html#4528" class="Function Operator">⟩</a>
  <a id="5421" class="Keyword">where</a>
    <a id="5431" class="Keyword">open</a> <a id="5436" href="Ledger.PParams.html#1022" class="Module">PParams</a> <a id="5444" href="Ledger.GovernanceActions.html#4728" class="Bound">pp</a>
    <a id="5451" class="Keyword">open</a> <a id="5456" href="Ledger.PParams.html#878" class="Module">DrepThresholds</a> <a id="5471" href="Ledger.PParams.html#1924" class="Function">drepThresholds</a>
    <a id="5490" class="Keyword">open</a> <a id="5495" href="Ledger.PParams.html#961" class="Module">PoolThresholds</a> <a id="5510" href="Ledger.PParams.html#1968" class="Function">poolThresholds</a>

    <a id="5530" class="Comment">-- Here, 2 can just be any number strictly greater than one. It just</a>
    <a id="5603" class="Comment">-- means that a threshold can never be cleared, i.e. that the action</a>
    <a id="5676" class="Comment">-- cannot be enacted.</a>

    <a id="5703" href="Ledger.GovernanceActions.html#5703" class="Function">ccThreshold</a> <a id="5715" class="Symbol">:</a> <a id="5717" href="Data.Rational.Base.html#1287" class="Record">ℚ</a>
    <a id="5723" href="Ledger.GovernanceActions.html#5703" class="Function">ccThreshold</a> <a id="5735" class="Symbol">=</a> <a id="5737" href="Function.Base.html#4053" class="Function Operator">case</a> <a id="5742" href="Ledger.GovernanceActions.html#4731" class="Bound">ccThreshold&#39;</a> <a id="5755" href="Function.Base.html#4053" class="Function Operator">of</a> <a id="5758" class="Symbol">λ</a> <a id="5760" class="Keyword">where</a>
      <a id="5772" class="Symbol">(</a><a id="5773" href="Agda.Builtin.Maybe.html#156" class="InductiveConstructor">just</a> <a id="5778" href="Ledger.GovernanceActions.html#5778" class="Bound">x</a><a id="5779" class="Symbol">)</a>  <a id="5782" class="Symbol">→</a> <a id="5784" href="Ledger.GovernanceActions.html#5778" class="Bound">x</a>
      <a id="5792" href="Agda.Builtin.Maybe.html#177" class="InductiveConstructor">nothing</a>   <a id="5802" class="Symbol">→</a> <a id="5804" href="Ledger.GovernanceActions.html#767" class="Function">2ℚ</a>

    <a id="5812" href="Ledger.GovernanceActions.html#5812" class="Function">pparamThreshold</a> <a id="5828" class="Symbol">:</a> <a id="5830" href="Ledger.PParams.html#772" class="Datatype">PParamGroup</a> <a id="5842" class="Symbol">→</a> <a id="5844" href="Data.Rational.Base.html#1287" class="Record">ℚ</a>
    <a id="5850" href="Ledger.GovernanceActions.html#5812" class="Function">pparamThreshold</a> <a id="5866" href="Ledger.PParams.html#798" class="InductiveConstructor">NetworkGroup</a>     <a id="5883" class="Symbol">=</a> <a id="5885" href="Ledger.PParams.html#930" class="Function">P5a</a>
    <a id="5893" href="Ledger.GovernanceActions.html#5812" class="Function">pparamThreshold</a> <a id="5909" href="Ledger.PParams.html#811" class="InductiveConstructor">EconomicGroup</a>    <a id="5926" class="Symbol">=</a> <a id="5928" href="Ledger.PParams.html#934" class="Function">P5b</a>
    <a id="5936" href="Ledger.GovernanceActions.html#5812" class="Function">pparamThreshold</a> <a id="5952" href="Ledger.PParams.html#825" class="InductiveConstructor">TechnicalGroup</a>   <a id="5969" class="Symbol">=</a> <a id="5971" href="Ledger.PParams.html#938" class="Function">P5c</a>
    <a id="5979" href="Ledger.GovernanceActions.html#5812" class="Function">pparamThreshold</a> <a id="5995" href="Ledger.PParams.html#840" class="InductiveConstructor">GovernanceGroup</a>  <a id="6012" class="Symbol">=</a> <a id="6014" href="Ledger.PParams.html#942" class="Function">P5d</a>

    <a id="6023" href="Ledger.GovernanceActions.html#6023" class="Function">P5</a> <a id="6026" class="Symbol">:</a> <a id="6028" href="Ledger.PParams.html#5248" class="Function">PParamsUpdate</a> <a id="6042" class="Symbol">→</a> <a id="6044" href="Data.Rational.Base.html#1287" class="Record">ℚ</a>
    <a id="6050" href="Ledger.GovernanceActions.html#6023" class="Function">P5</a> <a id="6053" href="Ledger.GovernanceActions.html#6053" class="Bound">ppu</a> <a id="6057" class="Symbol">=</a> <a id="6059" href="Ledger.GovernanceActions.html#826" class="Function">maximum</a> <a id="6067" href="Function.Base.html#1994" class="Function Operator">$</a> <a id="6069" href="Ledger.Prelude.html#1544" class="Function">mapˢ</a> <a id="6074" href="Ledger.GovernanceActions.html#5812" class="Function">pparamThreshold</a> <a id="6090" class="Symbol">(</a><a id="6091" href="Ledger.PParams.html#4826" class="Function">updateGroups</a> <a id="6104" href="Ledger.GovernanceActions.html#6053" class="Bound">ppu</a><a id="6107" class="Symbol">)</a>

    <a id="6114" href="Ledger.GovernanceActions.html#6114" class="Function">noVote</a> <a id="6121" class="Symbol">:</a> <a id="6123" href="Agda.Builtin.Maybe.html#118" class="Datatype">Maybe</a> <a id="6129" href="Data.Rational.Base.html#1287" class="Record">ℚ</a>
    <a id="6135" href="Ledger.GovernanceActions.html#6114" class="Function">noVote</a> <a id="6142" class="Symbol">=</a> <a id="6144" href="Agda.Builtin.Maybe.html#177" class="InductiveConstructor">nothing</a>

    <a id="6157" href="Ledger.GovernanceActions.html#6157" class="Function">vote</a> <a id="6162" class="Symbol">:</a> <a id="6164" href="Data.Rational.Base.html#1287" class="Record">ℚ</a> <a id="6166" class="Symbol">→</a> <a id="6168" href="Agda.Builtin.Maybe.html#118" class="Datatype">Maybe</a> <a id="6174" href="Data.Rational.Base.html#1287" class="Record">ℚ</a>
    <a id="6180" href="Ledger.GovernanceActions.html#6157" class="Function">vote</a> <a id="6185" class="Symbol">=</a> <a id="6187" href="Agda.Builtin.Maybe.html#156" class="InductiveConstructor">just</a>

<a id="6193" class="Comment">-- TODO: this doesn&#39;t actually depend on PParams so we could remove that argument,</a>
<a id="6276" class="Comment">--       but we don&#39;t have a default ATM</a>
<a id="canVote"></a><a id="6317" href="Ledger.GovernanceActions.html#6317" class="Function">canVote</a> <a id="6325" class="Symbol">:</a> <a id="6327" href="Ledger.PParams.html#1022" class="Record">PParams</a> <a id="6335" class="Symbol">→</a> <a id="6337" href="Ledger.GovernanceActions.html#1262" class="Datatype">GovAction</a> <a id="6347" class="Symbol">→</a> <a id="6349" href="Ledger.GovernanceActions.html#1004" class="Datatype">GovRole</a> <a id="6357" class="Symbol">→</a> <a id="6359" href="Agda.Primitive.html#320" class="Primitive">Set</a>
<a id="6363" href="Ledger.GovernanceActions.html#6317" class="Function">canVote</a> <a id="6371" href="Ledger.GovernanceActions.html#6371" class="Bound">pp</a> <a id="6374" href="Ledger.GovernanceActions.html#6374" class="Bound">a</a> <a id="6376" href="Ledger.GovernanceActions.html#6376" class="Bound">r</a> <a id="6378" class="Symbol">=</a> <a id="6380" href="Data.Maybe.html#801" class="Function">Is-just</a> <a id="6388" class="Symbol">(</a><a id="6389" href="Ledger.GovernanceActions.html#4656" class="Function">threshold</a> <a id="6399" href="Ledger.GovernanceActions.html#6371" class="Bound">pp</a> <a id="6402" href="Agda.Builtin.Maybe.html#177" class="InductiveConstructor">nothing</a> <a id="6410" href="Ledger.GovernanceActions.html#6374" class="Bound">a</a> <a id="6412" href="Ledger.GovernanceActions.html#6376" class="Bound">r</a><a id="6413" class="Symbol">)</a>
<a id="6415" class="Markup">\end{code}</a><a id="6425" class="Background">
\caption{Functions related to voting}
\label{fig:voting-defs}
\end{figure*}
\subsection{Voting and ratification}
\label{sec:voting-and-ratification}
Every governance action must be ratified by at least two of these three bodies using their on-chain \defn{votes}.
The type of action and the state of the governance system determines which bodies must ratify it.
Ratified actions are then \defn{enacted} on-chain, following a set of rules (see Section~\ref{sec:enactment} and Figure~\ref{fig:enactment-types}).
\begin{figure*}[h]
{\small
</a><a id="6962" class="Markup">\begin{code}</a>
<a id="NeedsHash"></a><a id="6975" href="Ledger.GovernanceActions.html#6975" class="Function">NeedsHash</a> <a id="6985" class="Symbol">:</a> <a id="6987" href="Ledger.GovernanceActions.html#1262" class="Datatype">GovAction</a> <a id="6997" class="Symbol">→</a> <a id="6999" href="Agda.Primitive.html#320" class="Primitive">Set</a>
<a id="7003" href="Ledger.GovernanceActions.html#6975" class="Function">NeedsHash</a> <a id="7013" href="Ledger.GovernanceActions.html#1286" class="InductiveConstructor">NoConfidence</a>           <a id="7036" class="Symbol">=</a> <a id="7038" href="Ledger.GovernanceActions.html#957" class="Function">GovActionID</a>
<a id="7050" href="Ledger.GovernanceActions.html#6975" class="Function">NeedsHash</a> <a id="7060" class="Symbol">(</a><a id="7061" href="Ledger.GovernanceActions.html#1358" class="InductiveConstructor">NewCommittee</a> <a id="7074" class="Symbol">_</a> <a id="7076" class="Symbol">_</a> <a id="7078" class="Symbol">_)</a>   <a id="7083" class="Symbol">=</a> <a id="7085" href="Ledger.GovernanceActions.html#957" class="Function">GovActionID</a>
<a id="7097" href="Ledger.GovernanceActions.html#6975" class="Function">NeedsHash</a> <a id="7107" class="Symbol">(</a><a id="7108" href="Ledger.GovernanceActions.html#1430" class="InductiveConstructor">NewConstitution</a> <a id="7124" class="Symbol">_</a> <a id="7126" class="Symbol">_)</a>  <a id="7130" class="Symbol">=</a> <a id="7132" href="Ledger.GovernanceActions.html#957" class="Function">GovActionID</a>
<a id="7144" href="Ledger.GovernanceActions.html#6975" class="Function">NeedsHash</a> <a id="7154" class="Symbol">(</a><a id="7155" href="Ledger.GovernanceActions.html#1502" class="InductiveConstructor">TriggerHF</a> <a id="7165" class="Symbol">_)</a>          <a id="7177" class="Symbol">=</a> <a id="7179" href="Ledger.GovernanceActions.html#957" class="Function">GovActionID</a>
<a id="7191" href="Ledger.GovernanceActions.html#6975" class="Function">NeedsHash</a> <a id="7201" class="Symbol">(</a><a id="7202" href="Ledger.GovernanceActions.html#1574" class="InductiveConstructor">ChangePParams</a> <a id="7216" class="Symbol">_)</a>      <a id="7224" class="Symbol">=</a> <a id="7226" href="Ledger.GovernanceActions.html#957" class="Function">GovActionID</a>
<a id="7238" href="Ledger.GovernanceActions.html#6975" class="Function">NeedsHash</a> <a id="7248" class="Symbol">(</a><a id="7249" href="Ledger.GovernanceActions.html#1646" class="InductiveConstructor">TreasuryWdrl</a> <a id="7262" class="Symbol">_)</a>       <a id="7271" class="Symbol">=</a> <a id="7273" href="Agda.Builtin.Unit.html#158" class="Record">⊤</a>
<a id="7275" href="Ledger.GovernanceActions.html#6975" class="Function">NeedsHash</a> <a id="7285" href="Ledger.GovernanceActions.html#1718" class="InductiveConstructor">Info</a>                   <a id="7308" class="Symbol">=</a> <a id="7310" href="Agda.Builtin.Unit.html#158" class="Record">⊤</a>

<a id="HashProtected"></a><a id="7313" href="Ledger.GovernanceActions.html#7313" class="Function">HashProtected</a> <a id="7327" class="Symbol">:</a> <a id="7329" href="Agda.Primitive.html#320" class="Primitive">Set</a> <a id="7333" class="Symbol">→</a> <a id="7335" href="Agda.Primitive.html#320" class="Primitive">Set</a>
<a id="7339" href="Ledger.GovernanceActions.html#7313" class="Function">HashProtected</a> <a id="7353" href="Ledger.GovernanceActions.html#7353" class="Bound">A</a> <a id="7355" class="Symbol">=</a> <a id="7357" href="Ledger.GovernanceActions.html#7353" class="Bound">A</a> <a id="7359" href="Data.Product.Base.html#1109" class="Function Operator">×</a> <a id="7361" href="Ledger.GovernanceActions.html#957" class="Function">GovActionID</a>
<a id="7373" class="Markup">\end{code}</a><a id="7383" class="Background">
} %% end small
\caption{NeedsHash and HashProtected types}
\label{fig:needshash-and-hashprotected-types}
\end{figure*}
Figure~\ref{fig:needshash-and-hashprotected-types} defines types that are used in
ratification (for verifyPrev) where we check that the stored hash matches the one
attached to the action we want to ratify.
\begin{itemize}
\item
  \defn{Ratification}. An action is said to be \defn{ratified} when it gathers enough votes in its favor
  (according to the rules described in Section~\ref{sec:ratification}).
\item
  \defn{Expiration}. An action that doesn&#39;t collect sufficient `yes&#39; votes before its deadline is said to have \defn{expired}.
\item
  \defn{Enactment}. An action that has been ratified is said to be \defn{enacted} once it has been activated on the network.
\end{itemize}
See Section~\ref{sec:ratification} for more on the ratification process.

\begin{figure*}[h]
{\small
</a><a id="8287" class="Markup">\begin{code}</a>
<a id="8300" class="Keyword">data</a> <a id="Vote"></a><a id="8305" href="Ledger.GovernanceActions.html#8305" class="Datatype">Vote</a> <a id="8310" class="Symbol">:</a> <a id="8312" href="Agda.Primitive.html#320" class="Primitive">Set</a> <a id="8316" class="Keyword">where</a>
  <a id="Vote.yes"></a><a id="8324" href="Ledger.GovernanceActions.html#8324" class="InductiveConstructor">yes</a> <a id="Vote.no"></a><a id="8328" href="Ledger.GovernanceActions.html#8328" class="InductiveConstructor">no</a> <a id="Vote.abstain"></a><a id="8331" href="Ledger.GovernanceActions.html#8331" class="InductiveConstructor">abstain</a>  <a id="8340" class="Symbol">:</a> <a id="8342" href="Ledger.GovernanceActions.html#8305" class="Datatype">Vote</a>

<a id="8348" class="Keyword">record</a> <a id="GovVote"></a><a id="8355" href="Ledger.GovernanceActions.html#8355" class="Record">GovVote</a> <a id="8363" class="Symbol">:</a> <a id="8365" href="Agda.Primitive.html#320" class="Primitive">Set</a> <a id="8369" class="Keyword">where</a>
  <a id="8377" class="Keyword">field</a> <a id="GovVote.gid"></a><a id="8383" href="Ledger.GovernanceActions.html#8383" class="Field">gid</a>         <a id="8395" class="Symbol">:</a> <a id="8397" href="Ledger.GovernanceActions.html#957" class="Function">GovActionID</a>
        <a id="GovVote.role"></a><a id="8417" href="Ledger.GovernanceActions.html#8417" class="Field">role</a>        <a id="8429" class="Symbol">:</a> <a id="8431" href="Ledger.GovernanceActions.html#1004" class="Datatype">GovRole</a>
        <a id="GovVote.credential"></a><a id="8447" href="Ledger.GovernanceActions.html#8447" class="Field">credential</a>  <a id="8459" class="Symbol">:</a> <a id="8461" href="Ledger.Address.html#713" class="Function">Credential</a>
        <a id="GovVote.vote"></a><a id="8480" href="Ledger.GovernanceActions.html#8480" class="Field">vote</a>        <a id="8492" class="Symbol">:</a> <a id="8494" href="Ledger.GovernanceActions.html#8305" class="Datatype">Vote</a>
        <a id="GovVote.anchor"></a><a id="8507" href="Ledger.GovernanceActions.html#8507" class="Field">anchor</a>      <a id="8519" class="Symbol">:</a> <a id="8521" href="Agda.Builtin.Maybe.html#118" class="Datatype">Maybe</a> <a id="8527" href="Ledger.GovernanceActions.html#1188" class="Record">Anchor</a>

<a id="8535" class="Keyword">record</a> <a id="GovProposal"></a><a id="8542" href="Ledger.GovernanceActions.html#8542" class="Record">GovProposal</a> <a id="8554" class="Symbol">:</a> <a id="8556" href="Agda.Primitive.html#320" class="Primitive">Set</a> <a id="8560" class="Keyword">where</a>
  <a id="8568" class="Keyword">field</a> <a id="GovProposal.returnAddr"></a><a id="8574" href="Ledger.GovernanceActions.html#8574" class="Field">returnAddr</a>  <a id="8586" class="Symbol">:</a> <a id="8588" href="Ledger.Address.html#1216" class="Record">RwdAddr</a>
        <a id="GovProposal.action"></a><a id="8604" href="Ledger.GovernanceActions.html#8604" class="Field">action</a>      <a id="8616" class="Symbol">:</a> <a id="8618" href="Ledger.GovernanceActions.html#1262" class="Datatype">GovAction</a>
        <a id="GovProposal.prevAction"></a><a id="8636" href="Ledger.GovernanceActions.html#8636" class="Field">prevAction</a>  <a id="8648" class="Symbol">:</a> <a id="8650" href="Ledger.GovernanceActions.html#6975" class="Function">NeedsHash</a> <a id="8660" href="Ledger.GovernanceActions.html#8604" class="Field">action</a>
        <a id="GovProposal.deposit"></a><a id="8675" href="Ledger.GovernanceActions.html#8675" class="Field">deposit</a>     <a id="8687" class="Symbol">:</a> <a id="8689" href="Ledger.Prelude.Base.html#81" class="Function">Coin</a>
        <a id="GovProposal.anchor"></a><a id="8702" href="Ledger.GovernanceActions.html#8702" class="Field">anchor</a>      <a id="8714" class="Symbol">:</a> <a id="8716" href="Ledger.GovernanceActions.html#1188" class="Record">Anchor</a>
<a id="8723" class="Markup">\end{code}</a><a id="8733" class="Background">
} %% end small
\caption{Governance action proposals and votes}
\label{defs:governance-votes}
\end{figure*}
The data type \Vote represents the different voting options: \yes, \no, or \abstain.
Each \vote is recorded in a \GovVote record along with the following data:
a governance action ID, a role, a credential, and possibly an anchor.

A \defn{governance action proposal} is recorded in a \GovProposal record which includes fields for
a return address, the proposed governance action, a hash of the previous governance action,
a deposit (required to propose a governance action)
and an anchor (see Figure~\ref{defs:governance-votes}).

To submit a governance action proposal to the chain one must provide a deposit which will be returned when
the action is finalized (whether it is \defn{ratified} or has \defn{expired}).
The deposit amount will be added to the \defn{deposit pot}, similar to stake key deposits. It will also be
counted towards the stake of the reward address it will be paid back to, to not reduce the submitter&#39;s
voting power to vote on their own (and competing) actions.
\\[4pt]
\textbf{Remarks}.
\begin{enumerate}
\item A motion of no-confidence is an extreme measure that enables Ada holders to revoke the power that has been granted to the current constitutional committee.
\item A \emph{single} governance action might contain \emph{multiple} protocol parameter updates. Many parameters are inter-connected and might require moving in lockstep.
\end{enumerate}

\subsection{Protocol parameters and governance actions}
\label{sec:protocol-parameters-and-governance-actions}
Recall from Section~\ref{sec:protocol-parameters}, parameters used in the Cardano ledger are grouped according to
the general purpose that each parameter serves (see Figure~\ref{fig:protocol-parameter-declarations}).
Specifically, we have \NetworkGroup, \EconomicGroup, \TechnicalGroup, and \GovernanceGroup.
This allows voting/ratification thresholds to be set by group, though we do not require that each protocol
parameter governance action be confined to a single group. In case a governance action carries updates
for multiple parameters from different groups, the maximum threshold of all the groups involved will
apply to any given such governance action.

\subsection{Enactment}
\label{sec:enactment}
\defn{Enactment} of a governance action is carried out as an \defn{enact transition}
which requires an \defn{enact environment}, an \defn{enact state}
representing the existing state (prior to enactment), the voted on
governance action (that achieved enough votes to enact), and the state that results from enacting the given
governance action (see Figure~\ref{fig:enactment-types}).

A record of type \EnactEnv represents the environment for enacting a governance action.
A record of type \EnactState represents the state for enacting a governance action.
The latter contains fields for the constitutional committee, constitution,
protocol version, protocol parameters, withdrawals from treasury, and treasury balance.
\begin{figure*}[h]
{\small
</a><a id="11789" class="Markup">\begin{code}</a>
<a id="11802" class="Keyword">record</a> <a id="EnactEnv"></a><a id="11809" href="Ledger.GovernanceActions.html#11809" class="Record">EnactEnv</a> <a id="11818" class="Symbol">:</a> <a id="11820" href="Agda.Primitive.html#320" class="Primitive">Set</a> <a id="11824" class="Keyword">where</a>
  <a id="11832" class="Keyword">constructor</a> <a id="⟦_,_,_⟧ᵉ"></a><a id="11844" href="Ledger.GovernanceActions.html#11844" class="InductiveConstructor Operator">⟦_,_,_⟧ᵉ</a>
  <a id="11855" class="Keyword">field</a> <a id="EnactEnv.gid"></a><a id="11861" href="Ledger.GovernanceActions.html#11861" class="Field">gid</a>       <a id="11871" class="Symbol">:</a> <a id="11873" href="Ledger.GovernanceActions.html#957" class="Function">GovActionID</a>
        <a id="EnactEnv.treasury"></a><a id="11893" href="Ledger.GovernanceActions.html#11893" class="Field">treasury</a>  <a id="11903" class="Symbol">:</a> <a id="11905" href="Ledger.Prelude.Base.html#81" class="Function">Coin</a>
        <a id="EnactEnv.epoch"></a><a id="11918" href="Ledger.GovernanceActions.html#11918" class="Field">epoch</a>     <a id="11928" class="Symbol">:</a> <a id="11930" href="Ledger.Epoch.html#502" class="Function">Epoch</a>

<a id="11937" class="Keyword">record</a> <a id="EnactState"></a><a id="11944" href="Ledger.GovernanceActions.html#11944" class="Record">EnactState</a> <a id="11955" class="Symbol">:</a> <a id="11957" href="Agda.Primitive.html#320" class="Primitive">Set</a> <a id="11961" class="Keyword">where</a>
  <a id="11969" class="Keyword">field</a> <a id="EnactState.cc"></a><a id="11975" href="Ledger.GovernanceActions.html#11975" class="Field">cc</a>            <a id="11989" class="Symbol">:</a> <a id="11991" href="Ledger.GovernanceActions.html#7313" class="Function">HashProtected</a> <a id="12005" class="Symbol">(</a><a id="12006" href="Agda.Builtin.Maybe.html#118" class="Datatype">Maybe</a> <a id="12012" class="Symbol">(</a><a id="12013" href="Ledger.Address.html#713" class="Function">Credential</a> <a id="12024" href="Ledger.Prelude.html#2629" class="Function Operator">⇀</a> <a id="12026" href="Ledger.Epoch.html#502" class="Function">Epoch</a> <a id="12032" href="Data.Product.Base.html#1109" class="Function Operator">×</a> <a id="12034" href="Data.Rational.Base.html#1287" class="Record">ℚ</a><a id="12035" class="Symbol">))</a>
        <a id="EnactState.constitution"></a><a id="12046" href="Ledger.GovernanceActions.html#12046" class="Field">constitution</a>  <a id="12060" class="Symbol">:</a> <a id="12062" href="Ledger.GovernanceActions.html#7313" class="Function">HashProtected</a> <a id="12076" class="Symbol">(</a><a id="12077" href="Ledger.GovStructure.html#215" class="Field">DocHash</a> <a id="12085" href="Data.Product.Base.html#1109" class="Function Operator">×</a> <a id="12087" href="Agda.Builtin.Maybe.html#118" class="Datatype">Maybe</a> <a id="12093" href="Ledger.Crypto.html#1632" class="Function">ScriptHash</a><a id="12103" class="Symbol">)</a>
        <a id="EnactState.pv"></a><a id="12113" href="Ledger.GovernanceActions.html#12113" class="Field">pv</a>            <a id="12127" class="Symbol">:</a> <a id="12129" href="Ledger.GovernanceActions.html#7313" class="Function">HashProtected</a> <a id="12143" href="Ledger.PParams.html#678" class="Function">ProtVer</a>
        <a id="EnactState.pparams"></a><a id="12159" href="Ledger.GovernanceActions.html#12159" class="Field">pparams</a>       <a id="12173" class="Symbol">:</a> <a id="12175" href="Ledger.GovernanceActions.html#7313" class="Function">HashProtected</a> <a id="12189" href="Ledger.PParams.html#1022" class="Record">PParams</a>
        <a id="EnactState.withdrawals"></a><a id="12205" href="Ledger.GovernanceActions.html#12205" class="Field">withdrawals</a>   <a id="12219" class="Symbol">:</a> <a id="12221" href="Ledger.Address.html#1216" class="Record">RwdAddr</a> <a id="12229" href="Ledger.Prelude.html#2629" class="Function Operator">⇀</a> <a id="12231" href="Ledger.Prelude.Base.html#81" class="Function">Coin</a>

<a id="ccCreds"></a><a id="12237" href="Ledger.GovernanceActions.html#12237" class="Function">ccCreds</a> <a id="12245" class="Symbol">:</a> <a id="12247" href="Ledger.GovernanceActions.html#7313" class="Function">HashProtected</a> <a id="12261" class="Symbol">(</a><a id="12262" href="Agda.Builtin.Maybe.html#118" class="Datatype">Maybe</a> <a id="12268" class="Symbol">(</a><a id="12269" href="Ledger.Address.html#713" class="Function">Credential</a> <a id="12280" href="Ledger.Prelude.html#2629" class="Function Operator">⇀</a> <a id="12282" href="Ledger.Epoch.html#502" class="Function">Epoch</a> <a id="12288" href="Data.Product.Base.html#1109" class="Function Operator">×</a> <a id="12290" href="Data.Rational.Base.html#1287" class="Record">ℚ</a><a id="12291" class="Symbol">))</a> <a id="12294" class="Symbol">→</a> <a id="12296" href="Ledger.Prelude.html#1514" class="Function Operator">ℙ</a> <a id="12298" href="Ledger.Address.html#713" class="Function">Credential</a>
<a id="12309" href="Ledger.GovernanceActions.html#12237" class="Function">ccCreds</a> <a id="12317" class="Symbol">(</a><a id="12318" href="Agda.Builtin.Maybe.html#156" class="InductiveConstructor">just</a> <a id="12323" href="Ledger.GovernanceActions.html#12323" class="Bound">x</a>  <a id="12326" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="12328" class="Symbol">_)</a>  <a id="12332" class="Symbol">=</a> <a id="12334" href="Interface.IsSet.html#794" class="Function">dom</a> <a id="12338" class="Symbol">(</a><a id="12339" href="Ledger.GovernanceActions.html#12323" class="Bound">x</a> <a id="12341" class="Symbol">.</a><a id="12342" href="Data.Product.Base.html#608" class="Field">proj₁</a><a id="12347" class="Symbol">)</a>
<a id="12349" href="Ledger.GovernanceActions.html#12237" class="Function">ccCreds</a> <a id="12357" class="Symbol">(</a><a id="12358" href="Agda.Builtin.Maybe.html#177" class="InductiveConstructor">nothing</a> <a id="12366" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="12368" class="Symbol">_)</a>  <a id="12372" class="Symbol">=</a> <a id="12374" href="Axiom.Set.html#5746" class="Function">∅</a>
<a id="12376" class="Markup">\end{code}</a><a id="12386" class="Background">
} %% end small
\caption{Enactment types}
\label{fig:enactment-types}
\end{figure*}
</a><a id="12470" class="Markup">\begin{code}[hide]</a>
<a id="12489" class="Keyword">open</a> <a id="12494" href="Ledger.GovernanceActions.html#11944" class="Module">EnactState</a>

<a id="12506" class="Keyword">private</a> <a id="12514" class="Keyword">variable</a>
  <a id="12525" href="Ledger.GovernanceActions.html#12525" class="Generalizable">s</a> <a id="12527" class="Symbol">:</a> <a id="12529" href="Ledger.GovernanceActions.html#11944" class="Record">EnactState</a>
  <a id="12542" href="Ledger.GovernanceActions.html#12542" class="Generalizable">up</a> <a id="12545" class="Symbol">:</a> <a id="12547" href="Ledger.PParams.html#5248" class="Function">PParamsUpdate</a>
  <a id="12563" href="Ledger.GovernanceActions.html#12563" class="Generalizable">new</a> <a id="12567" class="Symbol">:</a> <a id="12569" href="Ledger.Address.html#713" class="Function">Credential</a> <a id="12580" href="Ledger.Prelude.html#2629" class="Function Operator">⇀</a> <a id="12582" href="Ledger.Epoch.html#502" class="Function">Epoch</a>
  <a id="12590" href="Ledger.GovernanceActions.html#12590" class="Generalizable">rem</a> <a id="12594" class="Symbol">:</a> <a id="12596" href="Ledger.Prelude.html#1514" class="Function Operator">ℙ</a> <a id="12598" href="Ledger.Address.html#713" class="Function">Credential</a>
  <a id="12611" href="Ledger.GovernanceActions.html#12611" class="Generalizable">q</a> <a id="12613" class="Symbol">:</a> <a id="12615" href="Data.Rational.Base.html#1287" class="Record">ℚ</a>
  <a id="12619" href="Ledger.GovernanceActions.html#12619" class="Generalizable">dh</a> <a id="12622" class="Symbol">:</a> <a id="12624" href="Ledger.GovStructure.html#215" class="Field">DocHash</a>
  <a id="12634" href="Ledger.GovernanceActions.html#12634" class="Generalizable">sh</a> <a id="12637" class="Symbol">:</a> <a id="12639" href="Agda.Builtin.Maybe.html#118" class="Datatype">Maybe</a> <a id="12645" href="Ledger.Crypto.html#1632" class="Function">ScriptHash</a>
  <a id="12658" href="Ledger.GovernanceActions.html#12658" class="Generalizable">h</a> <a id="12660" class="Symbol">:</a> <a id="12662" href="Ledger.PParams.html#5374" class="Function">PPHash</a>
  <a id="12671" href="Ledger.GovernanceActions.html#12671" class="Generalizable">v</a> <a id="12673" class="Symbol">:</a> <a id="12675" href="Ledger.PParams.html#678" class="Function">ProtVer</a>
  <a id="12685" href="Ledger.GovernanceActions.html#12685" class="Generalizable">wdrl</a> <a id="12690" class="Symbol">:</a> <a id="12692" href="Ledger.Address.html#1216" class="Record">RwdAddr</a> <a id="12700" href="Ledger.Prelude.html#2629" class="Function Operator">⇀</a> <a id="12702" href="Ledger.Prelude.Base.html#81" class="Function">Coin</a>
  <a id="12709" href="Ledger.GovernanceActions.html#12709" class="Generalizable">t</a> <a id="12711" class="Symbol">:</a> <a id="12713" href="Ledger.Prelude.Base.html#81" class="Function">Coin</a>
  <a id="12720" href="Ledger.GovernanceActions.html#12720" class="Generalizable">gid</a> <a id="12724" class="Symbol">:</a> <a id="12726" href="Ledger.GovernanceActions.html#957" class="Function">GovActionID</a>
  <a id="12740" href="Ledger.GovernanceActions.html#12740" class="Generalizable">e</a> <a id="12742" class="Symbol">:</a> <a id="12744" href="Ledger.Epoch.html#502" class="Function">Epoch</a>

<a id="12751" class="Keyword">instance</a>
  <a id="12762" href="Ledger.GovernanceActions.html#12762" class="Function">_</a> <a id="12764" class="Symbol">=</a> <a id="12766" href="Data.Nat.Properties.html#16387" class="Function">+-0-monoid</a>
  <a id="12779" href="Ledger.GovernanceActions.html#12779" class="Function">_</a> <a id="12781" class="Symbol">=</a> <a id="12783" href="Data.Nat.Properties.html#16466" class="Function">+-0-commutativeMonoid</a>
  <a id="12807" class="Keyword">unquoteDecl</a> <a id="DecEq-GovRole"></a><a id="12819" href="Ledger.GovernanceActions.html#12819" class="Function">DecEq-GovRole</a> <a id="12833" class="Symbol">=</a> <a id="12835" href="Tactic.Derive.DecEq.html#3471" class="Function">derive-DecEq</a> <a id="12848" class="Symbol">((</a><a id="12850" class="Keyword">quote</a> <a id="12856" href="Ledger.GovernanceActions.html#1004" class="Datatype">GovRole</a> <a id="12864" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="12866" href="Ledger.GovernanceActions.html#12819" class="Function">DecEq-GovRole</a><a id="12879" class="Symbol">)</a> <a id="12881" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">∷</a> <a id="12883" href="Agda.Builtin.List.html#167" class="InductiveConstructor">[]</a><a id="12885" class="Symbol">)</a>
  <a id="12889" class="Keyword">unquoteDecl</a> <a id="DecEq-Vote"></a><a id="12901" href="Ledger.GovernanceActions.html#12901" class="Function">DecEq-Vote</a>    <a id="12915" class="Symbol">=</a> <a id="12917" href="Tactic.Derive.DecEq.html#3471" class="Function">derive-DecEq</a> <a id="12930" class="Symbol">((</a><a id="12932" class="Keyword">quote</a> <a id="12938" href="Ledger.GovernanceActions.html#8305" class="Datatype">Vote</a>    <a id="12946" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="12948" href="Ledger.GovernanceActions.html#12901" class="Function">DecEq-Vote</a><a id="12958" class="Symbol">)</a>    <a id="12963" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">∷</a> <a id="12965" href="Agda.Builtin.List.html#167" class="InductiveConstructor">[]</a><a id="12967" class="Symbol">)</a>
  <a id="12971" class="Keyword">unquoteDecl</a> <a id="DecEq-VDeleg"></a><a id="12983" href="Ledger.GovernanceActions.html#12983" class="Function">DecEq-VDeleg</a>  <a id="12997" class="Symbol">=</a> <a id="12999" href="Tactic.Derive.DecEq.html#3471" class="Function">derive-DecEq</a> <a id="13012" class="Symbol">((</a><a id="13014" class="Keyword">quote</a> <a id="13020" href="Ledger.GovernanceActions.html#1054" class="Datatype">VDeleg</a>  <a id="13028" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="13030" href="Ledger.GovernanceActions.html#12983" class="Function">DecEq-VDeleg</a><a id="13042" class="Symbol">)</a>  <a id="13045" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">∷</a> <a id="13047" href="Agda.Builtin.List.html#167" class="InductiveConstructor">[]</a><a id="13049" class="Symbol">)</a>
<a id="13051" class="Markup">\end{code}</a><a id="13061" class="Background">

The relation \ENACTsyntax is the transition relation for enacting a governance action.
It represents how the \agdaboundEnactState changes when a specific governance action is enacted
(see Figure~\ref{fig:enact-transition-system}).
\begin{figure*}[h]
{\small
</a><a id="13321" class="Markup">\begin{code}</a>
<a id="13334" class="Keyword">data</a> <a id="_⊢_⇀⦇_,ENACT⦈_"></a><a id="13339" href="Ledger.GovernanceActions.html#13339" class="Datatype Operator">_⊢_⇀⦇_,ENACT⦈_</a> <a id="13354" class="Symbol">:</a> <a id="13356" href="Ledger.GovernanceActions.html#11809" class="Record">EnactEnv</a> <a id="13365" class="Symbol">→</a> <a id="13367" href="Ledger.GovernanceActions.html#11944" class="Record">EnactState</a> <a id="13378" class="Symbol">→</a> <a id="13380" href="Ledger.GovernanceActions.html#1262" class="Datatype">GovAction</a> <a id="13390" class="Symbol">→</a> <a id="13392" href="Ledger.GovernanceActions.html#11944" class="Record">EnactState</a> <a id="13403" class="Symbol">→</a> <a id="13405" href="Agda.Primitive.html#320" class="Primitive">Set</a> <a id="13409" class="Keyword">where</a>

  <a id="_⊢_⇀⦇_,ENACT⦈_.Enact-NoConf"></a><a id="13418" href="Ledger.GovernanceActions.html#13418" class="InductiveConstructor">Enact-NoConf</a> <a id="13431" class="Symbol">:</a>
    <a id="13437" href="Ledger.GovernanceActions.html#11844" class="InductiveConstructor Operator">⟦</a> <a id="13439" href="Ledger.GovernanceActions.html#12720" class="Generalizable">gid</a> <a id="13443" href="Ledger.GovernanceActions.html#11844" class="InductiveConstructor Operator">,</a> <a id="13445" href="Ledger.GovernanceActions.html#12709" class="Generalizable">t</a> <a id="13447" href="Ledger.GovernanceActions.html#11844" class="InductiveConstructor Operator">,</a> <a id="13449" href="Ledger.GovernanceActions.html#12740" class="Generalizable">e</a> <a id="13451" href="Ledger.GovernanceActions.html#11844" class="InductiveConstructor Operator">⟧ᵉ</a> <a id="13454" href="Ledger.GovernanceActions.html#13339" class="Datatype Operator">⊢</a>   <a id="13458" href="Ledger.GovernanceActions.html#12525" class="Generalizable">s</a> <a id="13460" href="Ledger.GovernanceActions.html#13339" class="Datatype Operator">⇀⦇</a> <a id="13463" href="Ledger.GovernanceActions.html#1286" class="InductiveConstructor">NoConfidence</a> <a id="13476" href="Ledger.GovernanceActions.html#13339" class="Datatype Operator">,ENACT⦈</a>
                 <a id="13501" class="Keyword">record</a>  <a id="13509" href="Ledger.GovernanceActions.html#12525" class="Generalizable">s</a> <a id="13511" class="Symbol">{</a> <a id="13513" href="Ledger.GovernanceActions.html#11975" class="Field">cc</a> <a id="13516" class="Symbol">=</a> <a id="13518" href="Agda.Builtin.Maybe.html#177" class="InductiveConstructor">nothing</a> <a id="13526" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="13528" href="Ledger.GovernanceActions.html#12720" class="Generalizable">gid</a> <a id="13532" class="Symbol">}</a>

  <a id="_⊢_⇀⦇_,ENACT⦈_.Enact-NewComm"></a><a id="13537" href="Ledger.GovernanceActions.html#13537" class="InductiveConstructor">Enact-NewComm</a> <a id="13551" class="Symbol">:</a> <a id="13553" class="Keyword">let</a> <a id="13557" href="Ledger.GovernanceActions.html#13557" class="Bound">old</a> <a id="13561" class="Symbol">=</a> <a id="13563" href="Data.Maybe.Base.html#1377" class="Function">maybe</a> <a id="13569" href="Data.Product.Base.html#608" class="Field">proj₁</a> <a id="13575" href="Axiom.Set.Map.html#2741" class="Function">∅ᵐ</a> <a id="13578" class="Symbol">(</a><a id="13579" href="Ledger.GovernanceActions.html#12525" class="Generalizable">s</a> <a id="13581" class="Symbol">.</a><a id="13582" href="Ledger.GovernanceActions.html#11975" class="Field">EnactState.cc</a> <a id="13596" class="Symbol">.</a><a id="13597" href="Data.Product.Base.html#608" class="Field">proj₁</a><a id="13602" class="Symbol">)</a> <a id="13604" class="Keyword">in</a>
    <a id="13611" href="Interface.IsSet.html#611" class="Function">∀[</a> <a id="13614" href="Ledger.GovernanceActions.html#13614" class="Bound">term</a> <a id="13619" href="Interface.IsSet.html#611" class="Function">∈</a> <a id="13621" href="Interface.IsSet.html#837" class="Function">range</a> <a id="13627" href="Ledger.GovernanceActions.html#12563" class="Generalizable">new</a> <a id="13631" href="Interface.IsSet.html#611" class="Function">]</a> <a id="13633" href="Ledger.GovernanceActions.html#13614" class="Bound">term</a> <a id="13638" href="Interface.HasOrder.html#416" class="Field Operator">≤</a> <a id="13640" class="Symbol">(</a><a id="13641" href="Ledger.GovernanceActions.html#12525" class="Generalizable">s</a> <a id="13643" class="Symbol">.</a><a id="13644" href="Ledger.GovernanceActions.html#12159" class="Field">pparams</a> <a id="13652" class="Symbol">.</a><a id="13653" href="Data.Product.Base.html#608" class="Field">proj₁</a> <a id="13659" class="Symbol">.</a><a id="13660" href="Ledger.PParams.html#2177" class="Field">PParams.ccMaxTermLength</a> <a id="13684" href="Ledger.Epoch.html#3380" class="Function Operator">+ᵉ</a> <a id="13687" href="Ledger.GovernanceActions.html#12740" class="Generalizable">e</a><a id="13688" class="Symbol">)</a>
    <a id="13694" href="Interface.STS.html#244" class="Function Operator">────────────────────────────────</a>
    <a id="13731" href="Ledger.GovernanceActions.html#11844" class="InductiveConstructor Operator">⟦</a> <a id="13733" href="Ledger.GovernanceActions.html#12720" class="Generalizable">gid</a> <a id="13737" href="Ledger.GovernanceActions.html#11844" class="InductiveConstructor Operator">,</a> <a id="13739" href="Ledger.GovernanceActions.html#12709" class="Generalizable">t</a> <a id="13741" href="Ledger.GovernanceActions.html#11844" class="InductiveConstructor Operator">,</a> <a id="13743" href="Ledger.GovernanceActions.html#12740" class="Generalizable">e</a> <a id="13745" href="Ledger.GovernanceActions.html#11844" class="InductiveConstructor Operator">⟧ᵉ</a> <a id="13748" href="Ledger.GovernanceActions.html#13339" class="Datatype Operator">⊢</a>  <a id="13751" href="Ledger.GovernanceActions.html#12525" class="Generalizable">s</a> <a id="13753" href="Ledger.GovernanceActions.html#13339" class="Datatype Operator">⇀⦇</a> <a id="13756" href="Ledger.GovernanceActions.html#1358" class="InductiveConstructor">NewCommittee</a> <a id="13769" href="Ledger.GovernanceActions.html#12563" class="Generalizable">new</a> <a id="13773" href="Ledger.GovernanceActions.html#12590" class="Generalizable">rem</a> <a id="13777" href="Ledger.GovernanceActions.html#12611" class="Generalizable">q</a> <a id="13779" href="Ledger.GovernanceActions.html#13339" class="Datatype Operator">,ENACT⦈</a>
                <a id="13803" class="Keyword">record</a>  <a id="13811" href="Ledger.GovernanceActions.html#12525" class="Generalizable">s</a> <a id="13813" class="Symbol">{</a> <a id="13815" href="Ledger.GovernanceActions.html#11975" class="Field">cc</a> <a id="13818" class="Symbol">=</a> <a id="13820" href="Agda.Builtin.Maybe.html#156" class="InductiveConstructor">just</a> <a id="13825" class="Symbol">((</a><a id="13827" href="Ledger.GovernanceActions.html#12563" class="Generalizable">new</a> <a id="13831" href="Axiom.Set.Map.html#4771" class="Function Operator">∪ᵐˡ</a> <a id="13835" href="Ledger.GovernanceActions.html#13557" class="Bound">old</a><a id="13838" class="Symbol">)</a> <a id="13840" href="Axiom.Set.Map.html#8830" class="Function Operator">∣</a> <a id="13842" href="Ledger.GovernanceActions.html#12590" class="Generalizable">rem</a> <a id="13846" href="Axiom.Set.Map.html#8830" class="Function Operator">ᶜ</a> <a id="13848" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="13850" href="Ledger.GovernanceActions.html#12611" class="Generalizable">q</a><a id="13851" class="Symbol">)</a> <a id="13853" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="13855" href="Ledger.GovernanceActions.html#12720" class="Generalizable">gid</a> <a id="13859" class="Symbol">}</a>

  <a id="_⊢_⇀⦇_,ENACT⦈_.Enact-NewConst"></a><a id="13864" href="Ledger.GovernanceActions.html#13864" class="InductiveConstructor">Enact-NewConst</a> <a id="13879" class="Symbol">:</a>
    <a id="13885" href="Ledger.GovernanceActions.html#11844" class="InductiveConstructor Operator">⟦</a> <a id="13887" href="Ledger.GovernanceActions.html#12720" class="Generalizable">gid</a> <a id="13891" href="Ledger.GovernanceActions.html#11844" class="InductiveConstructor Operator">,</a> <a id="13893" href="Ledger.GovernanceActions.html#12709" class="Generalizable">t</a> <a id="13895" href="Ledger.GovernanceActions.html#11844" class="InductiveConstructor Operator">,</a> <a id="13897" href="Ledger.GovernanceActions.html#12740" class="Generalizable">e</a> <a id="13899" href="Ledger.GovernanceActions.html#11844" class="InductiveConstructor Operator">⟧ᵉ</a> <a id="13902" href="Ledger.GovernanceActions.html#13339" class="Datatype Operator">⊢</a>  <a id="13905" href="Ledger.GovernanceActions.html#12525" class="Generalizable">s</a> <a id="13907" href="Ledger.GovernanceActions.html#13339" class="Datatype Operator">⇀⦇</a> <a id="13910" href="Ledger.GovernanceActions.html#1430" class="InductiveConstructor">NewConstitution</a> <a id="13926" href="Ledger.GovernanceActions.html#12619" class="Generalizable">dh</a> <a id="13929" href="Ledger.GovernanceActions.html#12634" class="Generalizable">sh</a> <a id="13932" href="Ledger.GovernanceActions.html#13339" class="Datatype Operator">,ENACT⦈</a>
                <a id="13956" class="Keyword">record</a>  <a id="13964" href="Ledger.GovernanceActions.html#12525" class="Generalizable">s</a> <a id="13966" class="Symbol">{</a> <a id="13968" href="Ledger.GovernanceActions.html#12046" class="Field">constitution</a> <a id="13981" class="Symbol">=</a> <a id="13983" class="Symbol">(</a><a id="13984" href="Ledger.GovernanceActions.html#12619" class="Generalizable">dh</a> <a id="13987" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="13989" href="Ledger.GovernanceActions.html#12634" class="Generalizable">sh</a><a id="13991" class="Symbol">)</a> <a id="13993" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="13995" href="Ledger.GovernanceActions.html#12720" class="Generalizable">gid</a> <a id="13999" class="Symbol">}</a>

  <a id="_⊢_⇀⦇_,ENACT⦈_.Enact-HF"></a><a id="14004" href="Ledger.GovernanceActions.html#14004" class="InductiveConstructor">Enact-HF</a> <a id="14013" class="Symbol">:</a>
    <a id="14019" href="Ledger.GovernanceActions.html#11844" class="InductiveConstructor Operator">⟦</a> <a id="14021" href="Ledger.GovernanceActions.html#12720" class="Generalizable">gid</a> <a id="14025" href="Ledger.GovernanceActions.html#11844" class="InductiveConstructor Operator">,</a> <a id="14027" href="Ledger.GovernanceActions.html#12709" class="Generalizable">t</a> <a id="14029" href="Ledger.GovernanceActions.html#11844" class="InductiveConstructor Operator">,</a> <a id="14031" href="Ledger.GovernanceActions.html#12740" class="Generalizable">e</a> <a id="14033" href="Ledger.GovernanceActions.html#11844" class="InductiveConstructor Operator">⟧ᵉ</a> <a id="14036" href="Ledger.GovernanceActions.html#13339" class="Datatype Operator">⊢</a>   <a id="14040" href="Ledger.GovernanceActions.html#12525" class="Generalizable">s</a> <a id="14042" href="Ledger.GovernanceActions.html#13339" class="Datatype Operator">⇀⦇</a> <a id="14045" href="Ledger.GovernanceActions.html#1502" class="InductiveConstructor">TriggerHF</a> <a id="14055" href="Ledger.GovernanceActions.html#12671" class="Generalizable">v</a> <a id="14057" href="Ledger.GovernanceActions.html#13339" class="Datatype Operator">,ENACT⦈</a>
                 <a id="14082" class="Keyword">record</a>  <a id="14090" href="Ledger.GovernanceActions.html#12525" class="Generalizable">s</a> <a id="14092" class="Symbol">{</a> <a id="14094" href="Ledger.GovernanceActions.html#12113" class="Field">pv</a> <a id="14097" class="Symbol">=</a> <a id="14099" href="Ledger.GovernanceActions.html#12671" class="Generalizable">v</a> <a id="14101" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="14103" href="Ledger.GovernanceActions.html#12720" class="Generalizable">gid</a> <a id="14107" class="Symbol">}</a>

  <a id="_⊢_⇀⦇_,ENACT⦈_.Enact-PParams"></a><a id="14112" href="Ledger.GovernanceActions.html#14112" class="InductiveConstructor">Enact-PParams</a> <a id="14126" class="Symbol">:</a>
    <a id="14132" href="Ledger.GovernanceActions.html#11844" class="InductiveConstructor Operator">⟦</a> <a id="14134" href="Ledger.GovernanceActions.html#12720" class="Generalizable">gid</a> <a id="14138" href="Ledger.GovernanceActions.html#11844" class="InductiveConstructor Operator">,</a> <a id="14140" href="Ledger.GovernanceActions.html#12709" class="Generalizable">t</a> <a id="14142" href="Ledger.GovernanceActions.html#11844" class="InductiveConstructor Operator">,</a> <a id="14144" href="Ledger.GovernanceActions.html#12740" class="Generalizable">e</a> <a id="14146" href="Ledger.GovernanceActions.html#11844" class="InductiveConstructor Operator">⟧ᵉ</a> <a id="14149" href="Ledger.GovernanceActions.html#13339" class="Datatype Operator">⊢</a>  <a id="14152" href="Ledger.GovernanceActions.html#12525" class="Generalizable">s</a> <a id="14154" href="Ledger.GovernanceActions.html#13339" class="Datatype Operator">⇀⦇</a> <a id="14157" href="Ledger.GovernanceActions.html#1574" class="InductiveConstructor">ChangePParams</a> <a id="14171" href="Ledger.GovernanceActions.html#12542" class="Generalizable">up</a> <a id="14174" href="Ledger.GovernanceActions.html#13339" class="Datatype Operator">,ENACT⦈</a>
                <a id="14198" class="Keyword">record</a>  <a id="14206" href="Ledger.GovernanceActions.html#12525" class="Generalizable">s</a> <a id="14208" class="Symbol">{</a> <a id="14210" href="Ledger.GovernanceActions.html#12159" class="Field">pparams</a> <a id="14218" class="Symbol">=</a> <a id="14220" href="Ledger.PParams.html#4873" class="Function">applyUpdate</a> <a id="14232" class="Symbol">(</a><a id="14233" href="Ledger.GovernanceActions.html#12525" class="Generalizable">s</a> <a id="14235" class="Symbol">.</a><a id="14236" href="Ledger.GovernanceActions.html#12159" class="Field">pparams</a> <a id="14244" class="Symbol">.</a><a id="14245" href="Data.Product.Base.html#608" class="Field">proj₁</a><a id="14250" class="Symbol">)</a> <a id="14252" href="Ledger.GovernanceActions.html#12542" class="Generalizable">up</a> <a id="14255" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="14257" href="Ledger.GovernanceActions.html#12720" class="Generalizable">gid</a> <a id="14261" class="Symbol">}</a>

  <a id="_⊢_⇀⦇_,ENACT⦈_.Enact-Wdrl"></a><a id="14266" href="Ledger.GovernanceActions.html#14266" class="InductiveConstructor">Enact-Wdrl</a> <a id="14277" class="Symbol">:</a> <a id="14279" class="Keyword">let</a> <a id="14283" href="Ledger.GovernanceActions.html#14283" class="Bound">newWdrls</a> <a id="14292" class="Symbol">=</a> <a id="14294" href="Ledger.GovernanceActions.html#12525" class="Generalizable">s</a> <a id="14296" class="Symbol">.</a><a id="14297" href="Ledger.GovernanceActions.html#12205" class="Field">withdrawals</a> <a id="14309" href="Axiom.Set.Map.Dec.html#1841" class="Function Operator">∪⁺</a> <a id="14312" href="Ledger.GovernanceActions.html#12685" class="Generalizable">wdrl</a> <a id="14317" class="Keyword">in</a>
    <a id="14324" href="Axiom.Set.Sum.html#4411" class="Function">Σᵐᵛ[</a> <a id="14329" href="Ledger.GovernanceActions.html#14329" class="Bound">x</a> <a id="14331" href="Axiom.Set.Sum.html#4411" class="Function">←</a> <a id="14333" href="Ledger.GovernanceActions.html#14283" class="Bound">newWdrls</a> <a id="14342" href="Ledger.Prelude.html#3690" class="Function Operator">ᶠᵐ</a> <a id="14345" href="Axiom.Set.Sum.html#4411" class="Function">]</a> <a id="14347" href="Ledger.GovernanceActions.html#14329" class="Bound">x</a> <a id="14349" href="Interface.HasOrder.html#416" class="Field Operator">≤</a> <a id="14351" href="Ledger.GovernanceActions.html#12709" class="Generalizable">t</a>
    <a id="14357" href="Interface.STS.html#244" class="Function Operator">────────────────────────────────</a>
    <a id="14394" href="Ledger.GovernanceActions.html#11844" class="InductiveConstructor Operator">⟦</a> <a id="14396" href="Ledger.GovernanceActions.html#12720" class="Generalizable">gid</a> <a id="14400" href="Ledger.GovernanceActions.html#11844" class="InductiveConstructor Operator">,</a> <a id="14402" href="Ledger.GovernanceActions.html#12709" class="Generalizable">t</a> <a id="14404" href="Ledger.GovernanceActions.html#11844" class="InductiveConstructor Operator">,</a> <a id="14406" href="Ledger.GovernanceActions.html#12740" class="Generalizable">e</a> <a id="14408" href="Ledger.GovernanceActions.html#11844" class="InductiveConstructor Operator">⟧ᵉ</a> <a id="14411" href="Ledger.GovernanceActions.html#13339" class="Datatype Operator">⊢</a>  <a id="14414" href="Ledger.GovernanceActions.html#12525" class="Generalizable">s</a> <a id="14416" href="Ledger.GovernanceActions.html#13339" class="Datatype Operator">⇀⦇</a> <a id="14419" href="Ledger.GovernanceActions.html#1646" class="InductiveConstructor">TreasuryWdrl</a> <a id="14432" href="Ledger.GovernanceActions.html#12685" class="Generalizable">wdrl</a>  <a id="14438" href="Ledger.GovernanceActions.html#13339" class="Datatype Operator">,ENACT⦈</a>
                <a id="14462" class="Keyword">record</a>  <a id="14470" href="Ledger.GovernanceActions.html#12525" class="Generalizable">s</a> <a id="14472" class="Symbol">{</a> <a id="14474" href="Ledger.GovernanceActions.html#12205" class="Field">withdrawals</a>  <a id="14487" class="Symbol">=</a> <a id="14489" href="Ledger.GovernanceActions.html#14283" class="Bound">newWdrls</a> <a id="14498" class="Symbol">}</a>

  <a id="_⊢_⇀⦇_,ENACT⦈_.Enact-Info"></a><a id="14503" href="Ledger.GovernanceActions.html#14503" class="InductiveConstructor">Enact-Info</a> <a id="14514" class="Symbol">:</a>
    <a id="14520" href="Ledger.GovernanceActions.html#11844" class="InductiveConstructor Operator">⟦</a> <a id="14522" href="Ledger.GovernanceActions.html#12720" class="Generalizable">gid</a> <a id="14526" href="Ledger.GovernanceActions.html#11844" class="InductiveConstructor Operator">,</a> <a id="14528" href="Ledger.GovernanceActions.html#12709" class="Generalizable">t</a> <a id="14530" href="Ledger.GovernanceActions.html#11844" class="InductiveConstructor Operator">,</a> <a id="14532" href="Ledger.GovernanceActions.html#12740" class="Generalizable">e</a> <a id="14534" href="Ledger.GovernanceActions.html#11844" class="InductiveConstructor Operator">⟧ᵉ</a> <a id="14537" href="Ledger.GovernanceActions.html#13339" class="Datatype Operator">⊢</a>  <a id="14540" href="Ledger.GovernanceActions.html#12525" class="Generalizable">s</a> <a id="14542" href="Ledger.GovernanceActions.html#13339" class="Datatype Operator">⇀⦇</a> <a id="14545" href="Ledger.GovernanceActions.html#1718" class="InductiveConstructor">Info</a>  <a id="14551" href="Ledger.GovernanceActions.html#13339" class="Datatype Operator">,ENACT⦈</a> <a id="14559" href="Ledger.GovernanceActions.html#12525" class="Generalizable">s</a>
<a id="14561" class="Markup">\end{code}</a><a id="14571" class="Background">
} %% end small
\caption{ENACT transition system}
\label{fig:enact-transition-system}
\end{figure*}

</a><a id="14672" class="Markup">\begin{code}[hide]</a>
<a id="14691" class="Keyword">open</a> <a id="14696" href="Interface.ComputationalRelation.html#627" class="Module">Computational</a> <a id="14710" class="Symbol">⦃...⦄</a>

<a id="14717" class="Keyword">instance</a>
  <a id="Computational-ENACT"></a><a id="14728" href="Ledger.GovernanceActions.html#14728" class="Function">Computational-ENACT</a> <a id="14748" class="Symbol">:</a> <a id="14750" href="Interface.ComputationalRelation.html#627" class="Record">Computational</a> <a id="14764" href="Ledger.GovernanceActions.html#13339" class="Datatype Operator">_⊢_⇀⦇_,ENACT⦈_</a>
  <a id="14781" href="Ledger.GovernanceActions.html#14728" class="Function">Computational-ENACT</a> <a id="14801" class="Symbol">.</a><a id="14802" href="Interface.ComputationalRelation.html#701" class="Field">computeProof</a> <a id="14815" href="Ledger.GovernanceActions.html#11844" class="InductiveConstructor Operator">⟦</a> <a id="14817" class="Symbol">_</a> <a id="14819" href="Ledger.GovernanceActions.html#11844" class="InductiveConstructor Operator">,</a> <a id="14821" href="Ledger.GovernanceActions.html#14821" class="Bound">t</a> <a id="14823" href="Ledger.GovernanceActions.html#11844" class="InductiveConstructor Operator">,</a> <a id="14825" href="Ledger.GovernanceActions.html#14825" class="Bound">e</a> <a id="14827" href="Ledger.GovernanceActions.html#11844" class="InductiveConstructor Operator">⟧ᵉ</a> <a id="14830" href="Ledger.GovernanceActions.html#14830" class="Bound">s</a> <a id="14832" class="Symbol">=</a> <a id="14834" class="Symbol">λ</a> <a id="14836" class="Keyword">where</a>
    <a id="14846" href="Ledger.GovernanceActions.html#1286" class="InductiveConstructor">NoConfidence</a>             <a id="14871" class="Symbol">→</a> <a id="14873" href="Agda.Builtin.Maybe.html#156" class="InductiveConstructor">just</a> <a id="14878" class="Symbol">(_</a> <a id="14881" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="14883" href="Ledger.GovernanceActions.html#13418" class="InductiveConstructor">Enact-NoConf</a><a id="14895" class="Symbol">)</a>
    <a id="14901" class="Symbol">(</a><a id="14902" href="Ledger.GovernanceActions.html#1358" class="InductiveConstructor">NewCommittee</a> <a id="14915" href="Ledger.GovernanceActions.html#14915" class="Bound">new</a> <a id="14919" href="Ledger.GovernanceActions.html#14919" class="Bound">rem</a> <a id="14923" href="Ledger.GovernanceActions.html#14923" class="Bound">q</a><a id="14924" class="Symbol">)</a> <a id="14926" class="Symbol">→</a>
      <a id="14934" href="Function.Base.html#4053" class="Function Operator">case</a> <a id="14939" href="Interface.Decidable.Instance.html#739" class="Function Operator">¿</a> <a id="14941" href="Interface.IsSet.html#611" class="Function">∀[</a> <a id="14944" href="Ledger.GovernanceActions.html#14944" class="Bound">term</a> <a id="14949" href="Interface.IsSet.html#611" class="Function">∈</a> <a id="14951" href="Interface.IsSet.html#837" class="Function">range</a> <a id="14957" href="Ledger.GovernanceActions.html#14915" class="Bound">new</a> <a id="14961" href="Interface.IsSet.html#611" class="Function">]</a>
               <a id="14978" href="Ledger.GovernanceActions.html#14944" class="Bound">term</a> <a id="14983" href="Ledger.Epoch.html#2511" class="Function Operator">≤ᵉ</a> <a id="14986" class="Symbol">(</a><a id="14987" href="Ledger.GovernanceActions.html#14830" class="Bound">s</a> <a id="14989" class="Symbol">.</a><a id="14990" href="Ledger.GovernanceActions.html#12159" class="Field">pparams</a> <a id="14998" class="Symbol">.</a><a id="14999" href="Data.Product.Base.html#608" class="Field">proj₁</a> <a id="15005" class="Symbol">.</a><a id="15006" href="Ledger.PParams.html#2177" class="Field">PParams.ccMaxTermLength</a> <a id="15030" href="Ledger.Epoch.html#3380" class="Function Operator">+ᵉ</a> <a id="15033" href="Ledger.GovernanceActions.html#14825" class="Bound">e</a><a id="15034" class="Symbol">)</a> <a id="15036" href="Interface.Decidable.Instance.html#739" class="Function Operator">¿</a> <a id="15038" href="Function.Base.html#4053" class="Function Operator">of</a> <a id="15041" class="Symbol">λ</a> <a id="15043" class="Keyword">where</a>
      <a id="15055" class="Symbol">(</a><a id="15056" href="Ledger.GovernanceActions.html#495" class="InductiveConstructor">yesᵈ</a> <a id="15061" href="Ledger.GovernanceActions.html#15061" class="Bound">p</a><a id="15062" class="Symbol">)</a> <a id="15064" class="Symbol">→</a> <a id="15066" href="Agda.Builtin.Maybe.html#156" class="InductiveConstructor">just</a> <a id="15071" class="Symbol">(</a><a id="15072" href="Data.Product.Base.html#1423" class="Function Operator">-,</a> <a id="15075" href="Ledger.GovernanceActions.html#13537" class="InductiveConstructor">Enact-NewComm</a> <a id="15089" href="Ledger.GovernanceActions.html#15061" class="Bound">p</a><a id="15090" class="Symbol">)</a>
      <a id="15098" class="Symbol">(</a><a id="15099" href="Ledger.GovernanceActions.html#507" class="InductiveConstructor">noᵈ</a> <a id="15103" href="Ledger.GovernanceActions.html#15103" class="Bound">¬p</a><a id="15105" class="Symbol">)</a> <a id="15107" class="Symbol">→</a> <a id="15109" href="Agda.Builtin.Maybe.html#177" class="InductiveConstructor">nothing</a>
    <a id="15121" class="Symbol">(</a><a id="15122" href="Ledger.GovernanceActions.html#1430" class="InductiveConstructor">NewConstitution</a> <a id="15138" href="Ledger.GovernanceActions.html#15138" class="Bound">dh</a> <a id="15141" href="Ledger.GovernanceActions.html#15141" class="Bound">sh</a><a id="15143" class="Symbol">)</a>  <a id="15146" class="Symbol">→</a> <a id="15148" href="Agda.Builtin.Maybe.html#156" class="InductiveConstructor">just</a> <a id="15153" class="Symbol">(</a><a id="15154" href="Data.Product.Base.html#1423" class="Function Operator">-,</a> <a id="15157" href="Ledger.GovernanceActions.html#13864" class="InductiveConstructor">Enact-NewConst</a><a id="15171" class="Symbol">)</a>
    <a id="15177" class="Symbol">(</a><a id="15178" href="Ledger.GovernanceActions.html#1502" class="InductiveConstructor">TriggerHF</a> <a id="15188" href="Ledger.GovernanceActions.html#15188" class="Bound">v</a><a id="15189" class="Symbol">)</a>            <a id="15202" class="Symbol">→</a> <a id="15204" href="Agda.Builtin.Maybe.html#156" class="InductiveConstructor">just</a> <a id="15209" class="Symbol">(</a><a id="15210" href="Data.Product.Base.html#1423" class="Function Operator">-,</a> <a id="15213" href="Ledger.GovernanceActions.html#14004" class="InductiveConstructor">Enact-HF</a><a id="15221" class="Symbol">)</a>
    <a id="15227" class="Symbol">(</a><a id="15228" href="Ledger.GovernanceActions.html#1574" class="InductiveConstructor">ChangePParams</a> <a id="15242" href="Ledger.GovernanceActions.html#15242" class="Bound">up</a><a id="15244" class="Symbol">)</a>       <a id="15252" class="Symbol">→</a> <a id="15254" href="Agda.Builtin.Maybe.html#156" class="InductiveConstructor">just</a> <a id="15259" class="Symbol">(</a><a id="15260" href="Data.Product.Base.html#1423" class="Function Operator">-,</a> <a id="15263" href="Ledger.GovernanceActions.html#14112" class="InductiveConstructor">Enact-PParams</a><a id="15276" class="Symbol">)</a>
    <a id="15282" href="Ledger.GovernanceActions.html#1718" class="InductiveConstructor">Info</a>                     <a id="15307" class="Symbol">→</a> <a id="15309" href="Agda.Builtin.Maybe.html#156" class="InductiveConstructor">just</a> <a id="15314" class="Symbol">(</a><a id="15315" href="Data.Product.Base.html#1423" class="Function Operator">-,</a> <a id="15318" href="Ledger.GovernanceActions.html#14503" class="InductiveConstructor">Enact-Info</a><a id="15328" class="Symbol">)</a>
    <a id="15334" class="Symbol">(</a><a id="15335" href="Ledger.GovernanceActions.html#1646" class="InductiveConstructor">TreasuryWdrl</a> <a id="15348" href="Ledger.GovernanceActions.html#15348" class="Bound">wdrl</a><a id="15352" class="Symbol">)</a> <a id="15354" class="Symbol">→</a>
      <a id="15362" href="Function.Base.html#4053" class="Function Operator">case</a> <a id="15367" href="Interface.Decidable.Instance.html#739" class="Function Operator">¿</a> <a id="15369" href="Axiom.Set.Sum.html#4411" class="Function">Σᵐᵛ[</a> <a id="15374" href="Ledger.GovernanceActions.html#15374" class="Bound">x</a> <a id="15376" href="Axiom.Set.Sum.html#4411" class="Function">←</a> <a id="15378" class="Symbol">(</a><a id="15379" href="Ledger.GovernanceActions.html#14830" class="Bound">s</a> <a id="15381" class="Symbol">.</a><a id="15382" href="Ledger.GovernanceActions.html#12205" class="Field">withdrawals</a> <a id="15394" href="Axiom.Set.Map.Dec.html#1841" class="Function Operator">∪⁺</a> <a id="15397" href="Ledger.GovernanceActions.html#15348" class="Bound">wdrl</a><a id="15401" class="Symbol">)</a> <a id="15403" href="Ledger.Prelude.html#3690" class="Function Operator">ᶠᵐ</a> <a id="15406" href="Axiom.Set.Sum.html#4411" class="Function">]</a> <a id="15408" href="Ledger.GovernanceActions.html#15374" class="Bound">x</a> <a id="15410" href="Interface.HasOrder.html#416" class="Field Operator">≤</a> <a id="15412" href="Ledger.GovernanceActions.html#14821" class="Bound">t</a> <a id="15414" href="Interface.Decidable.Instance.html#739" class="Function Operator">¿</a> <a id="15416" href="Function.Base.html#4053" class="Function Operator">of</a> <a id="15419" class="Symbol">λ</a> <a id="15421" class="Keyword">where</a>
        <a id="15435" class="Symbol">(</a><a id="15436" href="Ledger.GovernanceActions.html#495" class="InductiveConstructor">yesᵈ</a> <a id="15441" href="Ledger.GovernanceActions.html#15441" class="Bound">p</a><a id="15442" class="Symbol">)</a>             <a id="15456" class="Symbol">→</a> <a id="15458" href="Agda.Builtin.Maybe.html#156" class="InductiveConstructor">just</a> <a id="15463" class="Symbol">(</a><a id="15464" href="Data.Product.Base.html#1423" class="Function Operator">-,</a> <a id="15467" href="Ledger.GovernanceActions.html#14266" class="InductiveConstructor">Enact-Wdrl</a> <a id="15478" href="Ledger.GovernanceActions.html#15441" class="Bound">p</a><a id="15479" class="Symbol">)</a>
        <a id="15489" class="Symbol">(</a><a id="15490" href="Ledger.GovernanceActions.html#507" class="InductiveConstructor">noᵈ</a> <a id="15494" class="Symbol">_)</a>              <a id="15510" class="Symbol">→</a> <a id="15512" href="Agda.Builtin.Maybe.html#177" class="InductiveConstructor">nothing</a>
  <a id="15522" href="Ledger.GovernanceActions.html#14728" class="Function">Computational-ENACT</a> <a id="15542" class="Symbol">.</a><a id="15543" href="Interface.ComputationalRelation.html#884" class="Field">completeness</a> <a id="15556" href="Ledger.GovernanceActions.html#11844" class="InductiveConstructor Operator">⟦</a> <a id="15558" class="Symbol">_</a> <a id="15560" href="Ledger.GovernanceActions.html#11844" class="InductiveConstructor Operator">,</a> <a id="15562" href="Ledger.GovernanceActions.html#15562" class="Bound">t</a> <a id="15564" href="Ledger.GovernanceActions.html#11844" class="InductiveConstructor Operator">,</a> <a id="15566" href="Ledger.GovernanceActions.html#15566" class="Bound">e</a> <a id="15568" href="Ledger.GovernanceActions.html#11844" class="InductiveConstructor Operator">⟧ᵉ</a> <a id="15571" href="Ledger.GovernanceActions.html#15571" class="Bound">s</a> <a id="15573" href="Ledger.GovernanceActions.html#15573" class="Bound">action</a> <a id="15580" class="Symbol">_</a> <a id="15582" href="Ledger.GovernanceActions.html#15582" class="Bound">p</a>
    <a id="15588" class="Keyword">with</a> <a id="15593" href="Ledger.GovernanceActions.html#15573" class="Bound">action</a> <a id="15600" class="Symbol">|</a> <a id="15602" href="Ledger.GovernanceActions.html#15582" class="Bound">p</a>
  <a id="15606" class="Symbol">...</a> <a id="15610" class="Symbol">|</a> <a id="15612" class="DottedPattern Symbol">.</a><a id="15613" href="Ledger.GovernanceActions.html#1286" class="DottedPattern InductiveConstructor">NoConfidence</a>           <a id="15636" class="Symbol">|</a> <a id="15638" href="Ledger.GovernanceActions.html#13418" class="InductiveConstructor">Enact-NoConf</a>   <a id="15653" class="Symbol">=</a> <a id="15655" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>
  <a id="15662" class="Symbol">...</a> <a id="15666" class="Symbol">|</a> <a id="15668" class="Symbol">.</a><a id="15669" href="Ledger.GovernanceActions.html#1358" class="InductiveConstructor">NewCommittee</a> <a id="15682" href="Ledger.GovernanceActions.html#15682" class="Bound">new</a> <a id="15686" href="Ledger.GovernanceActions.html#15686" class="Bound">rem</a> <a id="15690" href="Ledger.GovernanceActions.html#15690" class="Bound">q</a> <a id="15692" class="Symbol">|</a> <a id="15694" href="Ledger.GovernanceActions.html#13537" class="InductiveConstructor">Enact-NewComm</a> <a id="15708" href="Ledger.GovernanceActions.html#15708" class="Bound">p</a>
    <a id="15714" class="Keyword">rewrite</a> <a id="15722" href="Relation.Nullary.Decidable.html#2677" class="Function">dec-yes</a>
      <a id="15736" class="Symbol">(</a><a id="15737" href="Interface.Decidable.Instance.html#739" class="Function Operator">¿</a> <a id="15739" href="Interface.IsSet.html#611" class="Function">∀[</a> <a id="15742" href="Ledger.GovernanceActions.html#15742" class="Bound">term</a> <a id="15747" href="Interface.IsSet.html#611" class="Function">∈</a> <a id="15749" href="Interface.IsSet.html#837" class="Function">range</a> <a id="15755" href="Ledger.GovernanceActions.html#15682" class="Bound">new</a> <a id="15759" href="Interface.IsSet.html#611" class="Function">]</a> <a id="15761" href="Ledger.GovernanceActions.html#15742" class="Bound">term</a>
           <a id="15777" href="Ledger.Epoch.html#2511" class="Function Operator">≤ᵉ</a> <a id="15780" class="Symbol">(</a><a id="15781" class="Bound">s</a> <a id="15783" class="Symbol">.</a><a id="15784" href="Ledger.GovernanceActions.html#12159" class="Field">pparams</a> <a id="15792" class="Symbol">.</a><a id="15793" href="Data.Product.Base.html#608" class="Field">proj₁</a> <a id="15799" class="Symbol">.</a><a id="15800" href="Ledger.PParams.html#2177" class="Field">PParams.ccMaxTermLength</a> <a id="15824" href="Ledger.Epoch.html#3380" class="Function Operator">+ᵉ</a> <a id="15827" class="Bound">e</a><a id="15828" class="Symbol">)</a> <a id="15830" href="Interface.Decidable.Instance.html#739" class="Function Operator">¿</a><a id="15831" class="Symbol">)</a> <a id="15833" href="Ledger.GovernanceActions.html#15708" class="Bound">p</a> <a id="15835" class="Symbol">.</a><a id="15836" href="Data.Product.Base.html#622" class="Field">proj₂</a>
      <a id="15848" class="Symbol">=</a> <a id="15850" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>
  <a id="15857" class="Symbol">...</a> <a id="15861" class="Symbol">|</a> <a id="15863" class="Symbol">.</a><a id="15864" href="Ledger.GovernanceActions.html#1430" class="InductiveConstructor">NewConstitution</a> <a id="15880" href="Ledger.GovernanceActions.html#15880" class="Bound">dh</a> <a id="15883" href="Ledger.GovernanceActions.html#15883" class="Bound">sh</a>  <a id="15887" class="Symbol">|</a> <a id="15889" href="Ledger.GovernanceActions.html#13864" class="InductiveConstructor">Enact-NewConst</a> <a id="15904" class="Symbol">=</a> <a id="15906" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>
  <a id="15913" class="Symbol">...</a> <a id="15917" class="Symbol">|</a> <a id="15919" class="Symbol">.</a><a id="15920" href="Ledger.GovernanceActions.html#1502" class="InductiveConstructor">TriggerHF</a> <a id="15930" href="Ledger.GovernanceActions.html#15930" class="Bound">v</a>            <a id="15943" class="Symbol">|</a> <a id="15945" href="Ledger.GovernanceActions.html#14004" class="InductiveConstructor">Enact-HF</a>       <a id="15960" class="Symbol">=</a> <a id="15962" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>
  <a id="15969" class="Symbol">...</a> <a id="15973" class="Symbol">|</a> <a id="15975" class="Symbol">.</a><a id="15976" href="Ledger.GovernanceActions.html#1574" class="InductiveConstructor">ChangePParams</a> <a id="15990" href="Ledger.GovernanceActions.html#15990" class="Bound">up</a>       <a id="15999" class="Symbol">|</a> <a id="16001" href="Ledger.GovernanceActions.html#14112" class="InductiveConstructor">Enact-PParams</a>  <a id="16016" class="Symbol">=</a> <a id="16018" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>
  <a id="16025" class="Symbol">...</a> <a id="16029" class="Symbol">|</a> <a id="16031" class="DottedPattern Symbol">.</a><a id="16032" href="Ledger.GovernanceActions.html#1718" class="DottedPattern InductiveConstructor">Info</a>                   <a id="16055" class="Symbol">|</a> <a id="16057" href="Ledger.GovernanceActions.html#14503" class="InductiveConstructor">Enact-Info</a>     <a id="16072" class="Symbol">=</a> <a id="16074" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>
  <a id="16081" class="Symbol">...</a> <a id="16085" class="Symbol">|</a> <a id="16087" class="Symbol">.</a><a id="16088" href="Ledger.GovernanceActions.html#1646" class="InductiveConstructor">TreasuryWdrl</a> <a id="16101" href="Ledger.GovernanceActions.html#16101" class="Bound">wdrl</a>      <a id="16111" class="Symbol">|</a> <a id="16113" href="Ledger.GovernanceActions.html#14266" class="InductiveConstructor">Enact-Wdrl</a> <a id="16124" href="Ledger.GovernanceActions.html#16124" class="Bound">p</a>
    <a id="16130" class="Keyword">rewrite</a> <a id="16138" href="Relation.Nullary.Decidable.html#2677" class="Function">dec-yes</a> <a id="16146" class="Symbol">(</a><a id="16147" href="Interface.Decidable.Instance.html#739" class="Function Operator">¿</a> <a id="16149" class="Symbol">(</a><a id="16150" href="Axiom.Set.Sum.html#4411" class="Function">Σᵐᵛ[</a> <a id="16155" href="Ledger.GovernanceActions.html#16155" class="Bound">x</a> <a id="16157" href="Axiom.Set.Sum.html#4411" class="Function">←</a> <a id="16159" class="Symbol">(</a><a id="16160" class="Bound">s</a> <a id="16162" class="Symbol">.</a><a id="16163" href="Ledger.GovernanceActions.html#12205" class="Field">withdrawals</a> <a id="16175" href="Axiom.Set.Map.Dec.html#1841" class="Function Operator">∪⁺</a> <a id="16178" href="Ledger.GovernanceActions.html#16101" class="Bound">wdrl</a><a id="16182" class="Symbol">)</a> <a id="16184" href="Ledger.Prelude.html#3690" class="Function Operator">ᶠᵐ</a> <a id="16187" href="Axiom.Set.Sum.html#4411" class="Function">]</a> <a id="16189" href="Ledger.GovernanceActions.html#16155" class="Bound">x</a><a id="16190" class="Symbol">)</a> <a id="16192" href="Interface.HasOrder.html#416" class="Field Operator">≤</a> <a id="16194" class="Bound">t</a> <a id="16196" href="Interface.Decidable.Instance.html#739" class="Function Operator">¿</a><a id="16197" class="Symbol">)</a> <a id="16199" href="Ledger.GovernanceActions.html#16124" class="Bound">p</a> <a id="16201" class="Symbol">.</a><a id="16202" href="Data.Product.Base.html#622" class="Field">proj₂</a>
    <a id="16212" class="Symbol">=</a> <a id="16214" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>
<a id="16219" class="Markup">\end{code}</a><a id="16229" class="Background">
</a></pre></body></html>