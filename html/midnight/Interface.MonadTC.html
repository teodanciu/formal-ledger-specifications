<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>Interface.MonadTC</title><link rel="stylesheet" href="Agda.css"></head><body><pre class="Agda"><a id="1" class="Symbol">{-#</a> <a id="5" class="Keyword">OPTIONS</a> <a id="13" class="Pragma">--safe</a> <a id="20" class="Pragma">--without-K</a> <a id="32" class="Symbol">#-}</a>

<a id="37" class="Keyword">module</a> <a id="44" href="Interface.MonadTC.html" class="Module">Interface.MonadTC</a> <a id="62" class="Keyword">where</a>

<a id="69" class="Keyword">open</a> <a id="74" class="Keyword">import</a> <a id="81" href="MetaPrelude.html" class="Module">MetaPrelude</a>

<a id="94" class="Keyword">open</a> <a id="99" class="Keyword">import</a> <a id="106" href="Data.List.html" class="Module">Data.List</a> <a id="116" class="Keyword">using</a> <a id="122" class="Symbol">(</a><a id="123" href="Data.List.Base.html#1606" class="Function">map</a><a id="126" class="Symbol">)</a>

<a id="129" class="Keyword">import</a> <a id="136" href="Agda.Builtin.Reflection.html" class="Module">Agda.Builtin.Reflection</a> <a id="160" class="Symbol">as</a> <a id="163" class="Module">R&#39;</a>
<a id="166" class="Keyword">import</a> <a id="173" href="Reflection.html" class="Module">Reflection</a> <a id="184" class="Symbol">as</a> <a id="187" class="Module">R</a>
<a id="189" class="Keyword">open</a> <a id="194" class="Keyword">import</a> <a id="201" href="Reflection.Syntax.html" class="Module">Reflection.Syntax</a>

<a id="220" class="Keyword">open</a> <a id="225" class="Keyword">import</a> <a id="232" href="Reflection.Debug.html" class="Module">Reflection.Debug</a>

<a id="250" class="Keyword">open</a> <a id="255" class="Keyword">import</a> <a id="262" href="Interface.MonadReader.html" class="Module">Interface.MonadReader</a>
<a id="284" class="Keyword">open</a> <a id="289" class="Keyword">import</a> <a id="296" href="Interface.MonadError.html" class="Module">Interface.MonadError</a>
<a id="317" class="Keyword">open</a> <a id="322" class="Keyword">import</a> <a id="329" href="Interface.Monad.html" class="Module">Interface.Monad</a>

<a id="346" class="Keyword">private</a>
  <a id="356" class="Keyword">variable</a>
    <a id="369" href="Interface.MonadTC.html#369" class="Generalizable">a</a> <a id="371" href="Interface.MonadTC.html#371" class="Generalizable">f</a> <a id="373" class="Symbol">:</a> <a id="375" href="Agda.Primitive.html#591" class="Postulate">Level</a>
    <a id="385" href="Interface.MonadTC.html#385" class="Generalizable">A</a> <a id="387" href="Interface.MonadTC.html#387" class="Generalizable">B</a> <a id="389" class="Symbol">:</a> <a id="391" href="Agda.Primitive.html#320" class="Primitive">Set</a> <a id="395" href="Interface.MonadTC.html#371" class="Generalizable">f</a>

<a id="398" class="Keyword">instance</a>
  <a id="Monad-TC"></a><a id="409" href="Interface.MonadTC.html#409" class="Function">Monad-TC</a> <a id="418" class="Symbol">:</a> <a id="420" href="Interface.Monad.html#179" class="Record">Monad</a> <a id="426" href="Agda.Builtin.Reflection.html#8279" class="Postulate">R.TC</a>
  <a id="433" href="Interface.MonadTC.html#409" class="Function">Monad-TC</a> <a id="442" class="Symbol">=</a> <a id="444" class="Keyword">record</a> <a id="451" class="Symbol">{</a> <a id="453" href="Reflection.html" class="Module">R</a> <a id="455" class="Symbol">;</a> <a id="457" href="Interface.Monad.html#290" class="Field">return</a> <a id="464" class="Symbol">=</a> <a id="466" href="Reflection.TCM.html#1016" class="Postulate">R.pure</a> <a id="473" class="Symbol">}</a>

<a id="476" class="Keyword">data</a> <a id="ReductionOptions"></a><a id="481" href="Interface.MonadTC.html#481" class="Datatype">ReductionOptions</a> <a id="498" class="Symbol">:</a> <a id="500" href="Agda.Primitive.html#320" class="Primitive">Set</a> <a id="504" class="Keyword">where</a>
  <a id="ReductionOptions.onlyReduce"></a><a id="512" href="Interface.MonadTC.html#512" class="InductiveConstructor">onlyReduce</a> <a id="523" class="Symbol">:</a> <a id="525" href="Agda.Builtin.List.html#130" class="Datatype">List</a> <a id="530" href="Agda.Builtin.Reflection.html#471" class="Postulate">Name</a> <a id="535" class="Symbol">→</a> <a id="537" href="Interface.MonadTC.html#481" class="Datatype">ReductionOptions</a>
  <a id="ReductionOptions.dontReduce"></a><a id="556" href="Interface.MonadTC.html#556" class="InductiveConstructor">dontReduce</a> <a id="567" class="Symbol">:</a> <a id="569" href="Agda.Builtin.List.html#130" class="Datatype">List</a> <a id="574" href="Agda.Builtin.Reflection.html#471" class="Postulate">Name</a> <a id="579" class="Symbol">→</a> <a id="581" href="Interface.MonadTC.html#481" class="Datatype">ReductionOptions</a>

<a id="reduceAll"></a><a id="599" href="Interface.MonadTC.html#599" class="Function">reduceAll</a> <a id="609" class="Symbol">:</a> <a id="611" href="Interface.MonadTC.html#481" class="Datatype">ReductionOptions</a>
<a id="628" href="Interface.MonadTC.html#599" class="Function">reduceAll</a> <a id="638" class="Symbol">=</a> <a id="640" href="Interface.MonadTC.html#556" class="InductiveConstructor">dontReduce</a> <a id="651" href="Agda.Builtin.List.html#167" class="InductiveConstructor">[]</a>

<a id="655" class="Keyword">record</a> <a id="TCEnv"></a><a id="662" href="Interface.MonadTC.html#662" class="Record">TCEnv</a> <a id="668" class="Symbol">:</a> <a id="670" href="Agda.Primitive.html#320" class="Primitive">Set</a> <a id="674" class="Keyword">where</a>
  <a id="682" class="Keyword">field</a>
    <a id="TCEnv.normalisation"></a><a id="692" href="Interface.MonadTC.html#692" class="Field">normalisation</a>  <a id="707" class="Symbol">:</a> <a id="709" href="Agda.Builtin.Bool.html#156" class="Datatype">Bool</a>
    <a id="TCEnv.reconstruction"></a><a id="718" href="Interface.MonadTC.html#718" class="Field">reconstruction</a> <a id="733" class="Symbol">:</a> <a id="735" href="Agda.Builtin.Bool.html#156" class="Datatype">Bool</a>
    <a id="TCEnv.noConstraints"></a><a id="744" href="Interface.MonadTC.html#744" class="Field">noConstraints</a>  <a id="759" class="Symbol">:</a> <a id="761" href="Agda.Builtin.Bool.html#156" class="Datatype">Bool</a>
    <a id="TCEnv.reduction"></a><a id="770" href="Interface.MonadTC.html#770" class="Field">reduction</a>      <a id="785" class="Symbol">:</a> <a id="787" href="Interface.MonadTC.html#481" class="Datatype">ReductionOptions</a>
    <a id="TCEnv.globalContext"></a><a id="808" href="Interface.MonadTC.html#808" class="Field">globalContext</a>  <a id="823" class="Symbol">:</a> <a id="825" href="Agda.Builtin.List.html#130" class="Datatype">List</a> <a id="830" href="Function.Base.html#1994" class="Function Operator">$</a> <a id="832" href="Agda.Builtin.Reflection.html#3679" class="Datatype">Arg</a> <a id="836" href="Agda.Builtin.Reflection.html#4741" class="Function">Type</a>
    <a id="TCEnv.localContext"></a><a id="845" href="Interface.MonadTC.html#845" class="Field">localContext</a>   <a id="860" class="Symbol">:</a> <a id="862" href="Agda.Builtin.List.html#130" class="Datatype">List</a> <a id="867" href="Function.Base.html#1994" class="Function Operator">$</a> <a id="869" href="Agda.Builtin.Reflection.html#3926" class="Datatype">Abs</a> <a id="873" href="Function.Base.html#1994" class="Function Operator">$</a> <a id="875" href="Agda.Builtin.Reflection.html#3679" class="Datatype">Arg</a> <a id="879" href="Agda.Builtin.Reflection.html#4741" class="Function">Type</a>
    <a id="TCEnv.goal"></a><a id="888" href="Interface.MonadTC.html#888" class="Field">goal</a>           <a id="903" class="Symbol">:</a> <a id="905" href="Agda.Builtin.Reflection.html#4670" class="Datatype">Term</a> <a id="910" href="Data.Sum.Base.html#616" class="Datatype Operator">⊎</a> <a id="912" href="Agda.Builtin.Reflection.html#4741" class="Function">Type</a>
    <a id="TCEnv.debug"></a><a id="921" href="Interface.MonadTC.html#921" class="Field">debug</a>          <a id="936" class="Symbol">:</a> <a id="938" href="Reflection.Debug.html#2344" class="Record">DebugOptions</a>

<a id="initTCEnvWithGoal"></a><a id="952" href="Interface.MonadTC.html#952" class="Function">initTCEnvWithGoal</a> <a id="970" class="Symbol">:</a> <a id="972" href="Agda.Builtin.Reflection.html#4670" class="Datatype">Term</a> <a id="977" class="Symbol">→</a> <a id="979" href="Agda.Builtin.Reflection.html#8279" class="Postulate">R.TC</a> <a id="984" href="Interface.MonadTC.html#662" class="Record">TCEnv</a>
<a id="990" href="Interface.MonadTC.html#952" class="Function">initTCEnvWithGoal</a> <a id="1008" href="Interface.MonadTC.html#1008" class="Bound">goal</a> <a id="1013" class="Symbol">=</a> <a id="1015" href="Agda.Builtin.Reflection.html#8920" class="Postulate">R.getContext</a> <a id="1028" href="Interface.Monad.html#693" class="Function Operator">&lt;&amp;&gt;</a> <a id="1032" class="Symbol">λ</a> <a id="1034" href="Interface.MonadTC.html#1034" class="Bound">ctx</a> <a id="1038" class="Symbol">→</a> <a id="1040" class="Keyword">record</a>
  <a id="1049" class="Symbol">{</a> <a id="1051" href="Interface.MonadTC.html#692" class="Field">normalisation</a>  <a id="1066" class="Symbol">=</a> <a id="1068" href="Agda.Builtin.Bool.html#175" class="InductiveConstructor">false</a>
  <a id="1076" class="Symbol">;</a> <a id="1078" href="Interface.MonadTC.html#718" class="Field">reconstruction</a> <a id="1093" class="Symbol">=</a> <a id="1095" href="Agda.Builtin.Bool.html#175" class="InductiveConstructor">false</a>
  <a id="1103" class="Symbol">;</a> <a id="1105" href="Interface.MonadTC.html#744" class="Field">noConstraints</a>  <a id="1120" class="Symbol">=</a> <a id="1122" href="Agda.Builtin.Bool.html#175" class="InductiveConstructor">false</a>
  <a id="1130" class="Symbol">;</a> <a id="1132" href="Interface.MonadTC.html#770" class="Field">reduction</a>      <a id="1147" class="Symbol">=</a> <a id="1149" href="Interface.MonadTC.html#599" class="Function">reduceAll</a>
  <a id="1161" class="Symbol">;</a> <a id="1163" href="Interface.MonadTC.html#808" class="Field">globalContext</a>  <a id="1178" class="Symbol">=</a> <a id="1180" href="Data.List.Base.html#1606" class="Function">Data.List.map</a> <a id="1194" href="Data.Product.Base.html#622" class="Field">proj₂</a> <a id="1200" href="Interface.MonadTC.html#1034" class="Bound">ctx</a>
  <a id="1206" class="Symbol">;</a> <a id="1208" href="Interface.MonadTC.html#845" class="Field">localContext</a>   <a id="1223" class="Symbol">=</a> <a id="1225" href="Agda.Builtin.List.html#167" class="InductiveConstructor">[]</a>
  <a id="1230" class="Symbol">;</a> <a id="1232" href="Interface.MonadTC.html#888" class="Field">goal</a>           <a id="1247" class="Symbol">=</a> <a id="1249" href="Data.Sum.Base.html#666" class="InductiveConstructor">inj₁</a> <a id="1254" href="Interface.MonadTC.html#1008" class="Bound">goal</a>
  <a id="1261" class="Symbol">;</a> <a id="1263" href="Interface.MonadTC.html#921" class="Field">debug</a>          <a id="1278" class="Symbol">=</a> <a id="1280" href="Reflection.Debug.html#2478" class="Function">defaultDebugOptions</a>
  <a id="1302" class="Symbol">}</a>
  <a id="1306" class="Keyword">where</a>
    <a id="1316" class="Keyword">open</a> <a id="1321" href="Interface.Monad.html#179" class="Module">Monad</a> <a id="1327" class="Symbol">⦃...⦄</a>

<a id="initTCEnv"></a><a id="1334" href="Interface.MonadTC.html#1334" class="Function">initTCEnv</a> <a id="1344" class="Symbol">:</a> <a id="1346" href="Agda.Builtin.Reflection.html#8279" class="Postulate">R.TC</a> <a id="1351" href="Interface.MonadTC.html#662" class="Record">TCEnv</a>
<a id="1357" href="Interface.MonadTC.html#1334" class="Function">initTCEnv</a> <a id="1367" class="Symbol">=</a> <a id="1369" href="Interface.MonadTC.html#952" class="Function">initTCEnvWithGoal</a> <a id="1387" href="Agda.Builtin.Reflection.html#5271" class="InductiveConstructor">unknown</a>

<a id="1396" class="Keyword">record</a> <a id="MonadTC"></a><a id="1403" href="Interface.MonadTC.html#1403" class="Record">MonadTC</a> <a id="1411" class="Symbol">(</a><a id="1412" href="Interface.MonadTC.html#1412" class="Bound">M</a> <a id="1414" class="Symbol">:</a> <a id="1416" class="Symbol">∀</a> <a id="1418" class="Symbol">{</a><a id="1419" href="Interface.MonadTC.html#1419" class="Bound">f</a><a id="1420" class="Symbol">}</a> <a id="1422" class="Symbol">→</a> <a id="1424" href="Agda.Primitive.html#320" class="Primitive">Set</a> <a id="1428" href="Interface.MonadTC.html#1419" class="Bound">f</a> <a id="1430" class="Symbol">→</a> <a id="1432" href="Agda.Primitive.html#320" class="Primitive">Set</a> <a id="1436" href="Interface.MonadTC.html#1419" class="Bound">f</a><a id="1437" class="Symbol">)</a> <a id="1439" class="Symbol">⦃</a> <a id="1441" href="Interface.MonadTC.html#1441" class="Bound">m</a> <a id="1443" class="Symbol">:</a> <a id="1445" href="Interface.Monad.html#179" class="Record">Monad</a> <a id="1451" href="Interface.MonadTC.html#1412" class="Bound">M</a> <a id="1453" class="Symbol">⦄</a> <a id="1455" class="Symbol">⦃</a> <a id="1457" href="Interface.MonadTC.html#1457" class="Bound">me</a> <a id="1460" class="Symbol">:</a> <a id="1462" href="Interface.MonadError.html#293" class="Record">MonadError</a> <a id="1473" class="Symbol">(</a><a id="1474" href="Agda.Builtin.List.html#130" class="Datatype">List</a> <a id="1479" href="Agda.Builtin.Reflection.html#7876" class="Datatype">ErrorPart</a><a id="1488" class="Symbol">)</a> <a id="1490" href="Interface.MonadTC.html#1412" class="Bound">M</a> <a id="1492" class="Symbol">⦄</a> <a id="1494" class="Symbol">:</a> <a id="1496" href="Agda.Primitive.html#375" class="Primitive">Setω₁</a> <a id="1502" class="Keyword">where</a>
  <a id="1510" class="Keyword">field</a>
    <a id="MonadTC.unify"></a><a id="1520" href="Interface.MonadTC.html#1520" class="Field">unify</a>            <a id="1537" class="Symbol">:</a> <a id="1539" href="Agda.Builtin.Reflection.html#4670" class="Datatype">Term</a> <a id="1544" class="Symbol">→</a> <a id="1546" href="Agda.Builtin.Reflection.html#4670" class="Datatype">Term</a> <a id="1551" class="Symbol">→</a> <a id="1553" href="Interface.MonadTC.html#1412" class="Bound">M</a> <a id="1555" href="Agda.Builtin.Unit.html#158" class="Record">⊤</a>
    <a id="MonadTC.typeError"></a><a id="1561" href="Interface.MonadTC.html#1561" class="Field">typeError</a>        <a id="1578" class="Symbol">:</a> <a id="1580" class="Symbol">∀</a> <a id="1582" class="Symbol">{</a><a id="1583" href="Interface.MonadTC.html#1583" class="Bound">A</a> <a id="1585" class="Symbol">:</a> <a id="1587" href="Agda.Primitive.html#320" class="Primitive">Set</a> <a id="1591" href="Interface.MonadTC.html#371" class="Generalizable">f</a><a id="1592" class="Symbol">}</a> <a id="1594" class="Symbol">→</a> <a id="1596" href="Agda.Builtin.List.html#130" class="Datatype">List</a> <a id="1601" href="Agda.Builtin.Reflection.html#7876" class="Datatype">ErrorPart</a> <a id="1611" class="Symbol">→</a> <a id="1613" href="Interface.MonadTC.html#1412" class="Bound">M</a> <a id="1615" href="Interface.MonadTC.html#1583" class="Bound">A</a>
    <a id="MonadTC.inferType"></a><a id="1621" href="Interface.MonadTC.html#1621" class="Field">inferType</a>        <a id="1638" class="Symbol">:</a> <a id="1640" href="Agda.Builtin.Reflection.html#4670" class="Datatype">Term</a> <a id="1645" class="Symbol">→</a> <a id="1647" href="Interface.MonadTC.html#1412" class="Bound">M</a> <a id="1649" href="Agda.Builtin.Reflection.html#4741" class="Function">Type</a>
    <a id="MonadTC.checkType"></a><a id="1658" href="Interface.MonadTC.html#1658" class="Field">checkType</a>        <a id="1675" class="Symbol">:</a> <a id="1677" href="Agda.Builtin.Reflection.html#4670" class="Datatype">Term</a> <a id="1682" class="Symbol">→</a> <a id="1684" href="Agda.Builtin.Reflection.html#4741" class="Function">Type</a> <a id="1689" class="Symbol">→</a> <a id="1691" href="Interface.MonadTC.html#1412" class="Bound">M</a> <a id="1693" href="Agda.Builtin.Reflection.html#4670" class="Datatype">Term</a>
    <a id="MonadTC.normalise"></a><a id="1702" href="Interface.MonadTC.html#1702" class="Field">normalise</a>        <a id="1719" class="Symbol">:</a> <a id="1721" href="Agda.Builtin.Reflection.html#4670" class="Datatype">Term</a> <a id="1726" class="Symbol">→</a> <a id="1728" href="Interface.MonadTC.html#1412" class="Bound">M</a> <a id="1730" href="Agda.Builtin.Reflection.html#4670" class="Datatype">Term</a>
    <a id="MonadTC.reduce"></a><a id="1739" href="Interface.MonadTC.html#1739" class="Field">reduce</a>           <a id="1756" class="Symbol">:</a> <a id="1758" href="Agda.Builtin.Reflection.html#4670" class="Datatype">Term</a> <a id="1763" class="Symbol">→</a> <a id="1765" href="Interface.MonadTC.html#1412" class="Bound">M</a> <a id="1767" href="Agda.Builtin.Reflection.html#4670" class="Datatype">Term</a>
    <a id="MonadTC.quoteTC"></a><a id="1776" href="Interface.MonadTC.html#1776" class="Field">quoteTC</a>          <a id="1793" class="Symbol">:</a> <a id="1795" href="Interface.MonadTC.html#385" class="Generalizable">A</a> <a id="1797" class="Symbol">→</a> <a id="1799" href="Interface.MonadTC.html#1412" class="Bound">M</a> <a id="1801" href="Agda.Builtin.Reflection.html#4670" class="Datatype">Term</a>
    <a id="MonadTC.unquoteTC"></a><a id="1810" href="Interface.MonadTC.html#1810" class="Field">unquoteTC</a>        <a id="1827" class="Symbol">:</a> <a id="1829" href="Agda.Builtin.Reflection.html#4670" class="Datatype">Term</a> <a id="1834" class="Symbol">→</a> <a id="1836" href="Interface.MonadTC.html#1412" class="Bound">M</a> <a id="1838" href="Interface.MonadTC.html#385" class="Generalizable">A</a>
    <a id="MonadTC.quoteωTC"></a><a id="1844" href="Interface.MonadTC.html#1844" class="Field">quoteωTC</a>         <a id="1861" class="Symbol">:</a> <a id="1863" class="Symbol">∀</a> <a id="1865" class="Symbol">{</a><a id="1866" href="Interface.MonadTC.html#1866" class="Bound">A</a> <a id="1868" class="Symbol">:</a> <a id="1870" href="Agda.Primitive.html#375" class="Primitive">Setω</a><a id="1874" class="Symbol">}</a> <a id="1876" class="Symbol">→</a> <a id="1878" href="Interface.MonadTC.html#1866" class="Bound">A</a> <a id="1880" class="Symbol">→</a> <a id="1882" href="Interface.MonadTC.html#1412" class="Bound">M</a> <a id="1884" href="Agda.Builtin.Reflection.html#4670" class="Datatype">Term</a>
    <a id="MonadTC.freshName"></a><a id="1893" href="Interface.MonadTC.html#1893" class="Field">freshName</a>        <a id="1910" class="Symbol">:</a> <a id="1912" href="Agda.Builtin.String.html#318" class="Postulate">String</a> <a id="1919" class="Symbol">→</a> <a id="1921" href="Interface.MonadTC.html#1412" class="Bound">M</a> <a id="1923" href="Agda.Builtin.Reflection.html#471" class="Postulate">Name</a>
    <a id="MonadTC.declareDef"></a><a id="1932" href="Interface.MonadTC.html#1932" class="Field">declareDef</a>       <a id="1949" class="Symbol">:</a> <a id="1951" href="Agda.Builtin.Reflection.html#3679" class="Datatype">Arg</a> <a id="1955" href="Agda.Builtin.Reflection.html#471" class="Postulate">Name</a> <a id="1960" class="Symbol">→</a> <a id="1962" href="Agda.Builtin.Reflection.html#4741" class="Function">Type</a> <a id="1967" class="Symbol">→</a> <a id="1969" href="Interface.MonadTC.html#1412" class="Bound">M</a> <a id="1971" href="Agda.Builtin.Unit.html#158" class="Record">⊤</a>
    <a id="MonadTC.declarePostulate"></a><a id="1977" href="Interface.MonadTC.html#1977" class="Field">declarePostulate</a> <a id="1994" class="Symbol">:</a> <a id="1996" href="Agda.Builtin.Reflection.html#3679" class="Datatype">Arg</a> <a id="2000" href="Agda.Builtin.Reflection.html#471" class="Postulate">Name</a> <a id="2005" class="Symbol">→</a> <a id="2007" href="Agda.Builtin.Reflection.html#4741" class="Function">Type</a> <a id="2012" class="Symbol">→</a> <a id="2014" href="Interface.MonadTC.html#1412" class="Bound">M</a> <a id="2016" href="Agda.Builtin.Unit.html#158" class="Record">⊤</a>
    <a id="MonadTC.defineFun"></a><a id="2022" href="Interface.MonadTC.html#2022" class="Field">defineFun</a>        <a id="2039" class="Symbol">:</a> <a id="2041" href="Agda.Builtin.Reflection.html#471" class="Postulate">Name</a> <a id="2046" class="Symbol">→</a> <a id="2048" href="Agda.Builtin.List.html#130" class="Datatype">List</a> <a id="2053" href="Agda.Builtin.Reflection.html#4727" class="Datatype">Clause</a> <a id="2060" class="Symbol">→</a> <a id="2062" href="Interface.MonadTC.html#1412" class="Bound">M</a> <a id="2064" href="Agda.Builtin.Unit.html#158" class="Record">⊤</a>
    <a id="MonadTC.getType"></a><a id="2070" href="Interface.MonadTC.html#2070" class="Field">getType</a>          <a id="2087" class="Symbol">:</a> <a id="2089" href="Agda.Builtin.Reflection.html#471" class="Postulate">Name</a> <a id="2094" class="Symbol">→</a> <a id="2096" href="Interface.MonadTC.html#1412" class="Bound">M</a> <a id="2098" href="Agda.Builtin.Reflection.html#4741" class="Function">Type</a>
    <a id="MonadTC.getDefinition"></a><a id="2107" href="Interface.MonadTC.html#2107" class="Field">getDefinition</a>    <a id="2124" class="Symbol">:</a> <a id="2126" href="Agda.Builtin.Reflection.html#471" class="Postulate">Name</a> <a id="2131" class="Symbol">→</a> <a id="2133" href="Interface.MonadTC.html#1412" class="Bound">M</a> <a id="2135" href="Agda.Builtin.Reflection.html#7162" class="Datatype">Definition</a>
    <a id="MonadTC.blockOnMeta"></a><a id="2150" href="Interface.MonadTC.html#2150" class="Field">blockOnMeta</a>      <a id="2167" class="Symbol">:</a> <a id="2169" href="Agda.Builtin.Reflection.html#2440" class="Postulate">Meta</a> <a id="2174" class="Symbol">→</a> <a id="2176" href="Interface.MonadTC.html#1412" class="Bound">M</a> <a id="2178" href="Interface.MonadTC.html#385" class="Generalizable">A</a>
    <a id="MonadTC.commitTC"></a><a id="2184" href="Interface.MonadTC.html#2184" class="Field">commitTC</a>         <a id="2201" class="Symbol">:</a> <a id="2203" href="Interface.MonadTC.html#1412" class="Bound">M</a> <a id="2205" href="Agda.Builtin.Unit.html#158" class="Record">⊤</a>
    <a id="MonadTC.isMacro"></a><a id="2211" href="Interface.MonadTC.html#2211" class="Field">isMacro</a>          <a id="2228" class="Symbol">:</a> <a id="2230" href="Agda.Builtin.Reflection.html#471" class="Postulate">Name</a> <a id="2235" class="Symbol">→</a> <a id="2237" href="Interface.MonadTC.html#1412" class="Bound">M</a> <a id="2239" href="Agda.Builtin.Bool.html#156" class="Datatype">Bool</a>
    <a id="MonadTC.debugPrint"></a><a id="2248" href="Interface.MonadTC.html#2248" class="Field">debugPrint</a>       <a id="2265" class="Symbol">:</a> <a id="2267" href="Agda.Builtin.String.html#318" class="Postulate">String</a> <a id="2274" class="Symbol">→</a> <a id="2276" href="Agda.Builtin.Nat.html#186" class="Datatype">ℕ</a> <a id="2278" class="Symbol">→</a> <a id="2280" href="Agda.Builtin.List.html#130" class="Datatype">List</a> <a id="2285" href="Agda.Builtin.Reflection.html#7876" class="Datatype">ErrorPart</a> <a id="2295" class="Symbol">→</a> <a id="2297" href="Interface.MonadTC.html#1412" class="Bound">M</a> <a id="2299" href="Agda.Builtin.Unit.html#158" class="Record">⊤</a>
    <a id="MonadTC.runSpeculative"></a><a id="2305" href="Interface.MonadTC.html#2305" class="Field">runSpeculative</a>   <a id="2322" class="Symbol">:</a> <a id="2324" href="Interface.MonadTC.html#1412" class="Bound">M</a> <a id="2326" class="Symbol">(</a><a id="2327" href="Interface.MonadTC.html#385" class="Generalizable">A</a> <a id="2329" href="Data.Product.Base.html#1109" class="Function Operator">×</a> <a id="2331" href="Agda.Builtin.Bool.html#156" class="Datatype">Bool</a><a id="2335" class="Symbol">)</a> <a id="2337" class="Symbol">→</a> <a id="2339" href="Interface.MonadTC.html#1412" class="Bound">M</a> <a id="2341" href="Interface.MonadTC.html#385" class="Generalizable">A</a>

  <a id="2346" class="Keyword">open</a> <a id="2351" href="Interface.Monad.html#179" class="Module">Monad</a> <a id="2357" href="Interface.MonadTC.html#1441" class="Bound">m</a>
  <a id="2361" class="Keyword">open</a> <a id="2366" href="Interface.MonadError.html#293" class="Module">MonadError</a> <a id="2377" href="Interface.MonadTC.html#1457" class="Bound">me</a>

  <a id="MonadTC.runAndReset"></a><a id="2383" href="Interface.MonadTC.html#2383" class="Function">runAndReset</a> <a id="2395" class="Symbol">:</a> <a id="2397" href="Interface.MonadTC.html#1412" class="Bound">M</a> <a id="2399" href="Interface.MonadTC.html#385" class="Generalizable">A</a> <a id="2401" class="Symbol">→</a> <a id="2403" href="Interface.MonadTC.html#1412" class="Bound">M</a> <a id="2405" href="Interface.MonadTC.html#385" class="Generalizable">A</a>
  <a id="2409" href="Interface.MonadTC.html#2383" class="Function">runAndReset</a> <a id="2421" href="Interface.MonadTC.html#2421" class="Bound">x</a> <a id="2423" class="Symbol">=</a> <a id="2425" href="Interface.MonadTC.html#2305" class="Field">runSpeculative</a> <a id="2440" class="Symbol">((</a><a id="2442" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">_,</a> <a id="2445" href="Agda.Builtin.Bool.html#175" class="InductiveConstructor">false</a><a id="2450" class="Symbol">)</a> <a id="2452" href="Interface.Monad.html#631" class="Function Operator">&lt;$&gt;</a> <a id="2456" href="Interface.MonadTC.html#2421" class="Bound">x</a><a id="2457" class="Symbol">)</a>

  <a id="2462" class="Comment">-- dry-run and return true iff no error occured</a>
  <a id="2512" class="Comment">-- does not change any state</a>
  <a id="MonadTC.isSuccessful"></a><a id="2543" href="Interface.MonadTC.html#2543" class="Function">isSuccessful</a> <a id="2556" class="Symbol">:</a> <a id="2558" href="Interface.MonadTC.html#1412" class="Bound">M</a> <a id="2560" href="Interface.MonadTC.html#385" class="Generalizable">A</a> <a id="2562" class="Symbol">→</a> <a id="2564" href="Interface.MonadTC.html#1412" class="Bound">M</a> <a id="2566" href="Agda.Builtin.Bool.html#156" class="Datatype">Bool</a>
  <a id="2573" href="Interface.MonadTC.html#2543" class="Function">isSuccessful</a> <a id="2586" href="Interface.MonadTC.html#2586" class="Bound">x</a> <a id="2588" class="Symbol">=</a> <a id="2590" href="Interface.MonadTC.html#2383" class="Function">runAndReset</a> <a id="2602" class="Symbol">(</a><a id="2603" href="Interface.MonadError.html#389" class="Function">catch</a> <a id="2609" class="Symbol">(</a><a id="2610" href="Interface.MonadTC.html#2586" class="Bound">x</a> <a id="2612" href="Interface.Monad.html#345" class="Function Operator">&gt;&gt;</a> <a id="2615" href="Interface.Monad.html#290" class="Function">return</a> <a id="2622" href="Agda.Builtin.Bool.html#181" class="InductiveConstructor">true</a><a id="2626" class="Symbol">)</a> <a id="2628" class="Symbol">(λ</a> <a id="2631" href="Interface.MonadTC.html#2631" class="Bound">_</a> <a id="2633" class="Symbol">→</a> <a id="2635" href="Interface.Monad.html#290" class="Function">return</a> <a id="2642" href="Agda.Builtin.Bool.html#175" class="InductiveConstructor">false</a><a id="2647" class="Symbol">))</a>

  <a id="2653" class="Comment">-- TODO: return true on function, axiom and prim-fun constructors?</a>
  <a id="MonadTC.isDef"></a><a id="2722" href="Interface.MonadTC.html#2722" class="Function">isDef</a> <a id="2728" class="Symbol">:</a> <a id="2730" href="Agda.Builtin.Reflection.html#471" class="Postulate">Name</a> <a id="2735" class="Symbol">→</a> <a id="2737" href="Interface.MonadTC.html#1412" class="Bound">M</a> <a id="2739" href="Agda.Builtin.Bool.html#156" class="Datatype">Bool</a>
  <a id="2746" href="Interface.MonadTC.html#2722" class="Function">isDef</a> <a id="2752" href="Interface.MonadTC.html#2752" class="Bound">n</a> <a id="2754" class="Symbol">=</a> <a id="2756" class="Keyword">do</a>
    <a id="2763" href="Agda.Builtin.Reflection.html#7357" class="InductiveConstructor">constructor′</a> <a id="2776" class="Symbol">_</a> <a id="2778" href="Interface.Monad.html#311" class="Function Operator">←</a> <a id="2780" href="Interface.MonadTC.html#2107" class="Field">getDefinition</a> <a id="2794" href="Interface.MonadTC.html#2752" class="Bound">n</a>
      <a id="2802" class="Keyword">where</a> <a id="2808" class="CatchallClause Symbol">_</a> <a id="2810" class="Symbol">→</a> <a id="2812" href="Interface.Monad.html#290" class="Function">return</a> <a id="2819" href="Agda.Builtin.Bool.html#181" class="InductiveConstructor">true</a>
    <a id="2828" href="Interface.Monad.html#290" class="Function">return</a> <a id="2835" href="Agda.Builtin.Bool.html#175" class="InductiveConstructor">false</a>

  <a id="MonadTC.isCon"></a><a id="2844" href="Interface.MonadTC.html#2844" class="Function">isCon</a> <a id="2850" class="Symbol">:</a> <a id="2852" href="Agda.Builtin.Reflection.html#471" class="Postulate">Name</a> <a id="2857" class="Symbol">→</a> <a id="2859" href="Interface.MonadTC.html#1412" class="Bound">M</a> <a id="2861" href="Agda.Builtin.Bool.html#156" class="Datatype">Bool</a>
  <a id="2868" href="Interface.MonadTC.html#2844" class="Function">isCon</a> <a id="2874" href="Interface.MonadTC.html#2874" class="Bound">n</a> <a id="2876" class="Symbol">=</a> <a id="2878" class="Keyword">do</a>
    <a id="2885" href="Agda.Builtin.Reflection.html#7357" class="InductiveConstructor">constructor′</a> <a id="2898" class="Symbol">_</a> <a id="2900" href="Interface.Monad.html#311" class="Function Operator">←</a> <a id="2902" href="Interface.MonadTC.html#2107" class="Field">getDefinition</a> <a id="2916" href="Interface.MonadTC.html#2874" class="Bound">n</a>
      <a id="2924" class="Keyword">where</a> <a id="2930" class="CatchallClause Symbol">_</a> <a id="2932" class="Symbol">→</a> <a id="2934" href="Interface.Monad.html#290" class="Function">return</a> <a id="2941" href="Agda.Builtin.Bool.html#175" class="InductiveConstructor">false</a>
    <a id="2951" href="Interface.Monad.html#290" class="Function">return</a> <a id="2958" href="Agda.Builtin.Bool.html#181" class="InductiveConstructor">true</a>

  <a id="MonadTC.nameConstr"></a><a id="2966" href="Interface.MonadTC.html#2966" class="Function">nameConstr</a> <a id="2977" class="Symbol">:</a> <a id="2979" href="Agda.Builtin.Reflection.html#471" class="Postulate">Name</a> <a id="2984" class="Symbol">→</a> <a id="2986" href="Agda.Builtin.List.html#130" class="Datatype">List</a> <a id="2991" class="Symbol">(</a><a id="2992" href="Agda.Builtin.Reflection.html#3679" class="Datatype">Arg</a> <a id="2996" href="Agda.Builtin.Reflection.html#4670" class="Datatype">Term</a><a id="3000" class="Symbol">)</a> <a id="3002" class="Symbol">→</a> <a id="3004" href="Interface.MonadTC.html#1412" class="Bound">M</a> <a id="3006" href="Agda.Builtin.Reflection.html#4670" class="Datatype">Term</a>
  <a id="3013" href="Interface.MonadTC.html#2966" class="Function">nameConstr</a> <a id="3024" href="Interface.MonadTC.html#3024" class="Bound">n</a> <a id="3026" href="Interface.MonadTC.html#3026" class="Bound">args</a> <a id="3031" class="Symbol">=</a> <a id="3033" class="Keyword">do</a>
    <a id="3040" href="Interface.MonadTC.html#3040" class="Bound">isD</a> <a id="3044" href="Interface.Monad.html#311" class="Function Operator">←</a> <a id="3046" href="Interface.MonadTC.html#2722" class="Function">isDef</a> <a id="3052" href="Interface.MonadTC.html#3024" class="Bound">n</a>
    <a id="3058" href="Interface.MonadTC.html#3058" class="Bound">isC</a> <a id="3062" href="Interface.Monad.html#311" class="Function Operator">←</a> <a id="3064" href="Interface.MonadTC.html#2844" class="Function">isCon</a> <a id="3070" href="Interface.MonadTC.html#3024" class="Bound">n</a>
    <a id="3076" href="Function.Base.html#4053" class="Function Operator">case</a> <a id="3081" class="Symbol">(</a><a id="3082" href="Interface.MonadTC.html#3040" class="Bound">isD</a> <a id="3086" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="3088" href="Interface.MonadTC.html#3058" class="Bound">isC</a><a id="3091" class="Symbol">)</a> <a id="3093" href="Function.Base.html#4053" class="Function Operator">of</a> <a id="3096" class="Symbol">λ</a> <a id="3098" class="Keyword">where</a>
      <a id="3110" class="Symbol">(</a><a id="3111" href="Agda.Builtin.Bool.html#181" class="InductiveConstructor">true</a> <a id="3116" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="3118" class="Symbol">_)</a>      <a id="3126" class="Symbol">→</a> <a id="3128" href="Interface.Monad.html#290" class="Function">return</a> <a id="3135" href="Function.Base.html#1994" class="Function Operator">$</a> <a id="3137" href="Agda.Builtin.Reflection.html#4928" class="InductiveConstructor">def</a> <a id="3141" href="Interface.MonadTC.html#3024" class="Bound">n</a> <a id="3143" href="Interface.MonadTC.html#3026" class="Bound">args</a>
      <a id="3154" class="Symbol">(</a><a id="3155" href="Agda.Builtin.Bool.html#175" class="InductiveConstructor">false</a> <a id="3161" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="3163" href="Agda.Builtin.Bool.html#181" class="InductiveConstructor">true</a><a id="3167" class="Symbol">)</a>  <a id="3170" class="Symbol">→</a> <a id="3172" href="Interface.Monad.html#290" class="Function">return</a> <a id="3179" href="Function.Base.html#1994" class="Function Operator">$</a> <a id="3181" href="Agda.Builtin.Reflection.html#4871" class="InductiveConstructor">con</a> <a id="3185" href="Interface.MonadTC.html#3024" class="Bound">n</a> <a id="3187" href="Interface.MonadTC.html#3026" class="Bound">args</a>
      <a id="3198" class="Symbol">(</a><a id="3199" href="Agda.Builtin.Bool.html#175" class="InductiveConstructor">false</a> <a id="3205" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="3207" href="Agda.Builtin.Bool.html#175" class="InductiveConstructor">false</a><a id="3212" class="Symbol">)</a> <a id="3214" class="Symbol">→</a> <a id="3216" href="Interface.MonadError.html#369" class="Function">error</a> <a id="3222" class="Symbol">((</a><a id="3224" href="Agda.Builtin.Reflection.html#604" class="Primitive">R&#39;.primShowQName</a> <a id="3241" href="Interface.MonadTC.html#3024" class="Bound">n</a> <a id="3243" href="Data.String.Base.html#3047" class="Function Operator">&lt;+&gt;</a> <a id="3247" class="String">&quot;is neither a definition nor a constructor!&quot;</a><a id="3291" class="Symbol">)</a> <a id="3293" href="Reflection.Debug.html#996" class="Function Operator">∷ᵈ</a> <a id="3296" href="Agda.Builtin.List.html#167" class="InductiveConstructor">[]</a><a id="3298" class="Symbol">)</a>

  <a id="MonadTC.termFromName"></a><a id="3303" href="Interface.MonadTC.html#3303" class="Function">termFromName</a> <a id="3316" class="Symbol">:</a> <a id="3318" href="Agda.Builtin.Reflection.html#471" class="Postulate">Name</a> <a id="3323" class="Symbol">→</a> <a id="3325" href="Interface.MonadTC.html#1412" class="Bound">M</a> <a id="3327" href="Agda.Builtin.Reflection.html#4670" class="Datatype">Term</a>
  <a id="3334" href="Interface.MonadTC.html#3303" class="Function">termFromName</a> <a id="3347" href="Interface.MonadTC.html#3347" class="Bound">n</a> <a id="3349" class="Symbol">=</a> <a id="3351" href="Interface.MonadTC.html#2966" class="Function">nameConstr</a> <a id="3362" href="Interface.MonadTC.html#3347" class="Bound">n</a> <a id="3364" href="Agda.Builtin.List.html#167" class="InductiveConstructor">[]</a>

  <a id="3370" class="Comment">-- apply the unique constructor of the record to the arguments</a>
  <a id="MonadTC.mkRecord"></a><a id="3435" href="Interface.MonadTC.html#3435" class="Function">mkRecord</a> <a id="3444" class="Symbol">:</a> <a id="3446" href="Agda.Builtin.Reflection.html#471" class="Postulate">Name</a> <a id="3451" class="Symbol">→</a> <a id="3453" href="Agda.Builtin.List.html#130" class="Datatype">List</a> <a id="3458" class="Symbol">(</a><a id="3459" href="Agda.Builtin.Reflection.html#3679" class="Datatype">Arg</a> <a id="3463" href="Agda.Builtin.Reflection.html#4670" class="Datatype">Term</a><a id="3467" class="Symbol">)</a> <a id="3469" class="Symbol">→</a> <a id="3471" href="Interface.MonadTC.html#1412" class="Bound">M</a> <a id="3473" href="Agda.Builtin.Reflection.html#4670" class="Datatype">Term</a>
  <a id="3480" href="Interface.MonadTC.html#3435" class="Function">mkRecord</a> <a id="3489" href="Interface.MonadTC.html#3489" class="Bound">n</a> <a id="3491" href="Interface.MonadTC.html#3491" class="Bound">args</a> <a id="3496" class="Symbol">=</a> <a id="3498" class="Keyword">do</a>
    <a id="3505" class="Symbol">(</a><a id="3506" href="Agda.Builtin.Reflection.html#7294" class="InductiveConstructor">record′</a> <a id="3514" href="Interface.MonadTC.html#3514" class="Bound">c</a> <a id="3516" class="Symbol">_)</a> <a id="3519" href="Interface.Monad.html#311" class="Function Operator">←</a> <a id="3521" href="Interface.MonadTC.html#2107" class="Field">getDefinition</a> <a id="3535" href="Interface.MonadTC.html#3489" class="Bound">n</a>
      <a id="3543" class="Keyword">where</a> <a id="3549" class="CatchallClause Symbol">_</a> <a id="3551" class="Symbol">→</a> <a id="3553" href="Interface.MonadError.html#369" class="Function">error</a> <a id="3559" class="Symbol">(</a><a id="3560" class="String">&quot;Not a record!&quot;</a> <a id="3576" href="Reflection.Debug.html#996" class="Function Operator">∷ᵈ</a> <a id="3579" href="Agda.Builtin.List.html#167" class="InductiveConstructor">[]</a><a id="3581" class="Symbol">)</a>
    <a id="3587" href="Interface.Monad.html#290" class="Function">return</a> <a id="3594" href="Function.Base.html#1994" class="Function Operator">$</a> <a id="3596" href="Agda.Builtin.Reflection.html#4871" class="InductiveConstructor">con</a> <a id="3600" href="Interface.MonadTC.html#3514" class="Bound">c</a> <a id="3602" href="Interface.MonadTC.html#3491" class="Bound">args</a>

  <a id="3610" class="Comment">-- this allows mutual recursion</a>
  <a id="MonadTC.declareAndDefineFuns"></a><a id="3644" href="Interface.MonadTC.html#3644" class="Function">declareAndDefineFuns</a> <a id="3665" class="Symbol">:</a> <a id="3667" href="Agda.Builtin.List.html#130" class="Datatype">List</a> <a id="3672" class="Symbol">(</a><a id="3673" href="Agda.Builtin.Reflection.html#3679" class="Datatype">Arg</a> <a id="3677" href="Agda.Builtin.Reflection.html#471" class="Postulate">Name</a> <a id="3682" href="Data.Product.Base.html#1109" class="Function Operator">×</a> <a id="3684" href="Agda.Builtin.Reflection.html#4741" class="Function">Type</a> <a id="3689" href="Data.Product.Base.html#1109" class="Function Operator">×</a> <a id="3691" href="Agda.Builtin.List.html#130" class="Datatype">List</a> <a id="3696" href="Agda.Builtin.Reflection.html#4727" class="Datatype">Clause</a><a id="3702" class="Symbol">)</a> <a id="3704" class="Symbol">→</a> <a id="3706" href="Interface.MonadTC.html#1412" class="Bound">M</a> <a id="3708" href="Agda.Builtin.Unit.html#158" class="Record">⊤</a>
  <a id="3712" href="Interface.MonadTC.html#3644" class="Function">declareAndDefineFuns</a> <a id="3733" href="Interface.MonadTC.html#3733" class="Bound">ds</a> <a id="3736" class="Symbol">=</a> <a id="3738" class="Keyword">do</a>
    <a id="3745" href="Interface.Monad.html#824" class="Function">traverseList</a> <a id="3758" class="Symbol">(λ</a> <a id="3761" class="Keyword">where</a> <a id="3767" class="Symbol">(</a><a id="3768" href="Interface.MonadTC.html#3768" class="Bound">n</a> <a id="3770" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="3772" href="Interface.MonadTC.html#3772" class="Bound">t</a> <a id="3774" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="3776" class="Symbol">_)</a> <a id="3779" class="Symbol">→</a> <a id="3781" href="Interface.MonadTC.html#1932" class="Field">declareDef</a> <a id="3792" href="Interface.MonadTC.html#3768" class="Bound">n</a> <a id="3794" href="Interface.MonadTC.html#3772" class="Bound">t</a><a id="3795" class="Symbol">)</a> <a id="3797" href="Interface.MonadTC.html#3733" class="Bound">ds</a>
    <a id="3804" href="Interface.Monad.html#824" class="Function">traverseList</a> <a id="3817" class="Symbol">((λ</a> <a id="3821" class="Keyword">where</a> <a id="3827" class="Symbol">(</a><a id="3828" href="Agda.Builtin.Reflection.html#3715" class="InductiveConstructor">arg</a> <a id="3832" class="Symbol">_</a> <a id="3834" href="Interface.MonadTC.html#3834" class="Bound">n</a> <a id="3836" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="3838" class="Symbol">_</a> <a id="3840" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="3842" href="Interface.MonadTC.html#3842" class="Bound">cs</a><a id="3844" class="Symbol">)</a> <a id="3846" class="Symbol">→</a> <a id="3848" href="Interface.MonadTC.html#2022" class="Field">defineFun</a> <a id="3858" href="Interface.MonadTC.html#3834" class="Bound">n</a> <a id="3860" href="Interface.MonadTC.html#3842" class="Bound">cs</a><a id="3862" class="Symbol">))</a> <a id="3865" href="Interface.MonadTC.html#3733" class="Bound">ds</a>
    <a id="3872" href="Interface.Monad.html#290" class="Function">return</a> <a id="3879" class="Symbol">_</a>

  <a id="MonadTC.declareAndDefineFun"></a><a id="3884" href="Interface.MonadTC.html#3884" class="Function">declareAndDefineFun</a> <a id="3904" class="Symbol">:</a> <a id="3906" href="Agda.Builtin.Reflection.html#3679" class="Datatype">Arg</a> <a id="3910" href="Agda.Builtin.Reflection.html#471" class="Postulate">Name</a> <a id="3915" class="Symbol">→</a> <a id="3917" href="Agda.Builtin.Reflection.html#4741" class="Function">Type</a> <a id="3922" class="Symbol">→</a> <a id="3924" href="Agda.Builtin.List.html#130" class="Datatype">List</a> <a id="3929" href="Agda.Builtin.Reflection.html#4727" class="Datatype">Clause</a> <a id="3936" class="Symbol">→</a> <a id="3938" href="Interface.MonadTC.html#1412" class="Bound">M</a> <a id="3940" href="Agda.Builtin.Unit.html#158" class="Record">⊤</a>
  <a id="3944" href="Interface.MonadTC.html#3884" class="Function">declareAndDefineFun</a> <a id="3964" href="Interface.MonadTC.html#3964" class="Bound">n</a> <a id="3966" href="Interface.MonadTC.html#3966" class="Bound">ty</a> <a id="3969" href="Interface.MonadTC.html#3969" class="Bound">cls</a> <a id="3973" class="Symbol">=</a> <a id="3975" href="Interface.MonadTC.html#3644" class="Function">declareAndDefineFuns</a> <a id="3996" href="Data.List.Base.html#5219" class="Function Operator">[</a> <a id="3998" class="Symbol">(</a><a id="3999" href="Interface.MonadTC.html#3964" class="Bound">n</a> <a id="4001" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="4003" href="Interface.MonadTC.html#3966" class="Bound">ty</a> <a id="4006" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="4008" href="Interface.MonadTC.html#3969" class="Bound">cls</a><a id="4011" class="Symbol">)</a> <a id="4013" href="Data.List.Base.html#5219" class="Function Operator">]</a>

  <a id="MonadTC.newMeta"></a><a id="4018" href="Interface.MonadTC.html#4018" class="Function">newMeta</a> <a id="4026" class="Symbol">:</a> <a id="4028" href="Agda.Builtin.Reflection.html#4670" class="Datatype">Term</a> <a id="4033" class="Symbol">→</a> <a id="4035" href="Interface.MonadTC.html#1412" class="Bound">M</a> <a id="4037" href="Agda.Builtin.Reflection.html#4670" class="Datatype">Term</a>
  <a id="4044" href="Interface.MonadTC.html#4018" class="Function">newMeta</a> <a id="4052" class="Symbol">=</a> <a id="4054" href="Interface.MonadTC.html#1658" class="Field">checkType</a> <a id="4064" href="Agda.Builtin.Reflection.html#5271" class="InductiveConstructor">unknown</a>

<a id="4073" class="Keyword">module</a> <a id="4080" href="Interface.MonadTC.html#4080" class="Module">_</a> <a id="4082" class="Symbol">{</a><a id="4083" href="Interface.MonadTC.html#4083" class="Bound">M</a> <a id="4085" class="Symbol">:</a> <a id="4087" class="Symbol">∀</a> <a id="4089" class="Symbol">{</a><a id="4090" href="Interface.MonadTC.html#4090" class="Bound">f</a><a id="4091" class="Symbol">}</a> <a id="4093" class="Symbol">→</a> <a id="4095" href="Agda.Primitive.html#320" class="Primitive">Set</a> <a id="4099" href="Interface.MonadTC.html#4090" class="Bound">f</a> <a id="4101" class="Symbol">→</a> <a id="4103" href="Agda.Primitive.html#320" class="Primitive">Set</a> <a id="4107" href="Interface.MonadTC.html#4090" class="Bound">f</a><a id="4108" class="Symbol">}</a>
  <a id="4112" class="Symbol">⦃</a> <a id="4114" href="Interface.MonadTC.html#4114" class="Bound">m</a> <a id="4116" class="Symbol">:</a> <a id="4118" href="Interface.Monad.html#179" class="Record">Monad</a> <a id="4124" href="Interface.MonadTC.html#4083" class="Bound">M</a> <a id="4126" class="Symbol">⦄</a> <a id="4128" class="Symbol">⦃</a> <a id="4130" href="Interface.MonadTC.html#4130" class="Bound">me</a> <a id="4133" class="Symbol">:</a> <a id="4135" href="Interface.MonadError.html#293" class="Record">MonadError</a> <a id="4146" class="Symbol">(</a><a id="4147" href="Agda.Builtin.List.html#130" class="Datatype">List</a> <a id="4152" href="Agda.Builtin.Reflection.html#7876" class="Datatype">ErrorPart</a><a id="4161" class="Symbol">)</a> <a id="4163" href="Interface.MonadTC.html#4083" class="Bound">M</a> <a id="4165" class="Symbol">⦄</a> <a id="4167" class="Symbol">⦃</a> <a id="4169" href="Interface.MonadTC.html#4169" class="Bound">mtc</a> <a id="4173" class="Symbol">:</a> <a id="4175" href="Interface.MonadTC.html#1403" class="Record">MonadTC</a> <a id="4183" href="Interface.MonadTC.html#4083" class="Bound">M</a> <a id="4185" class="Symbol">⦄</a> <a id="4187" class="Symbol">⦃</a> <a id="4189" href="Interface.MonadTC.html#4189" class="Bound">mre</a> <a id="4193" class="Symbol">:</a> <a id="4195" href="Interface.MonadReader.html#235" class="Record">MonadReader</a> <a id="4207" href="Interface.MonadTC.html#662" class="Record">TCEnv</a> <a id="4213" href="Interface.MonadTC.html#4083" class="Bound">M</a> <a id="4215" class="Symbol">⦄</a> <a id="4217" class="Keyword">where</a>

  <a id="4226" class="Keyword">open</a> <a id="4231" href="Interface.Monad.html#179" class="Module">Monad</a> <a id="4237" href="Interface.MonadTC.html#4114" class="Bound">m</a>
  <a id="4241" class="Keyword">open</a> <a id="4246" href="Interface.MonadError.html#293" class="Module">MonadError</a> <a id="4257" href="Interface.MonadTC.html#4130" class="Bound">me</a>
  <a id="4262" class="Keyword">open</a> <a id="4267" href="Interface.MonadTC.html#1403" class="Module">MonadTC</a> <a id="4275" href="Interface.MonadTC.html#4169" class="Bound">mtc</a>
  <a id="4281" class="Keyword">open</a> <a id="4286" href="Interface.MonadReader.html#235" class="Module">MonadReader</a> <a id="4298" href="Interface.MonadTC.html#4189" class="Bound">mre</a>

  <a id="4305" class="Keyword">record</a> <a id="4312" href="Interface.MonadTC.html#4312" class="Record">IsMErrorPart</a> <a id="4325" class="Symbol">(</a><a id="4326" href="Interface.MonadTC.html#4326" class="Bound">A</a> <a id="4328" class="Symbol">:</a> <a id="4330" href="Agda.Primitive.html#320" class="Primitive">Set</a> <a id="4334" href="Interface.MonadTC.html#369" class="Generalizable">a</a><a id="4335" class="Symbol">)</a> <a id="4337" class="Symbol">:</a> <a id="4339" href="Agda.Primitive.html#375" class="Primitive">Setω</a> <a id="4344" class="Keyword">where</a>
    <a id="4354" class="Keyword">field</a> <a id="4360" href="Interface.MonadTC.html#4360" class="Field">toMErrorPart</a> <a id="4373" class="Symbol">:</a> <a id="4375" href="Interface.MonadTC.html#4326" class="Bound">A</a> <a id="4377" class="Symbol">→</a> <a id="4379" href="Interface.MonadTC.html#4083" class="Bound">M</a> <a id="4381" class="Symbol">(</a><a id="4382" href="Agda.Builtin.List.html#130" class="Datatype">List</a> <a id="4387" href="Agda.Builtin.Reflection.html#7876" class="Datatype">ErrorPart</a><a id="4396" class="Symbol">)</a>

  <a id="4401" class="Keyword">open</a> <a id="4406" href="Interface.MonadTC.html#4312" class="Module">IsMErrorPart</a> <a id="4419" class="Symbol">⦃...⦄</a> <a id="4425" class="Keyword">public</a>

  <a id="4435" class="Keyword">data</a> <a id="4440" href="Interface.MonadTC.html#4440" class="Datatype">MErrorPartWrap</a> <a id="4455" class="Symbol">:</a> <a id="4457" href="Agda.Primitive.html#320" class="Primitive">Set</a> <a id="4461" class="Keyword">where</a>
    <a id="4471" href="Interface.MonadTC.html#4471" class="InductiveConstructor">wrap</a> <a id="4476" class="Symbol">:</a> <a id="4478" href="Interface.MonadTC.html#4083" class="Bound">M</a> <a id="4480" class="Symbol">(</a><a id="4481" href="Agda.Builtin.List.html#130" class="Datatype">List</a> <a id="4486" href="Agda.Builtin.Reflection.html#7876" class="Datatype">ErrorPart</a><a id="4495" class="Symbol">)</a> <a id="4497" class="Symbol">→</a> <a id="4499" href="Interface.MonadTC.html#4440" class="Datatype">MErrorPartWrap</a>

  <a id="4517" href="Interface.MonadTC.html#4517" class="Function">IsMErrorPart-IsErrorPart</a> <a id="4542" class="Symbol">:</a> <a id="4544" class="Symbol">⦃</a> <a id="4546" href="Interface.MonadTC.html#4546" class="Symbol">_</a> <a id="4548" class="Symbol">:</a> <a id="4550" href="Reflection.Debug.html#334" class="Record">IsErrorPart</a> <a id="4562" href="Interface.MonadTC.html#385" class="Generalizable">A</a> <a id="4564" class="Symbol">⦄</a> <a id="4566" class="Symbol">→</a> <a id="4568" href="Interface.MonadTC.html#4312" class="Record">IsMErrorPart</a> <a id="4581" href="Interface.MonadTC.html#385" class="Generalizable">A</a>
  <a id="4585" href="Interface.MonadTC.html#4517" class="Function">IsMErrorPart-IsErrorPart</a> <a id="4610" class="Symbol">.</a><a id="4611" href="Interface.MonadTC.html#4360" class="Field">toMErrorPart</a> <a id="4624" href="Interface.MonadTC.html#4624" class="Bound">a</a> <a id="4626" class="Symbol">=</a> <a id="4628" href="Interface.Monad.html#290" class="Function">return</a> <a id="4635" href="Data.List.Base.html#5219" class="Function Operator">[</a> <a id="4637" href="Reflection.Debug.html#380" class="Field">toErrorPart</a> <a id="4649" href="Interface.MonadTC.html#4624" class="Bound">a</a> <a id="4651" href="Data.List.Base.html#5219" class="Function Operator">]</a>

  <a id="4656" class="Keyword">instance</a>
    <a id="4669" href="Interface.MonadTC.html#4669" class="Function">IsMErrorPart-String</a> <a id="4689" class="Symbol">:</a> <a id="4691" href="Interface.MonadTC.html#4312" class="Record">IsMErrorPart</a> <a id="4704" href="Agda.Builtin.String.html#318" class="Postulate">String</a>
    <a id="4715" href="Interface.MonadTC.html#4669" class="Function">IsMErrorPart-String</a> <a id="4735" class="Symbol">=</a> <a id="4737" href="Interface.MonadTC.html#4517" class="Function">IsMErrorPart-IsErrorPart</a>

    <a id="4767" href="Interface.MonadTC.html#4767" class="Function">IsMErrorPart-Term</a> <a id="4785" class="Symbol">:</a> <a id="4787" href="Interface.MonadTC.html#4312" class="Record">IsMErrorPart</a> <a id="4800" href="Agda.Builtin.Reflection.html#4670" class="Datatype">Term</a>
    <a id="4809" href="Interface.MonadTC.html#4767" class="Function">IsMErrorPart-Term</a> <a id="4827" class="Symbol">=</a> <a id="4829" href="Interface.MonadTC.html#4517" class="Function">IsMErrorPart-IsErrorPart</a>

    <a id="4859" href="Interface.MonadTC.html#4859" class="Function">IsMErrorPart-Name</a> <a id="4877" class="Symbol">:</a> <a id="4879" href="Interface.MonadTC.html#4312" class="Record">IsMErrorPart</a> <a id="4892" href="Agda.Builtin.Reflection.html#471" class="Postulate">Name</a>
    <a id="4901" href="Interface.MonadTC.html#4859" class="Function">IsMErrorPart-Name</a> <a id="4919" class="Symbol">=</a> <a id="4921" href="Interface.MonadTC.html#4517" class="Function">IsMErrorPart-IsErrorPart</a>

    <a id="4951" href="Interface.MonadTC.html#4951" class="Function">IsMErrorPart-MErrorPartWrap</a> <a id="4979" class="Symbol">:</a> <a id="4981" href="Interface.MonadTC.html#4312" class="Record">IsMErrorPart</a> <a id="4994" href="Interface.MonadTC.html#4440" class="Datatype">MErrorPartWrap</a>
    <a id="5013" href="Interface.MonadTC.html#4951" class="Function">IsMErrorPart-MErrorPartWrap</a> <a id="5041" class="Symbol">.</a><a id="5042" href="Interface.MonadTC.html#4360" class="Field">toMErrorPart</a> <a id="5055" class="Symbol">(</a><a id="5056" href="Interface.MonadTC.html#4471" class="InductiveConstructor">wrap</a> <a id="5061" href="Interface.MonadTC.html#5061" class="Bound">a</a><a id="5062" class="Symbol">)</a> <a id="5064" class="Symbol">=</a> <a id="5066" href="Interface.MonadTC.html#5061" class="Bound">a</a>

  <a id="5071" href="Interface.MonadTC.html#5071" class="Function">[]ᵐ</a> <a id="5075" class="Symbol">:</a> <a id="5077" href="Interface.MonadTC.html#4083" class="Bound">M</a> <a id="5079" class="Symbol">(</a><a id="5080" href="Agda.Builtin.List.html#130" class="Datatype">List</a> <a id="5085" href="Agda.Builtin.Reflection.html#7876" class="Datatype">ErrorPart</a><a id="5094" class="Symbol">)</a>
  <a id="5098" href="Interface.MonadTC.html#5071" class="Function">[]ᵐ</a> <a id="5102" class="Symbol">=</a> <a id="5104" href="Interface.Monad.html#290" class="Function">return</a> <a id="5111" href="Agda.Builtin.List.html#167" class="InductiveConstructor">[]</a>

  <a id="5117" class="Keyword">infixr</a> <a id="5124" class="Number">5</a> <a id="5126" href="Interface.MonadTC.html#5134" class="Function Operator">_∷ᵈᵐ_</a>
  <a id="5134" href="Interface.MonadTC.html#5134" class="Function Operator">_∷ᵈᵐ_</a> <a id="5140" class="Symbol">:</a> <a id="5142" href="Interface.MonadTC.html#385" class="Generalizable">A</a> <a id="5144" class="Symbol">→</a> <a id="5146" class="Symbol">⦃</a> <a id="5148" href="Interface.MonadTC.html#5148" class="Symbol">_</a> <a id="5150" class="Symbol">:</a> <a id="5152" href="Interface.MonadTC.html#4312" class="Record">IsMErrorPart</a> <a id="5165" href="Interface.MonadTC.html#385" class="Generalizable">A</a> <a id="5167" class="Symbol">⦄</a> <a id="5169" class="Symbol">→</a> <a id="5171" href="Interface.MonadTC.html#4083" class="Bound">M</a> <a id="5173" class="Symbol">(</a><a id="5174" href="Agda.Builtin.List.html#130" class="Datatype">List</a> <a id="5179" href="Agda.Builtin.Reflection.html#7876" class="Datatype">ErrorPart</a><a id="5188" class="Symbol">)</a> <a id="5190" class="Symbol">→</a> <a id="5192" href="Interface.MonadTC.html#4083" class="Bound">M</a> <a id="5194" class="Symbol">(</a><a id="5195" href="Agda.Builtin.List.html#130" class="Datatype">List</a> <a id="5200" href="Agda.Builtin.Reflection.html#7876" class="Datatype">ErrorPart</a><a id="5209" class="Symbol">)</a>
  <a id="5213" href="Interface.MonadTC.html#5213" class="Bound">e</a> <a id="5215" href="Interface.MonadTC.html#5134" class="Function Operator">∷ᵈᵐ</a> <a id="5219" href="Interface.MonadTC.html#5219" class="Bound">es</a> <a id="5222" class="Symbol">=</a> <a id="5224" class="Keyword">do</a> <a id="5227" href="Interface.MonadTC.html#5227" class="Bound">e</a> <a id="5229" href="Interface.Monad.html#311" class="Function Operator">←</a> <a id="5231" href="Interface.MonadTC.html#4360" class="Field">toMErrorPart</a> <a id="5244" href="Interface.MonadTC.html#5213" class="Bound">e</a><a id="5245" class="Symbol">;</a> <a id="5247" href="Interface.MonadTC.html#5247" class="Bound">es</a> <a id="5250" href="Interface.Monad.html#311" class="Function Operator">←</a> <a id="5252" href="Interface.MonadTC.html#5219" class="Bound">es</a><a id="5254" class="Symbol">;</a> <a id="5256" href="Interface.Monad.html#290" class="Function">return</a> <a id="5263" class="Symbol">(</a><a id="5264" href="Interface.MonadTC.html#5227" class="Bound">e</a> <a id="5266" href="Data.List.Base.html#1929" class="Function Operator">++</a> <a id="5269" href="Interface.MonadTC.html#5247" class="Bound">es</a><a id="5271" class="Symbol">)</a>

  <a id="5276" href="Interface.MonadTC.html#5276" class="Function Operator">_ᵛ</a> <a id="5279" class="Symbol">:</a> <a id="5281" href="Interface.MonadTC.html#385" class="Generalizable">A</a> <a id="5283" class="Symbol">→</a> <a id="5285" href="Interface.MonadTC.html#4440" class="Datatype">MErrorPartWrap</a>
  <a id="5302" href="Interface.MonadTC.html#5302" class="Bound">a</a> <a id="5304" href="Interface.MonadTC.html#5276" class="Function Operator">ᵛ</a> <a id="5306" class="Symbol">=</a> <a id="5308" href="Interface.MonadTC.html#4471" class="InductiveConstructor">wrap</a> <a id="5313" class="Keyword">do</a> <a id="5316" href="Interface.MonadTC.html#5316" class="Bound">a</a> <a id="5318" href="Interface.Monad.html#311" class="Function Operator">←</a> <a id="5320" href="Interface.MonadTC.html#1776" class="Function">quoteTC</a> <a id="5328" href="Interface.MonadTC.html#5302" class="Bound">a</a><a id="5329" class="Symbol">;</a> <a id="5331" href="Interface.Monad.html#290" class="Function">return</a> <a id="5338" class="Symbol">(</a><a id="5339" href="Interface.MonadTC.html#5316" class="Bound">a</a> <a id="5341" href="Reflection.Debug.html#996" class="Function Operator">∷ᵈ</a> <a id="5344" href="Agda.Builtin.List.html#167" class="InductiveConstructor">[]</a><a id="5346" class="Symbol">)</a>

  <a id="5351" href="Interface.MonadTC.html#5351" class="Function Operator">_ᵛⁿ</a> <a id="5355" class="Symbol">:</a> <a id="5357" href="Interface.MonadTC.html#385" class="Generalizable">A</a> <a id="5359" class="Symbol">→</a> <a id="5361" href="Interface.MonadTC.html#4440" class="Datatype">MErrorPartWrap</a>
  <a id="5378" href="Interface.MonadTC.html#5378" class="Bound">a</a> <a id="5380" href="Interface.MonadTC.html#5351" class="Function Operator">ᵛⁿ</a> <a id="5383" class="Symbol">=</a> <a id="5385" href="Interface.MonadTC.html#4471" class="InductiveConstructor">wrap</a> <a id="5390" class="Keyword">do</a> <a id="5393" href="Interface.MonadTC.html#5393" class="Bound">a</a> <a id="5395" href="Interface.Monad.html#311" class="Function Operator">←</a> <a id="5397" href="Interface.MonadReader.html#342" class="Field">local</a> <a id="5403" class="Symbol">(λ</a> <a id="5406" href="Interface.MonadTC.html#5406" class="Bound">env</a> <a id="5410" class="Symbol">→</a> <a id="5412" class="Keyword">record</a> <a id="5419" href="Interface.MonadTC.html#5406" class="Bound">env</a> <a id="5423" class="Symbol">{</a> <a id="5425" href="Interface.MonadTC.html#692" class="Field">normalisation</a> <a id="5439" class="Symbol">=</a> <a id="5441" href="Agda.Builtin.Bool.html#181" class="InductiveConstructor">true</a> <a id="5446" class="Symbol">})</a> <a id="5449" href="Function.Base.html#1994" class="Function Operator">$</a> <a id="5451" href="Interface.MonadTC.html#1776" class="Function">quoteTC</a> <a id="5459" href="Interface.MonadTC.html#5378" class="Bound">a</a><a id="5460" class="Symbol">;</a> <a id="5462" href="Interface.Monad.html#290" class="Function">return</a> <a id="5469" class="Symbol">(</a><a id="5470" href="Interface.MonadTC.html#5393" class="Bound">a</a> <a id="5472" href="Reflection.Debug.html#996" class="Function Operator">∷ᵈ</a> <a id="5475" href="Agda.Builtin.List.html#167" class="InductiveConstructor">[]</a><a id="5477" class="Symbol">)</a>

  <a id="5482" href="Interface.MonadTC.html#5482" class="Function Operator">_ᵗ</a> <a id="5485" class="Symbol">:</a> <a id="5487" href="Agda.Builtin.Reflection.html#4670" class="Datatype">Term</a> <a id="5492" class="Symbol">→</a> <a id="5494" href="Interface.MonadTC.html#4440" class="Datatype">MErrorPartWrap</a>
  <a id="5511" href="Interface.MonadTC.html#5511" class="Bound">t</a> <a id="5513" href="Interface.MonadTC.html#5482" class="Function Operator">ᵗ</a> <a id="5515" class="Symbol">=</a> <a id="5517" href="Interface.MonadTC.html#4471" class="InductiveConstructor">wrap</a> <a id="5522" class="Keyword">do</a> <a id="5525" href="Interface.MonadTC.html#5525" class="Bound">T</a> <a id="5527" href="Interface.Monad.html#311" class="Function Operator">←</a> <a id="5529" href="Interface.MonadTC.html#1621" class="Function">inferType</a> <a id="5539" href="Interface.MonadTC.html#5511" class="Bound">t</a><a id="5540" class="Symbol">;</a> <a id="5542" href="Interface.Monad.html#290" class="Function">return</a> <a id="5549" class="Symbol">(</a><a id="5550" href="Interface.MonadTC.html#5511" class="Bound">t</a> <a id="5552" href="Reflection.Debug.html#996" class="Function Operator">∷ᵈ</a> <a id="5555" class="String">&quot; : &quot;</a> <a id="5561" href="Reflection.Debug.html#996" class="Function Operator">∷ᵈ</a> <a id="5564" href="Interface.MonadTC.html#5525" class="Bound">T</a> <a id="5566" href="Reflection.Debug.html#996" class="Function Operator">∷ᵈ</a> <a id="5569" href="Agda.Builtin.List.html#167" class="InductiveConstructor">[]</a><a id="5571" class="Symbol">)</a>

  <a id="5576" href="Interface.MonadTC.html#5576" class="Function">debugLog</a> <a id="5585" class="Symbol">:</a> <a id="5587" href="Agda.Builtin.List.html#130" class="Datatype">List</a> <a id="5592" href="Agda.Builtin.Reflection.html#7876" class="Datatype">ErrorPart</a> <a id="5602" class="Symbol">→</a> <a id="5604" href="Interface.MonadTC.html#4083" class="Bound">M</a> <a id="5606" href="Agda.Builtin.Unit.html#158" class="Record">⊤</a>
  <a id="5610" href="Interface.MonadTC.html#5576" class="Function">debugLog</a> <a id="5619" href="Interface.MonadTC.html#5619" class="Bound">es</a> <a id="5622" class="Symbol">=</a> <a id="5624" class="Keyword">do</a>
    <a id="5631" class="Keyword">record</a> <a id="5638" class="Symbol">{</a> <a id="5640" href="Interface.MonadTC.html#921" class="Field">debug</a> <a id="5646" class="Symbol">=</a> <a id="5648" href="Interface.MonadTC.html#5648" class="Bound">debug</a> <a id="5654" class="Symbol">}</a> <a id="5656" href="Interface.Monad.html#311" class="Function Operator">←</a> <a id="5658" href="Interface.MonadReader.html#328" class="Field">ask</a>
    <a id="5666" href="Data.Bool.Base.html#1283" class="Function Operator">if</a> <a id="5669" href="Interface.MonadTC.html#5648" class="Bound">debug</a> <a id="5675" class="Symbol">.</a><a id="5676" href="Reflection.Debug.html#2440" class="Field">DebugOptions.filter</a> <a id="5696" class="Symbol">(</a><a id="5697" href="Interface.MonadTC.html#5648" class="Bound">debug</a> <a id="5703" class="Symbol">.</a><a id="5704" href="Reflection.Debug.html#2381" class="Field">DebugOptions.path</a><a id="5721" class="Symbol">)</a>
      <a id="5729" href="Data.Bool.Base.html#1283" class="Function Operator">then</a> <a id="5734" href="Interface.MonadTC.html#2248" class="Function">debugPrint</a> <a id="5745" class="Symbol">(</a><a id="5746" href="Reflection.Debug.html#2803" class="Function">debugOptionsPath</a> <a id="5763" href="Interface.MonadTC.html#5648" class="Bound">debug</a><a id="5768" class="Symbol">)</a> <a id="5770" class="Symbol">(</a><a id="5771" href="Interface.MonadTC.html#5648" class="Bound">debug</a> <a id="5777" class="Symbol">.</a><a id="5778" href="Reflection.Debug.html#2463" class="Field">DebugOptions.level</a><a id="5796" class="Symbol">)</a>
             <a id="5811" class="Symbol">(</a><a id="5812" href="Reflection.Debug.html#3199" class="Function">debugPrintPrefix</a> <a id="5829" href="Interface.MonadTC.html#5648" class="Bound">debug</a> <a id="5835" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">∷</a> <a id="5837" href="Interface.MonadTC.html#5619" class="Bound">es</a><a id="5839" class="Symbol">)</a>
      <a id="5847" href="Data.Bool.Base.html#1283" class="Function Operator">else</a> <a id="5852" href="Interface.Monad.html#290" class="Function">return</a> <a id="5859" href="Agda.Builtin.Unit.html#195" class="InductiveConstructor">tt</a>

  <a id="5865" href="Interface.MonadTC.html#5865" class="Function">debugLogᵐ</a> <a id="5875" class="Symbol">:</a> <a id="5877" href="Interface.MonadTC.html#4083" class="Bound">M</a> <a id="5879" class="Symbol">(</a><a id="5880" href="Agda.Builtin.List.html#130" class="Datatype">List</a> <a id="5885" href="Agda.Builtin.Reflection.html#7876" class="Datatype">ErrorPart</a><a id="5894" class="Symbol">)</a> <a id="5896" class="Symbol">→</a> <a id="5898" href="Interface.MonadTC.html#4083" class="Bound">M</a> <a id="5900" href="Agda.Builtin.Unit.html#158" class="Record">⊤</a>
  <a id="5904" href="Interface.MonadTC.html#5865" class="Function">debugLogᵐ</a> <a id="5914" href="Interface.MonadTC.html#5914" class="Bound">x</a> <a id="5916" class="Symbol">=</a> <a id="5918" class="Keyword">do</a> <a id="5921" href="Interface.MonadTC.html#5921" class="Bound">x</a> <a id="5923" href="Interface.Monad.html#311" class="Function Operator">←</a> <a id="5925" href="Interface.MonadTC.html#5914" class="Bound">x</a><a id="5926" class="Symbol">;</a> <a id="5928" href="Interface.MonadTC.html#5576" class="Function">debugLog</a> <a id="5937" href="Interface.MonadTC.html#5921" class="Bound">x</a>

  <a id="5942" href="Interface.MonadTC.html#5942" class="Function">debugLog1ᵐ</a> <a id="5953" class="Symbol">:</a> <a id="5955" href="Interface.MonadTC.html#385" class="Generalizable">A</a> <a id="5957" class="Symbol">→</a> <a id="5959" class="Symbol">⦃</a> <a id="5961" href="Interface.MonadTC.html#5961" class="Symbol">_</a> <a id="5963" class="Symbol">:</a> <a id="5965" href="Interface.MonadTC.html#4312" class="Record">IsMErrorPart</a> <a id="5978" href="Interface.MonadTC.html#385" class="Generalizable">A</a> <a id="5980" class="Symbol">⦄</a> <a id="5982" class="Symbol">→</a> <a id="5984" href="Interface.MonadTC.html#4083" class="Bound">M</a> <a id="5986" href="Agda.Builtin.Unit.html#158" class="Record">⊤</a>
  <a id="5990" href="Interface.MonadTC.html#5942" class="Function">debugLog1ᵐ</a> <a id="6001" href="Interface.MonadTC.html#6001" class="Bound">a</a> <a id="6003" class="Symbol">=</a> <a id="6005" href="Interface.MonadTC.html#5865" class="Function">debugLogᵐ</a> <a id="6015" class="Symbol">(</a><a id="6016" href="Interface.MonadTC.html#6001" class="Bound">a</a> <a id="6018" href="Interface.MonadTC.html#5134" class="Function Operator">∷ᵈᵐ</a> <a id="6022" href="Interface.MonadTC.html#5071" class="Function">[]ᵐ</a><a id="6025" class="Symbol">)</a>

  <a id="6030" href="Interface.MonadTC.html#6030" class="Function">withDebugOptions</a> <a id="6047" class="Symbol">:</a> <a id="6049" href="Reflection.Debug.html#2344" class="Record">DebugOptions</a> <a id="6062" class="Symbol">→</a> <a id="6064" href="Interface.MonadTC.html#4083" class="Bound">M</a> <a id="6066" href="Interface.MonadTC.html#385" class="Generalizable">A</a> <a id="6068" class="Symbol">→</a> <a id="6070" href="Interface.MonadTC.html#4083" class="Bound">M</a> <a id="6072" href="Interface.MonadTC.html#385" class="Generalizable">A</a>
  <a id="6076" href="Interface.MonadTC.html#6030" class="Function">withDebugOptions</a> <a id="6093" href="Interface.MonadTC.html#6093" class="Bound">opts</a> <a id="6098" href="Interface.MonadTC.html#6098" class="Bound">x</a> <a id="6100" class="Symbol">=</a> <a id="6102" href="Interface.MonadReader.html#342" class="Field">local</a> <a id="6108" class="Symbol">(λ</a> <a id="6111" class="Keyword">where</a>
    <a id="6121" href="Interface.MonadTC.html#6121" class="Bound">env</a><a id="6124" class="Symbol">@</a><a id="6125" class="Keyword">record</a> <a id="6132" class="Symbol">{</a> <a id="6134" href="Interface.MonadTC.html#921" class="Field">debug</a> <a id="6140" class="Symbol">=</a> <a id="6142" href="Interface.MonadTC.html#6142" class="Bound">opts&#39;</a> <a id="6148" class="Symbol">}</a> <a id="6150" class="Symbol">→</a> <a id="6152" class="Keyword">record</a> <a id="6159" href="Interface.MonadTC.html#6121" class="Bound">env</a> <a id="6163" class="Symbol">{</a> <a id="6165" href="Interface.MonadTC.html#921" class="Field">debug</a> <a id="6171" class="Symbol">=</a> <a id="6173" href="Reflection.Debug.html#2606" class="Function">specializeDebugOptions</a> <a id="6196" href="Interface.MonadTC.html#6142" class="Bound">opts&#39;</a> <a id="6202" href="Interface.MonadTC.html#6093" class="Bound">opts</a> <a id="6207" class="Symbol">})</a> <a id="6210" href="Interface.MonadTC.html#6098" class="Bound">x</a>

  <a id="6215" href="Interface.MonadTC.html#6215" class="Function">withAppendDebugPath</a> <a id="6235" class="Symbol">:</a> <a id="6237" href="Agda.Builtin.String.html#318" class="Postulate">String</a> <a id="6244" class="Symbol">→</a> <a id="6246" href="Interface.MonadTC.html#4083" class="Bound">M</a> <a id="6248" href="Interface.MonadTC.html#385" class="Generalizable">A</a> <a id="6250" class="Symbol">→</a> <a id="6252" href="Interface.MonadTC.html#4083" class="Bound">M</a> <a id="6254" href="Interface.MonadTC.html#385" class="Generalizable">A</a>
  <a id="6258" href="Interface.MonadTC.html#6215" class="Function">withAppendDebugPath</a> <a id="6278" href="Interface.MonadTC.html#6278" class="Bound">path</a> <a id="6283" href="Interface.MonadTC.html#6283" class="Bound">x</a> <a id="6285" class="Symbol">=</a> <a id="6287" href="Interface.MonadReader.html#342" class="Field">local</a> <a id="6293" class="Symbol">(λ</a> <a id="6296" class="Keyword">where</a>
    <a id="6306" href="Interface.MonadTC.html#6306" class="Bound">env</a><a id="6309" class="Symbol">@</a><a id="6310" class="Keyword">record</a> <a id="6317" class="Symbol">{</a> <a id="6319" href="Interface.MonadTC.html#921" class="Field">debug</a> <a id="6325" class="Symbol">=</a> <a id="6327" href="Interface.MonadTC.html#6327" class="Bound">opts</a> <a id="6332" class="Symbol">}</a> <a id="6334" class="Symbol">→</a> <a id="6336" class="Keyword">record</a> <a id="6343" href="Interface.MonadTC.html#6306" class="Bound">env</a> <a id="6347" class="Symbol">{</a> <a id="6349" href="Interface.MonadTC.html#921" class="Field">debug</a> <a id="6355" class="Symbol">=</a> <a id="6357" class="Keyword">record</a> <a id="6364" href="Interface.MonadTC.html#6327" class="Bound">opts</a> <a id="6369" class="Symbol">{</a> <a id="6371" href="Reflection.Debug.html#2381" class="Field">path</a> <a id="6376" class="Symbol">=</a> <a id="6378" href="Interface.MonadTC.html#6327" class="Bound">opts</a> <a id="6383" class="Symbol">.</a><a id="6384" href="Reflection.Debug.html#2381" class="Field">DebugOptions.path</a> <a id="6402" href="Data.List.Base.html#7213" class="Function Operator">∷ʳ</a> <a id="6405" href="Interface.MonadTC.html#6278" class="Bound">path</a> <a id="6410" class="Symbol">}</a> <a id="6412" class="Symbol">})</a> <a id="6415" href="Interface.MonadTC.html#6283" class="Bound">x</a>

  <a id="6420" href="Interface.MonadTC.html#6420" class="Function">noConstraints</a> <a id="6434" class="Symbol">:</a> <a id="6436" href="Interface.MonadTC.html#4083" class="Bound">M</a> <a id="6438" href="Interface.MonadTC.html#385" class="Generalizable">A</a> <a id="6440" class="Symbol">→</a> <a id="6442" href="Interface.MonadTC.html#4083" class="Bound">M</a> <a id="6444" href="Interface.MonadTC.html#385" class="Generalizable">A</a>
  <a id="6448" href="Interface.MonadTC.html#6420" class="Function">noConstraints</a> <a id="6462" class="Symbol">=</a> <a id="6464" href="Interface.MonadReader.html#342" class="Field">local</a> <a id="6470" class="Symbol">λ</a> <a id="6472" href="Interface.MonadTC.html#6472" class="Bound">e</a> <a id="6474" class="Symbol">→</a> <a id="6476" class="Keyword">record</a> <a id="6483" href="Interface.MonadTC.html#6472" class="Bound">e</a> <a id="6485" class="Symbol">{</a> <a id="6487" href="Interface.MonadTC.html#744" class="Field">noConstraints</a> <a id="6501" class="Symbol">=</a> <a id="6503" href="Agda.Builtin.Bool.html#181" class="InductiveConstructor">true</a> <a id="6508" class="Symbol">}</a>

  <a id="6513" href="Interface.MonadTC.html#6513" class="Function">hasType</a> <a id="6521" class="Symbol">:</a> <a id="6523" href="Agda.Builtin.Reflection.html#4670" class="Datatype">Term</a> <a id="6528" class="Symbol">→</a> <a id="6530" href="Agda.Builtin.Reflection.html#4741" class="Function">Type</a> <a id="6535" class="Symbol">→</a> <a id="6537" href="Interface.MonadTC.html#4083" class="Bound">M</a> <a id="6539" href="Agda.Builtin.Bool.html#156" class="Datatype">Bool</a>
  <a id="6546" href="Interface.MonadTC.html#6513" class="Function">hasType</a> <a id="6554" href="Interface.MonadTC.html#6554" class="Bound">t</a> <a id="6556" href="Interface.MonadTC.html#6556" class="Bound">ty</a> <a id="6559" class="Symbol">=</a> <a id="6561" href="Interface.MonadTC.html#2543" class="Function">isSuccessful</a> <a id="6574" class="Symbol">(</a><a id="6575" href="Interface.MonadTC.html#6420" class="Function">noConstraints</a> <a id="6589" href="Function.Base.html#1994" class="Function Operator">$</a> <a id="6591" href="Interface.MonadTC.html#1658" class="Function">checkType</a> <a id="6601" href="Interface.MonadTC.html#6554" class="Bound">t</a> <a id="6603" href="Interface.MonadTC.html#6556" class="Bound">ty</a><a id="6605" class="Symbol">)</a>

  <a id="6610" href="Interface.MonadTC.html#6610" class="Function">hasType&#39;</a> <a id="6619" class="Symbol">:</a> <a id="6621" href="Agda.Builtin.Reflection.html#471" class="Postulate">Name</a> <a id="6626" class="Symbol">→</a> <a id="6628" href="Agda.Builtin.Reflection.html#4741" class="Function">Type</a> <a id="6633" class="Symbol">→</a> <a id="6635" href="Interface.MonadTC.html#4083" class="Bound">M</a> <a id="6637" href="Agda.Builtin.Bool.html#156" class="Datatype">Bool</a>
  <a id="6644" href="Interface.MonadTC.html#6610" class="Function">hasType&#39;</a> <a id="6653" href="Interface.MonadTC.html#6653" class="Bound">n</a> <a id="6655" href="Interface.MonadTC.html#6655" class="Bound">ty</a> <a id="6658" class="Symbol">=</a> <a id="6660" href="Interface.MonadTC.html#2543" class="Function">isSuccessful</a> <a id="6673" href="Function.Base.html#1994" class="Function Operator">$</a> <a id="6675" href="Interface.MonadTC.html#6420" class="Function">noConstraints</a> <a id="6689" href="Function.Base.html#1994" class="Function Operator">$</a> <a id="6691" class="Keyword">do</a>
    <a id="6698" href="Interface.MonadTC.html#6698" class="Bound">t</a> <a id="6700" href="Interface.Monad.html#311" class="Function Operator">←</a> <a id="6702" href="Interface.MonadTC.html#3303" class="Function">termFromName</a> <a id="6715" href="Interface.MonadTC.html#6653" class="Bound">n</a>
    <a id="6721" href="Interface.MonadTC.html#6721" class="Bound">t&#39;</a> <a id="6724" href="Interface.Monad.html#311" class="Function Operator">←</a> <a id="6726" href="Interface.MonadTC.html#1658" class="Function">checkType</a> <a id="6736" href="Interface.MonadTC.html#6698" class="Bound">t</a> <a id="6738" href="Interface.MonadTC.html#6655" class="Bound">ty</a>
    <a id="6745" href="Data.Bool.Base.html#1283" class="Function Operator">if</a> <a id="6748" href="Interface.MonadTC.html#7153" class="Function">isAppliedToUnknownsAndMetas</a> <a id="6776" href="Interface.MonadTC.html#6721" class="Bound">t&#39;</a>
      <a id="6785" href="Data.Bool.Base.html#1283" class="Function Operator">then</a> <a id="6790" href="Interface.Monad.html#290" class="Function">return</a> <a id="6797" href="Agda.Builtin.Unit.html#195" class="InductiveConstructor">tt</a>
      <a id="6806" href="Data.Bool.Base.html#1283" class="Function Operator">else</a> <a id="6811" href="Interface.MonadError.html#369" class="Function">error</a> <a id="6817" class="Symbol">(</a><a id="6818" class="String">&quot;This makes the function return false&quot;</a> <a id="6857" href="Reflection.Debug.html#996" class="Function Operator">∷ᵈ</a> <a id="6860" href="Agda.Builtin.List.html#167" class="InductiveConstructor">[]</a><a id="6862" class="Symbol">)</a>
    <a id="6868" class="Keyword">where</a>
      <a id="6880" href="Interface.MonadTC.html#6880" class="Function">isUnknownsAndMetas</a> <a id="6899" class="Symbol">:</a> <a id="6901" href="Agda.Builtin.List.html#130" class="Datatype">List</a> <a id="6906" class="Symbol">(</a><a id="6907" href="Agda.Builtin.Reflection.html#3679" class="Datatype">Arg</a> <a id="6911" href="Agda.Builtin.Reflection.html#4670" class="Datatype">Term</a><a id="6915" class="Symbol">)</a> <a id="6917" class="Symbol">→</a> <a id="6919" href="Agda.Builtin.Bool.html#156" class="Datatype">Bool</a>
      <a id="6930" href="Interface.MonadTC.html#6880" class="Function">isUnknownsAndMetas</a> <a id="6949" href="Agda.Builtin.List.html#167" class="InductiveConstructor">[]</a> <a id="6952" class="Symbol">=</a> <a id="6954" href="Agda.Builtin.Bool.html#181" class="InductiveConstructor">true</a>
      <a id="6965" href="Interface.MonadTC.html#6880" class="Function">isUnknownsAndMetas</a> <a id="6984" class="Symbol">(</a><a id="6985" href="Agda.Builtin.Reflection.html#3715" class="InductiveConstructor">arg</a> <a id="6989" href="Interface.MonadTC.html#6989" class="Bound">i</a> <a id="6991" class="Symbol">(</a><a id="6992" href="Agda.Builtin.Reflection.html#5221" class="InductiveConstructor">meta</a> <a id="6997" href="Interface.MonadTC.html#6997" class="Bound">x</a> <a id="6999" href="Interface.MonadTC.html#6999" class="Bound">x₁</a><a id="7001" class="Symbol">)</a> <a id="7003" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">∷</a> <a id="7005" href="Interface.MonadTC.html#7005" class="Bound">l</a><a id="7006" class="Symbol">)</a> <a id="7008" class="Symbol">=</a> <a id="7010" href="Interface.MonadTC.html#6880" class="Function">isUnknownsAndMetas</a> <a id="7029" href="Interface.MonadTC.html#7005" class="Bound">l</a>
      <a id="7037" href="Interface.MonadTC.html#6880" class="Function">isUnknownsAndMetas</a> <a id="7056" class="Symbol">(</a><a id="7057" href="Agda.Builtin.Reflection.html#3715" class="InductiveConstructor">arg</a> <a id="7061" href="Interface.MonadTC.html#7061" class="Bound">i</a> <a id="7063" href="Agda.Builtin.Reflection.html#5271" class="InductiveConstructor">unknown</a> <a id="7071" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">∷</a> <a id="7073" href="Interface.MonadTC.html#7073" class="Bound">l</a><a id="7074" class="Symbol">)</a> <a id="7076" class="Symbol">=</a> <a id="7078" href="Interface.MonadTC.html#6880" class="Function">isUnknownsAndMetas</a> <a id="7097" href="Interface.MonadTC.html#7073" class="Bound">l</a>
      <a id="7105" href="Interface.MonadTC.html#6880" class="CatchallClause Function">isUnknownsAndMetas</a><a id="7123" class="CatchallClause"> </a><a id="7124" class="CatchallClause Symbol">(</a><a id="7125" href="Agda.Builtin.Reflection.html#3715" class="CatchallClause InductiveConstructor">arg</a><a id="7128" class="CatchallClause"> </a><a id="7129" href="Interface.MonadTC.html#7129" class="CatchallClause Bound">i</a><a id="7130" class="CatchallClause"> </a><a id="7131" class="CatchallClause Symbol">_</a><a id="7132" class="CatchallClause"> </a><a id="7133" href="Agda.Builtin.List.html#182" class="CatchallClause InductiveConstructor Operator">∷</a><a id="7134" class="CatchallClause"> </a><a id="7135" href="Interface.MonadTC.html#7135" class="CatchallClause Bound">l</a><a id="7136" class="CatchallClause Symbol">)</a> <a id="7138" class="Symbol">=</a> <a id="7140" href="Agda.Builtin.Bool.html#175" class="InductiveConstructor">false</a>

      <a id="7153" href="Interface.MonadTC.html#7153" class="Function">isAppliedToUnknownsAndMetas</a> <a id="7181" class="Symbol">:</a> <a id="7183" href="Agda.Builtin.Reflection.html#4670" class="Datatype">Term</a> <a id="7188" class="Symbol">→</a> <a id="7190" href="Agda.Builtin.Bool.html#156" class="Datatype">Bool</a>
      <a id="7201" href="Interface.MonadTC.html#7153" class="Function">isAppliedToUnknownsAndMetas</a> <a id="7229" class="Symbol">(</a><a id="7230" href="Agda.Builtin.Reflection.html#4815" class="InductiveConstructor">var</a> <a id="7234" href="Interface.MonadTC.html#7234" class="Bound">x</a> <a id="7236" href="Interface.MonadTC.html#7236" class="Bound">args</a><a id="7240" class="Symbol">)</a>      <a id="7247" class="Symbol">=</a> <a id="7249" href="Interface.MonadTC.html#6880" class="Function">isUnknownsAndMetas</a> <a id="7268" href="Interface.MonadTC.html#7236" class="Bound">args</a>
      <a id="7279" href="Interface.MonadTC.html#7153" class="Function">isAppliedToUnknownsAndMetas</a> <a id="7307" class="Symbol">(</a><a id="7308" href="Agda.Builtin.Reflection.html#4871" class="InductiveConstructor">con</a> <a id="7312" href="Interface.MonadTC.html#7312" class="Bound">c</a> <a id="7314" href="Interface.MonadTC.html#7314" class="Bound">args</a><a id="7318" class="Symbol">)</a>      <a id="7325" class="Symbol">=</a> <a id="7327" href="Interface.MonadTC.html#6880" class="Function">isUnknownsAndMetas</a> <a id="7346" href="Interface.MonadTC.html#7314" class="Bound">args</a>
      <a id="7357" href="Interface.MonadTC.html#7153" class="Function">isAppliedToUnknownsAndMetas</a> <a id="7385" class="Symbol">(</a><a id="7386" href="Agda.Builtin.Reflection.html#4928" class="InductiveConstructor">def</a> <a id="7390" href="Interface.MonadTC.html#7390" class="Bound">f</a> <a id="7392" href="Interface.MonadTC.html#7392" class="Bound">args</a><a id="7396" class="Symbol">)</a>      <a id="7403" class="Symbol">=</a> <a id="7405" href="Interface.MonadTC.html#6880" class="Function">isUnknownsAndMetas</a> <a id="7424" href="Interface.MonadTC.html#7392" class="Bound">args</a>
      <a id="7435" href="Interface.MonadTC.html#7153" class="Function">isAppliedToUnknownsAndMetas</a> <a id="7463" class="Symbol">(</a><a id="7464" href="Agda.Builtin.Reflection.html#5038" class="InductiveConstructor">pat-lam</a> <a id="7472" href="Interface.MonadTC.html#7472" class="Bound">cs</a> <a id="7475" href="Interface.MonadTC.html#7475" class="Bound">args</a><a id="7479" class="Symbol">)</a> <a id="7481" class="Symbol">=</a> <a id="7483" href="Interface.MonadTC.html#6880" class="Function">isUnknownsAndMetas</a> <a id="7502" href="Interface.MonadTC.html#7475" class="Bound">args</a>
      <a id="7513" href="Interface.MonadTC.html#7153" class="Function">isAppliedToUnknownsAndMetas</a> <a id="7541" class="Symbol">(</a><a id="7542" href="Agda.Builtin.Reflection.html#5221" class="InductiveConstructor">meta</a> <a id="7547" href="Interface.MonadTC.html#7547" class="Bound">x</a> <a id="7549" href="Interface.MonadTC.html#7549" class="Bound">args</a><a id="7553" class="Symbol">)</a>     <a id="7559" class="Symbol">=</a> <a id="7561" href="Interface.MonadTC.html#6880" class="Function">isUnknownsAndMetas</a> <a id="7580" href="Interface.MonadTC.html#7549" class="Bound">args</a>
      <a id="7591" href="Interface.MonadTC.html#7153" class="CatchallClause Function">isAppliedToUnknownsAndMetas</a><a id="7618" class="CatchallClause"> </a><a id="7619" class="CatchallClause Symbol">_</a>                 <a id="7637" class="Symbol">=</a> <a id="7639" href="Agda.Builtin.Bool.html#181" class="InductiveConstructor">true</a>

  <a id="7647" href="Interface.MonadTC.html#7647" class="Function">extendContext</a> <a id="7661" class="Symbol">:</a> <a id="7663" href="Agda.Builtin.Reflection.html#3679" class="Datatype">Arg</a> <a id="7667" href="Agda.Builtin.Reflection.html#4741" class="Function">Type</a> <a id="7672" class="Symbol">→</a> <a id="7674" href="Interface.MonadTC.html#4083" class="Bound">M</a> <a id="7676" href="Interface.MonadTC.html#385" class="Generalizable">A</a> <a id="7678" class="Symbol">→</a> <a id="7680" href="Interface.MonadTC.html#4083" class="Bound">M</a> <a id="7682" href="Interface.MonadTC.html#385" class="Generalizable">A</a>
  <a id="7686" href="Interface.MonadTC.html#7647" class="Function">extendContext</a> <a id="7700" href="Interface.MonadTC.html#7700" class="Bound">ty</a> <a id="7703" class="Symbol">=</a> <a id="7705" href="Interface.MonadReader.html#342" class="Field">local</a> <a id="7711" class="Symbol">λ</a> <a id="7713" class="Keyword">where</a> <a id="7719" href="Interface.MonadTC.html#7719" class="Bound">e</a><a id="7720" class="Symbol">@</a><a id="7721" class="Keyword">record</a> <a id="7728" class="Symbol">{</a> <a id="7730" href="Interface.MonadTC.html#845" class="Field">localContext</a> <a id="7743" class="Symbol">=</a> <a id="7745" href="Interface.MonadTC.html#7745" class="Bound">Γ</a> <a id="7747" class="Symbol">}</a> <a id="7749" class="Symbol">→</a> <a id="7751" class="Keyword">record</a> <a id="7758" href="Interface.MonadTC.html#7719" class="Bound">e</a> <a id="7760" class="Symbol">{</a> <a id="7762" href="Interface.MonadTC.html#845" class="Field">localContext</a> <a id="7775" class="Symbol">=</a> <a id="7777" href="Agda.Builtin.Reflection.html#3962" class="InductiveConstructor">abs</a> <a id="7781" class="String">&quot;&quot;</a> <a id="7784" href="Interface.MonadTC.html#7700" class="Bound">ty</a> <a id="7787" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">∷</a> <a id="7789" href="Interface.MonadTC.html#7745" class="Bound">Γ</a> <a id="7791" class="Symbol">}</a>

  <a id="7796" href="Interface.MonadTC.html#7796" class="Function">getContext</a> <a id="7807" class="Symbol">:</a> <a id="7809" href="Interface.MonadTC.html#4083" class="Bound">M</a> <a id="7811" href="Function.Base.html#1994" class="Function Operator">$</a> <a id="7813" href="Agda.Builtin.List.html#130" class="Datatype">List</a> <a id="7818" href="Function.Base.html#1994" class="Function Operator">$</a> <a id="7820" href="Agda.Builtin.Reflection.html#3679" class="Datatype">Arg</a> <a id="7824" href="Agda.Builtin.Reflection.html#4741" class="Function">Type</a>
  <a id="7831" href="Interface.MonadTC.html#7796" class="Function">getContext</a> <a id="7842" class="Symbol">=</a> <a id="7844" href="Interface.MonadReader.html#393" class="Function">reader</a> <a id="7851" class="Symbol">λ</a> <a id="7853" class="Keyword">where</a>
    <a id="7863" href="Interface.MonadTC.html#7863" class="Bound">e</a><a id="7864" class="Symbol">@</a><a id="7865" class="Keyword">record</a> <a id="7872" class="Symbol">{</a> <a id="7874" href="Interface.MonadTC.html#845" class="Field">localContext</a> <a id="7887" class="Symbol">=</a> <a id="7889" href="Interface.MonadTC.html#7889" class="Bound">Γ</a> <a id="7891" class="Symbol">;</a> <a id="7893" href="Interface.MonadTC.html#808" class="Field">globalContext</a> <a id="7907" class="Symbol">=</a> <a id="7909" href="Interface.MonadTC.html#7909" class="Bound">Γ&#39;</a> <a id="7912" class="Symbol">}</a> <a id="7914" class="Symbol">→</a> <a id="7916" href="Data.List.Base.html#1606" class="Function">map</a> <a id="7920" href="Reflection.AST.Abstraction.html#1701" class="Function">unAbs</a> <a id="7926" href="Interface.MonadTC.html#7889" class="Bound">Γ</a> <a id="7928" href="Data.List.Base.html#1929" class="Function Operator">Data.List.++</a> <a id="7941" href="Interface.MonadTC.html#7909" class="Bound">Γ&#39;</a>

  <a id="7947" href="Interface.MonadTC.html#7947" class="Function">getLocalContext</a> <a id="7963" class="Symbol">:</a> <a id="7965" href="Interface.MonadTC.html#4083" class="Bound">M</a> <a id="7967" href="Function.Base.html#1994" class="Function Operator">$</a> <a id="7969" href="Agda.Builtin.List.html#130" class="Datatype">List</a> <a id="7974" href="Function.Base.html#1994" class="Function Operator">$</a> <a id="7976" href="Agda.Builtin.Reflection.html#3679" class="Datatype">Arg</a> <a id="7980" href="Agda.Builtin.Reflection.html#4741" class="Function">Type</a>
  <a id="7987" href="Interface.MonadTC.html#7947" class="Function">getLocalContext</a> <a id="8003" class="Symbol">=</a> <a id="8005" href="Interface.MonadReader.html#393" class="Function">reader</a> <a id="8012" class="Symbol">λ</a> <a id="8014" class="Keyword">where</a> <a id="8020" href="Interface.MonadTC.html#8020" class="Bound">e</a><a id="8021" class="Symbol">@</a><a id="8022" class="Keyword">record</a> <a id="8029" class="Symbol">{</a> <a id="8031" href="Interface.MonadTC.html#845" class="Field">localContext</a> <a id="8044" class="Symbol">=</a> <a id="8046" href="Interface.MonadTC.html#8046" class="Bound">Γ</a> <a id="8048" class="Symbol">}</a> <a id="8050" class="Symbol">→</a> <a id="8052" href="Data.List.Base.html#1606" class="Function">map</a> <a id="8056" href="Reflection.AST.Abstraction.html#1701" class="Function">unAbs</a> <a id="8062" href="Interface.MonadTC.html#8046" class="Bound">Γ</a>

  <a id="8067" href="Interface.MonadTC.html#8067" class="Function">inContext</a> <a id="8077" class="Symbol">:</a> <a id="8079" href="Agda.Builtin.List.html#130" class="Datatype">List</a> <a id="8084" href="Function.Base.html#1994" class="Function Operator">$</a> <a id="8086" href="Agda.Builtin.Reflection.html#3679" class="Datatype">Arg</a> <a id="8090" href="Agda.Builtin.Reflection.html#4741" class="Function">Type</a> <a id="8095" class="Symbol">→</a> <a id="8097" href="Interface.MonadTC.html#4083" class="Bound">M</a> <a id="8099" href="Interface.MonadTC.html#385" class="Generalizable">A</a> <a id="8101" class="Symbol">→</a> <a id="8103" href="Interface.MonadTC.html#4083" class="Bound">M</a> <a id="8105" href="Interface.MonadTC.html#385" class="Generalizable">A</a>
  <a id="8109" href="Interface.MonadTC.html#8067" class="Function">inContext</a> <a id="8119" href="Interface.MonadTC.html#8119" class="Bound">ctx</a> <a id="8123" class="Symbol">=</a> <a id="8125" href="Interface.MonadReader.html#342" class="Field">local</a> <a id="8131" class="Symbol">λ</a> <a id="8133" href="Interface.MonadTC.html#8133" class="Bound">e</a> <a id="8135" class="Symbol">→</a> <a id="8137" class="Keyword">record</a> <a id="8144" href="Interface.MonadTC.html#8133" class="Bound">e</a> <a id="8146" class="Symbol">{</a> <a id="8148" href="Interface.MonadTC.html#845" class="Field">localContext</a> <a id="8161" class="Symbol">=</a> <a id="8163" href="Data.List.Base.html#1606" class="Function">map</a> <a id="8167" class="Symbol">(</a><a id="8168" href="Agda.Builtin.Reflection.html#3962" class="InductiveConstructor">abs</a> <a id="8172" class="String">&quot;&quot;</a><a id="8174" class="Symbol">)</a> <a id="8176" href="Interface.MonadTC.html#8119" class="Bound">ctx</a> <a id="8180" class="Symbol">}</a>

  <a id="8185" class="Comment">-- extend context by multiple variables</a>
  <a id="8227" href="Interface.MonadTC.html#8227" class="Function">extendContext&#39;</a> <a id="8242" class="Symbol">:</a> <a id="8244" href="Agda.Builtin.List.html#130" class="Datatype">List</a> <a id="8249" class="Symbol">(</a><a id="8250" href="Agda.Builtin.Reflection.html#3679" class="Datatype">Arg</a> <a id="8254" href="Agda.Builtin.Reflection.html#4741" class="Function">Type</a><a id="8258" class="Symbol">)</a> <a id="8260" class="Symbol">→</a> <a id="8262" href="Interface.MonadTC.html#4083" class="Bound">M</a> <a id="8264" href="Interface.MonadTC.html#385" class="Generalizable">A</a> <a id="8266" class="Symbol">→</a> <a id="8268" href="Interface.MonadTC.html#4083" class="Bound">M</a> <a id="8270" href="Interface.MonadTC.html#385" class="Generalizable">A</a>
  <a id="8274" href="Interface.MonadTC.html#8227" class="Function">extendContext&#39;</a> <a id="8289" href="Agda.Builtin.List.html#167" class="InductiveConstructor">[]</a> <a id="8292" href="Interface.MonadTC.html#8292" class="Bound">x</a> <a id="8294" class="Symbol">=</a> <a id="8296" href="Interface.MonadTC.html#8292" class="Bound">x</a>
  <a id="8300" href="Interface.MonadTC.html#8227" class="Function">extendContext&#39;</a> <a id="8315" class="Symbol">(</a><a id="8316" href="Interface.MonadTC.html#8316" class="Bound">c</a> <a id="8318" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">∷</a> <a id="8320" href="Interface.MonadTC.html#8320" class="Bound">cs</a><a id="8322" class="Symbol">)</a> <a id="8324" href="Interface.MonadTC.html#8324" class="Bound">x</a> <a id="8326" class="Symbol">=</a> <a id="8328" href="Interface.MonadTC.html#7647" class="Function">extendContext</a> <a id="8342" href="Interface.MonadTC.html#8316" class="Bound">c</a> <a id="8344" class="Symbol">(</a><a id="8345" href="Interface.MonadTC.html#8227" class="Function">extendContext&#39;</a> <a id="8360" href="Interface.MonadTC.html#8320" class="Bound">cs</a> <a id="8363" href="Interface.MonadTC.html#8324" class="Bound">x</a><a id="8364" class="Symbol">)</a>

  <a id="8369" href="Interface.MonadTC.html#8369" class="Function">dropContext</a> <a id="8381" class="Symbol">:</a> <a id="8383" href="Agda.Builtin.Nat.html#186" class="Datatype">ℕ</a> <a id="8385" class="Symbol">→</a> <a id="8387" href="Interface.MonadTC.html#4083" class="Bound">M</a> <a id="8389" href="Interface.MonadTC.html#385" class="Generalizable">A</a> <a id="8391" class="Symbol">→</a> <a id="8393" href="Interface.MonadTC.html#4083" class="Bound">M</a> <a id="8395" href="Interface.MonadTC.html#385" class="Generalizable">A</a>
  <a id="8399" href="Interface.MonadTC.html#8369" class="Function">dropContext</a> <a id="8411" href="Interface.MonadTC.html#8411" class="Bound">n</a> <a id="8413" href="Interface.MonadTC.html#8413" class="Bound">x</a> <a id="8415" class="Symbol">=</a> <a id="8417" class="Keyword">do</a>
    <a id="8424" href="Interface.MonadTC.html#8424" class="Bound">ctx</a> <a id="8428" href="Interface.Monad.html#311" class="Function Operator">←</a> <a id="8430" href="Interface.MonadTC.html#7796" class="Function">getContext</a>
    <a id="8445" href="Interface.MonadTC.html#8067" class="Function">inContext</a> <a id="8455" class="Symbol">(</a><a id="8456" href="Data.List.Base.html#8569" class="Function">drop</a> <a id="8461" href="Interface.MonadTC.html#8411" class="Bound">n</a> <a id="8463" href="Interface.MonadTC.html#8424" class="Bound">ctx</a><a id="8466" class="Symbol">)</a> <a id="8468" href="Interface.MonadTC.html#8413" class="Bound">x</a>

  <a id="8473" href="Interface.MonadTC.html#8473" class="Function">logAndError</a> <a id="8485" class="Symbol">:</a> <a id="8487" href="Agda.Builtin.List.html#130" class="Datatype">List</a> <a id="8492" href="Agda.Builtin.Reflection.html#7876" class="Datatype">ErrorPart</a> <a id="8502" class="Symbol">→</a> <a id="8504" href="Interface.MonadTC.html#4083" class="Bound">M</a> <a id="8506" href="Interface.MonadTC.html#385" class="Generalizable">A</a>
  <a id="8510" href="Interface.MonadTC.html#8473" class="Function">logAndError</a> <a id="8522" href="Interface.MonadTC.html#8522" class="Bound">e</a> <a id="8524" class="Symbol">=</a> <a id="8526" href="Interface.MonadTC.html#5576" class="Function">debugLog</a> <a id="8535" href="Interface.MonadTC.html#8522" class="Bound">e</a> <a id="8537" href="Interface.Monad.html#345" class="Function Operator">&gt;&gt;</a> <a id="8540" href="Interface.MonadError.html#369" class="Function">error</a> <a id="8546" href="Interface.MonadTC.html#8522" class="Bound">e</a>

  <a id="8551" href="Interface.MonadTC.html#8551" class="Function">error1</a> <a id="8558" class="Symbol">:</a> <a id="8560" class="Symbol">⦃</a> <a id="8562" href="Reflection.Debug.html#334" class="Record">IsErrorPart</a> <a id="8574" href="Interface.MonadTC.html#385" class="Generalizable">A</a> <a id="8576" class="Symbol">⦄</a> <a id="8578" class="Symbol">→</a> <a id="8580" href="Interface.MonadTC.html#385" class="Generalizable">A</a> <a id="8582" class="Symbol">→</a> <a id="8584" href="Interface.MonadTC.html#4083" class="Bound">M</a> <a id="8586" href="Interface.MonadTC.html#387" class="Generalizable">B</a>
  <a id="8590" href="Interface.MonadTC.html#8551" class="Function">error1</a> <a id="8597" href="Interface.MonadTC.html#8597" class="Bound">a</a> <a id="8599" class="Symbol">=</a> <a id="8601" href="Interface.MonadError.html#369" class="Function">error</a> <a id="8607" class="Symbol">(</a><a id="8608" href="Interface.MonadTC.html#8597" class="Bound">a</a> <a id="8610" href="Reflection.Debug.html#996" class="Function Operator">∷ᵈ</a> <a id="8613" href="Agda.Builtin.List.html#167" class="InductiveConstructor">[]</a><a id="8615" class="Symbol">)</a>

  <a id="8620" href="Interface.MonadTC.html#8620" class="Function">debugLog1</a> <a id="8630" class="Symbol">:</a> <a id="8632" class="Symbol">⦃</a> <a id="8634" href="Reflection.Debug.html#334" class="Record">IsErrorPart</a> <a id="8646" href="Interface.MonadTC.html#385" class="Generalizable">A</a> <a id="8648" class="Symbol">⦄</a> <a id="8650" class="Symbol">→</a> <a id="8652" href="Interface.MonadTC.html#385" class="Generalizable">A</a> <a id="8654" class="Symbol">→</a> <a id="8656" href="Interface.MonadTC.html#4083" class="Bound">M</a> <a id="8658" href="Agda.Builtin.Unit.html#158" class="Record">⊤</a>
  <a id="8662" href="Interface.MonadTC.html#8620" class="Function">debugLog1</a> <a id="8672" href="Interface.MonadTC.html#8672" class="Bound">a</a> <a id="8674" class="Symbol">=</a> <a id="8676" href="Interface.MonadTC.html#5576" class="Function">debugLog</a> <a id="8685" class="Symbol">(</a><a id="8686" href="Interface.MonadTC.html#8672" class="Bound">a</a> <a id="8688" href="Reflection.Debug.html#996" class="Function Operator">∷ᵈ</a> <a id="8691" href="Agda.Builtin.List.html#167" class="InductiveConstructor">[]</a><a id="8693" class="Symbol">)</a>

  <a id="8698" href="Interface.MonadTC.html#8698" class="Function">logAndError1</a> <a id="8711" class="Symbol">:</a> <a id="8713" class="Symbol">⦃</a> <a id="8715" href="Reflection.Debug.html#334" class="Record">IsErrorPart</a> <a id="8727" href="Interface.MonadTC.html#385" class="Generalizable">A</a> <a id="8729" class="Symbol">⦄</a> <a id="8731" class="Symbol">→</a> <a id="8733" href="Interface.MonadTC.html#385" class="Generalizable">A</a> <a id="8735" class="Symbol">→</a> <a id="8737" href="Interface.MonadTC.html#4083" class="Bound">M</a> <a id="8739" href="Interface.MonadTC.html#387" class="Generalizable">B</a>
  <a id="8743" href="Interface.MonadTC.html#8698" class="Function">logAndError1</a> <a id="8756" href="Interface.MonadTC.html#8756" class="Bound">a</a> <a id="8758" class="Symbol">=</a> <a id="8760" href="Interface.MonadTC.html#8620" class="Function">debugLog1</a> <a id="8770" href="Interface.MonadTC.html#8756" class="Bound">a</a> <a id="8772" href="Interface.Monad.html#345" class="Function Operator">&gt;&gt;</a> <a id="8775" href="Interface.MonadTC.html#8551" class="Function">error1</a> <a id="8782" href="Interface.MonadTC.html#8756" class="Bound">a</a>

  <a id="8787" href="Interface.MonadTC.html#8787" class="Function">markDontFail</a> <a id="8800" class="Symbol">:</a> <a id="8802" href="Agda.Builtin.String.html#318" class="Postulate">String</a> <a id="8809" class="Symbol">→</a> <a id="8811" href="Interface.MonadTC.html#4083" class="Bound">M</a> <a id="8813" href="Interface.MonadTC.html#385" class="Generalizable">A</a> <a id="8815" class="Symbol">→</a> <a id="8817" href="Interface.MonadTC.html#4083" class="Bound">M</a> <a id="8819" href="Interface.MonadTC.html#385" class="Generalizable">A</a>
  <a id="8823" href="Interface.MonadTC.html#8787" class="Function">markDontFail</a> <a id="8836" href="Interface.MonadTC.html#8836" class="Bound">s</a> <a id="8838" href="Interface.MonadTC.html#8838" class="Bound">x</a> <a id="8840" class="Symbol">=</a> <a id="8842" href="Interface.MonadError.html#389" class="Function">catch</a> <a id="8848" href="Interface.MonadTC.html#8838" class="Bound">x</a> <a id="8850" class="Symbol">λ</a> <a id="8852" href="Interface.MonadTC.html#8852" class="Bound">e</a> <a id="8854" class="Symbol">→</a> <a id="8856" href="Interface.MonadTC.html#8473" class="Function">logAndError</a> <a id="8868" class="Symbol">(</a><a id="8869" href="Interface.MonadTC.html#8836" class="Bound">s</a> <a id="8871" href="Reflection.Debug.html#996" class="Function Operator">∷ᵈ</a> <a id="8874" class="String">&quot; should never fail! This is a bug!\nError:\n&quot;</a> <a id="8921" href="Reflection.Debug.html#996" class="Function Operator">∷ᵈ</a> <a id="8924" href="Interface.MonadTC.html#8852" class="Bound">e</a><a id="8925" class="Symbol">)</a>

  <a id="8930" href="Interface.MonadTC.html#8930" class="Function">goalTy</a> <a id="8937" class="Symbol">:</a> <a id="8939" href="Interface.MonadTC.html#4083" class="Bound">M</a> <a id="8941" href="Agda.Builtin.Reflection.html#4741" class="Function">Type</a>
  <a id="8948" href="Interface.MonadTC.html#8930" class="Function">goalTy</a> <a id="8955" class="Symbol">=</a> <a id="8957" class="Keyword">do</a>
    <a id="8964" href="Data.Sum.Base.html#666" class="InductiveConstructor">inj₁</a> <a id="8969" href="Interface.MonadTC.html#8969" class="Bound">t</a> <a id="8971" href="Interface.Monad.html#311" class="Function Operator">←</a> <a id="8973" href="Interface.MonadReader.html#393" class="Function">reader</a> <a id="8980" href="Interface.MonadTC.html#888" class="Field">TCEnv.goal</a>
      <a id="8997" class="Keyword">where</a> <a id="9003" href="Data.Sum.Base.html#691" class="InductiveConstructor">inj₂</a> <a id="9008" href="Interface.MonadTC.html#9008" class="Bound">T</a> <a id="9010" class="Symbol">→</a> <a id="9012" href="Interface.Monad.html#290" class="Function">return</a> <a id="9019" href="Interface.MonadTC.html#9008" class="Bound">T</a>
    <a id="9025" href="Interface.MonadTC.html#1621" class="Function">inferType</a> <a id="9035" href="Interface.MonadTC.html#8969" class="Bound">t</a>

  <a id="9040" class="Comment">-- take the first result if it&#39;s a just, otherwise reset the state and</a>
  <a id="9113" class="Comment">-- run the second computation</a>
  <a id="9145" href="Interface.MonadTC.html#9145" class="Function">runSpeculativeMaybe</a> <a id="9165" class="Symbol">:</a> <a id="9167" href="Interface.MonadTC.html#4083" class="Bound">M</a> <a id="9169" class="Symbol">(</a><a id="9170" href="Agda.Builtin.Maybe.html#118" class="Datatype">Maybe</a> <a id="9176" href="Interface.MonadTC.html#385" class="Generalizable">A</a><a id="9177" class="Symbol">)</a> <a id="9179" class="Symbol">→</a> <a id="9181" href="Interface.MonadTC.html#4083" class="Bound">M</a> <a id="9183" href="Interface.MonadTC.html#385" class="Generalizable">A</a> <a id="9185" class="Symbol">→</a> <a id="9187" href="Interface.MonadTC.html#4083" class="Bound">M</a> <a id="9189" href="Interface.MonadTC.html#385" class="Generalizable">A</a>
  <a id="9193" href="Interface.MonadTC.html#9145" class="Function">runSpeculativeMaybe</a> <a id="9213" href="Interface.MonadTC.html#9213" class="Bound">x</a> <a id="9215" href="Interface.MonadTC.html#9215" class="Bound">y</a> <a id="9217" class="Symbol">=</a> <a id="9219" class="Keyword">do</a>
    <a id="9226" href="Agda.Builtin.Maybe.html#177" class="InductiveConstructor">nothing</a> <a id="9234" href="Interface.Monad.html#311" class="Function Operator">←</a> <a id="9236" href="Interface.MonadTC.html#2305" class="Function">runSpeculative</a> <a id="9251" class="Symbol">(</a><a id="9252" href="Data.Product.Base.html#1491" class="Function Operator">&lt;</a> <a id="9254" href="Function.Base.html#695" class="Function">id</a> <a id="9257" href="Data.Product.Base.html#1491" class="Function Operator">,</a> <a id="9259" href="Data.Maybe.Base.html#1096" class="Function">is-just</a> <a id="9267" href="Data.Product.Base.html#1491" class="Function Operator">&gt;</a> <a id="9269" href="Interface.Monad.html#631" class="Function Operator">&lt;$&gt;</a> <a id="9273" href="Interface.MonadTC.html#9213" class="Bound">x</a><a id="9274" class="Symbol">)</a>
      <a id="9282" class="Keyword">where</a> <a id="9288" href="Agda.Builtin.Maybe.html#156" class="InductiveConstructor">just</a> <a id="9293" href="Interface.MonadTC.html#9293" class="Bound">a</a> <a id="9295" class="Symbol">→</a> <a id="9297" href="Interface.Monad.html#290" class="Function">return</a> <a id="9304" href="Interface.MonadTC.html#9293" class="Bound">a</a>
    <a id="9310" href="Interface.MonadTC.html#9215" class="Bound">y</a>

  <a id="9315" href="Interface.MonadTC.html#9315" class="Function">try</a> <a id="9319" class="Symbol">:</a> <a id="9321" href="Agda.Builtin.List.html#130" class="Datatype">List</a> <a id="9326" class="Symbol">(</a><a id="9327" href="Interface.MonadTC.html#4083" class="Bound">M</a> <a id="9329" href="Agda.Builtin.Unit.html#158" class="Record">⊤</a><a id="9330" class="Symbol">)</a> <a id="9332" class="Symbol">→</a> <a id="9334" href="Interface.MonadTC.html#4083" class="Bound">M</a> <a id="9336" href="Agda.Builtin.Unit.html#158" class="Record">⊤</a> <a id="9338" class="Symbol">→</a> <a id="9340" href="Interface.MonadTC.html#4083" class="Bound">M</a> <a id="9342" href="Agda.Builtin.Unit.html#158" class="Record">⊤</a>
  <a id="9346" href="Interface.MonadTC.html#9315" class="Function">try</a> <a id="9350" href="Agda.Builtin.List.html#167" class="InductiveConstructor">[]</a> <a id="9353" href="Interface.MonadTC.html#9353" class="Bound">e</a> <a id="9355" class="Symbol">=</a> <a id="9357" href="Interface.MonadTC.html#9353" class="Bound">e</a>
  <a id="9361" href="Interface.MonadTC.html#9315" class="Function">try</a> <a id="9365" class="Symbol">(</a><a id="9366" href="Interface.MonadTC.html#9366" class="Bound">x</a> <a id="9368" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">∷</a> <a id="9370" href="Interface.MonadTC.html#9370" class="Bound">cs</a><a id="9372" class="Symbol">)</a> <a id="9374" href="Interface.MonadTC.html#9374" class="Bound">e</a> <a id="9376" class="Symbol">=</a> <a id="9378" href="Interface.MonadError.html#389" class="Field">MonadError.catch</a> <a id="9395" href="Interface.MonadTC.html#4130" class="Bound">me</a> <a id="9398" href="Interface.MonadTC.html#9366" class="Bound">x</a> <a id="9400" class="Symbol">(λ</a> <a id="9403" href="Interface.MonadTC.html#9403" class="Bound">_</a> <a id="9405" class="Symbol">→</a> <a id="9407" href="Interface.MonadTC.html#9315" class="Function">try</a> <a id="9411" href="Interface.MonadTC.html#9370" class="Bound">cs</a> <a id="9414" href="Interface.MonadTC.html#9374" class="Bound">e</a><a id="9415" class="Symbol">)</a>

  <a id="9420" href="Interface.MonadTC.html#9420" class="Function">getConstrs</a> <a id="9431" class="Symbol">:</a> <a id="9433" href="Agda.Builtin.Reflection.html#471" class="Postulate">Name</a> <a id="9438" class="Symbol">→</a> <a id="9440" href="Interface.MonadTC.html#4083" class="Bound">M</a> <a id="9442" class="Symbol">(</a><a id="9443" href="Agda.Builtin.List.html#130" class="Datatype">List</a> <a id="9448" class="Symbol">(</a><a id="9449" href="Agda.Builtin.Reflection.html#471" class="Postulate">Name</a> <a id="9454" href="Data.Product.Base.html#1109" class="Function Operator">×</a> <a id="9456" href="Agda.Builtin.Reflection.html#4741" class="Function">Type</a><a id="9460" class="Symbol">))</a>
  <a id="9465" href="Interface.MonadTC.html#9420" class="Function">getConstrs</a> <a id="9476" href="Interface.MonadTC.html#9476" class="Bound">n</a> <a id="9478" class="Symbol">=</a> <a id="9480" class="Keyword">do</a>
    <a id="9487" href="Interface.MonadTC.html#9487" class="Bound">d</a> <a id="9489" href="Interface.Monad.html#311" class="Function Operator">←</a> <a id="9491" href="Interface.MonadTC.html#2107" class="Function">getDefinition</a> <a id="9505" href="Interface.MonadTC.html#9476" class="Bound">n</a>
    <a id="9511" href="Interface.MonadTC.html#9511" class="Bound">cs</a> <a id="9514" href="Interface.Monad.html#311" class="Function Operator">←</a> <a id="9516" href="Function.Base.html#4053" class="Function Operator">case</a> <a id="9521" href="Interface.MonadTC.html#9487" class="Bound">d</a> <a id="9523" href="Function.Base.html#4053" class="Function Operator">of</a> <a id="9526" class="Symbol">λ</a> <a id="9528" class="Keyword">where</a>
      <a id="9540" class="Symbol">(</a><a id="9541" href="Agda.Builtin.Reflection.html#7294" class="InductiveConstructor">record′</a> <a id="9549" href="Interface.MonadTC.html#9549" class="Bound">c</a> <a id="9551" href="Interface.MonadTC.html#9551" class="Bound">fs</a><a id="9553" class="Symbol">)</a>  <a id="9556" class="Symbol">→</a> <a id="9558" href="Interface.Monad.html#290" class="Function">return</a> <a id="9565" href="Data.List.Base.html#5219" class="Function Operator">[</a> <a id="9567" href="Interface.MonadTC.html#9549" class="Bound">c</a> <a id="9569" href="Data.List.Base.html#5219" class="Function Operator">]</a>
      <a id="9577" class="Symbol">(</a><a id="9578" href="Agda.Builtin.Reflection.html#7235" class="InductiveConstructor">data-type</a> <a id="9588" href="Interface.MonadTC.html#9588" class="Bound">pars</a> <a id="9593" href="Interface.MonadTC.html#9593" class="Bound">cs</a><a id="9595" class="Symbol">)</a> <a id="9597" class="Symbol">→</a> <a id="9599" href="Interface.Monad.html#290" class="Function">return</a> <a id="9606" href="Interface.MonadTC.html#9593" class="Bound">cs</a>
      <a id="9615" class="CatchallClause Symbol">_</a>                   <a id="9635" class="Symbol">→</a> <a id="9637" href="Interface.MonadError.html#369" class="Function">error</a> <a id="9643" class="Symbol">(</a><a id="9644" href="Interface.MonadTC.html#9476" class="Bound">n</a> <a id="9646" href="Reflection.Debug.html#996" class="Function Operator">∷ᵈ</a> <a id="9649" class="String">&quot;is not a data or record definition!&quot;</a> <a id="9687" href="Reflection.Debug.html#996" class="Function Operator">∷ᵈ</a> <a id="9690" href="Agda.Builtin.List.html#167" class="InductiveConstructor">[]</a><a id="9692" class="Symbol">)</a>
    <a id="9698" href="Interface.Monad.html#824" class="Function">traverseList</a> <a id="9711" class="Symbol">(λ</a> <a id="9714" href="Interface.MonadTC.html#9714" class="Bound">n</a> <a id="9716" class="Symbol">→</a> <a id="9718" class="Symbol">(</a><a id="9719" href="Interface.MonadTC.html#9714" class="Bound">n</a> <a id="9721" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,_</a><a id="9723" class="Symbol">)</a> <a id="9725" href="Interface.Monad.html#631" class="Function Operator">&lt;$&gt;</a> <a id="9729" class="Symbol">(</a><a id="9730" href="Interface.MonadTC.html#1702" class="Function">normalise</a> <a id="9740" href="Interface.Monad.html#400" class="Function Operator">=&lt;&lt;</a> <a id="9744" href="Interface.MonadTC.html#2070" class="Function">getType</a> <a id="9752" href="Interface.MonadTC.html#9714" class="Bound">n</a><a id="9753" class="Symbol">))</a> <a id="9756" class="Symbol">(</a><a id="9757" href="Agda.Builtin.List.html#130" class="Datatype">List</a> <a id="9762" href="Agda.Builtin.Reflection.html#471" class="Postulate">Name</a> <a id="9767" href="Function.Base.html#4494" class="Function Operator">∋</a> <a id="9769" href="Interface.MonadTC.html#9511" class="Bound">cs</a><a id="9771" class="Symbol">)</a>

  <a id="9776" href="Interface.MonadTC.html#9776" class="Function">getConstrsForType</a> <a id="9794" class="Symbol">:</a> <a id="9796" href="Agda.Builtin.Reflection.html#4670" class="Datatype">Term</a> <a id="9801" class="Symbol">→</a> <a id="9803" href="Interface.MonadTC.html#4083" class="Bound">M</a> <a id="9805" class="Symbol">(</a><a id="9806" href="Agda.Builtin.List.html#130" class="Datatype">List</a> <a id="9811" class="Symbol">(</a><a id="9812" href="Agda.Builtin.Reflection.html#471" class="Postulate">Name</a> <a id="9817" href="Data.Product.Base.html#1109" class="Function Operator">×</a> <a id="9819" href="Agda.Builtin.Reflection.html#4741" class="Function">Type</a><a id="9823" class="Symbol">))</a>
  <a id="9828" href="Interface.MonadTC.html#9776" class="Function">getConstrsForType</a> <a id="9846" href="Interface.MonadTC.html#9846" class="Bound">ty</a> <a id="9849" class="Symbol">=</a> <a id="9851" class="Keyword">do</a>
    <a id="9858" class="Symbol">(</a><a id="9859" href="Agda.Builtin.Reflection.html#4928" class="InductiveConstructor">def</a> <a id="9863" href="Interface.MonadTC.html#9863" class="Bound">n</a> <a id="9865" class="Symbol">_)</a> <a id="9868" href="Interface.Monad.html#311" class="Function Operator">←</a> <a id="9870" href="Interface.MonadTC.html#1702" class="Function">normalise</a> <a id="9880" href="Interface.MonadTC.html#9846" class="Bound">ty</a>
      <a id="9889" class="Keyword">where</a> <a id="9895" class="CatchallClause Symbol">_</a> <a id="9897" class="Symbol">→</a> <a id="9899" href="Interface.MonadError.html#369" class="Function">error</a> <a id="9905" class="Symbol">(</a><a id="9906" href="Interface.MonadTC.html#9846" class="Bound">ty</a> <a id="9909" href="Reflection.Debug.html#996" class="Function Operator">∷ᵈ</a> <a id="9912" class="String">&quot;does not reduce to a definition!&quot;</a> <a id="9947" href="Reflection.Debug.html#996" class="Function Operator">∷ᵈ</a> <a id="9950" href="Agda.Builtin.List.html#167" class="InductiveConstructor">[]</a><a id="9952" class="Symbol">)</a>
    <a id="9958" href="Interface.MonadTC.html#9420" class="Function">getConstrs</a> <a id="9969" href="Interface.MonadTC.html#9863" class="Bound">n</a>

  <a id="9974" href="Interface.MonadTC.html#9974" class="Function">getConstrsForTerm</a> <a id="9992" class="Symbol">:</a> <a id="9994" href="Agda.Builtin.Reflection.html#4670" class="Datatype">Term</a> <a id="9999" class="Symbol">→</a> <a id="10001" href="Interface.MonadTC.html#4083" class="Bound">M</a> <a id="10003" class="Symbol">(</a><a id="10004" href="Agda.Builtin.List.html#130" class="Datatype">List</a> <a id="10009" class="Symbol">(</a><a id="10010" href="Agda.Builtin.Reflection.html#471" class="Postulate">Name</a> <a id="10015" href="Data.Product.Base.html#1109" class="Function Operator">×</a> <a id="10017" href="Agda.Builtin.Reflection.html#4741" class="Function">Type</a><a id="10021" class="Symbol">))</a>
  <a id="10026" href="Interface.MonadTC.html#9974" class="Function">getConstrsForTerm</a> <a id="10044" href="Interface.MonadTC.html#10044" class="Bound">t</a> <a id="10046" class="Symbol">=</a> <a id="10048" href="Interface.MonadTC.html#9776" class="Function">getConstrsForType</a> <a id="10066" href="Interface.Monad.html#400" class="Function Operator">=&lt;&lt;</a> <a id="10070" href="Interface.MonadTC.html#1621" class="Function">inferType</a> <a id="10080" href="Interface.MonadTC.html#10044" class="Bound">t</a>

  <a id="10085" class="Comment">-- run a TC computation to arrive at the term under the binder for the pattern</a>
  <a id="10166" href="Interface.MonadTC.html#10166" class="Function">withPattern</a> <a id="10178" class="Symbol">:</a> <a id="10180" href="Agda.Builtin.List.html#130" class="Datatype">List</a> <a id="10185" class="Symbol">(</a><a id="10186" href="Agda.Builtin.String.html#318" class="Postulate">String</a> <a id="10193" href="Data.Product.Base.html#1109" class="Function Operator">×</a> <a id="10195" href="Agda.Builtin.Reflection.html#3679" class="Datatype">Arg</a> <a id="10199" href="Agda.Builtin.Reflection.html#4741" class="Function">Type</a><a id="10203" class="Symbol">)</a> <a id="10205" class="Symbol">→</a> <a id="10207" href="Agda.Builtin.List.html#130" class="Datatype">List</a> <a id="10212" class="Symbol">(</a><a id="10213" href="Agda.Builtin.Reflection.html#3679" class="Datatype">Arg</a> <a id="10217" href="Agda.Builtin.Reflection.html#4708" class="Datatype">Pattern</a><a id="10224" class="Symbol">)</a> <a id="10226" class="Symbol">→</a> <a id="10228" href="Interface.MonadTC.html#4083" class="Bound">M</a> <a id="10230" href="Agda.Builtin.Reflection.html#4670" class="Datatype">Term</a> <a id="10235" class="Symbol">→</a> <a id="10237" href="Interface.MonadTC.html#4083" class="Bound">M</a> <a id="10239" href="Agda.Builtin.Reflection.html#4727" class="Datatype">Clause</a>
  <a id="10248" href="Interface.MonadTC.html#10166" class="Function">withPattern</a> <a id="10260" href="Interface.MonadTC.html#10260" class="Bound">tel</a> <a id="10264" href="Interface.MonadTC.html#10264" class="Bound">ps</a> <a id="10267" href="Interface.MonadTC.html#10267" class="Bound">t</a> <a id="10269" class="Symbol">=</a> <a id="10271" href="Agda.Builtin.Reflection.html#5783" class="InductiveConstructor">Clause.clause</a> <a id="10285" href="Interface.MonadTC.html#10260" class="Bound">tel</a> <a id="10289" href="Interface.MonadTC.html#10264" class="Bound">ps</a> <a id="10292" href="Interface.Monad.html#631" class="Function Operator">&lt;$&gt;</a> <a id="10296" href="Interface.MonadTC.html#8227" class="Function">extendContext&#39;</a> <a id="10311" class="Symbol">(</a><a id="10312" href="Data.List.Base.html#1606" class="Function">map</a> <a id="10316" href="Data.Product.Base.html#622" class="Field">proj₂</a> <a id="10322" href="Interface.MonadTC.html#10260" class="Bound">tel</a><a id="10325" class="Symbol">)</a> <a id="10327" href="Interface.MonadTC.html#10267" class="Bound">t</a>

  <a id="10332" href="Interface.MonadTC.html#10332" class="Function">unifyWithGoal</a> <a id="10346" class="Symbol">:</a> <a id="10348" href="Agda.Builtin.Reflection.html#4670" class="Datatype">Term</a> <a id="10353" class="Symbol">→</a> <a id="10355" href="Interface.MonadTC.html#4083" class="Bound">M</a> <a id="10357" href="Agda.Builtin.Unit.html#158" class="Record">⊤</a>
  <a id="10361" href="Interface.MonadTC.html#10332" class="Function">unifyWithGoal</a> <a id="10375" href="Interface.MonadTC.html#10375" class="Bound">t</a> <a id="10377" class="Symbol">=</a> <a id="10379" class="Keyword">do</a>
    <a id="10386" href="Data.Sum.Base.html#666" class="InductiveConstructor">inj₁</a> <a id="10391" href="Interface.MonadTC.html#10391" class="Bound">t&#39;</a> <a id="10394" href="Interface.Monad.html#311" class="Function Operator">←</a> <a id="10396" href="Interface.MonadReader.html#393" class="Function">reader</a> <a id="10403" href="Interface.MonadTC.html#888" class="Field">TCEnv.goal</a>
      <a id="10420" class="Keyword">where</a> <a id="10426" class="CatchallClause Symbol">_</a> <a id="10428" class="Symbol">→</a> <a id="10430" href="Interface.MonadTC.html#8551" class="Function">error1</a> <a id="10437" class="String">&quot;unifyWithGoal: Goal is not a term!&quot;</a>
    <a id="10478" href="Interface.MonadTC.html#1520" class="Function">unify</a> <a id="10484" href="Interface.MonadTC.html#10391" class="Bound">t&#39;</a> <a id="10487" href="Interface.MonadTC.html#10375" class="Bound">t</a>

  <a id="10492" href="Interface.MonadTC.html#10492" class="Function">runWithHole</a> <a id="10504" class="Symbol">:</a> <a id="10506" href="Agda.Builtin.Reflection.html#4670" class="Datatype">Term</a> <a id="10511" class="Symbol">→</a> <a id="10513" href="Interface.MonadTC.html#4083" class="Bound">M</a> <a id="10515" href="Interface.MonadTC.html#385" class="Generalizable">A</a> <a id="10517" class="Symbol">→</a> <a id="10519" href="Interface.MonadTC.html#4083" class="Bound">M</a> <a id="10521" href="Interface.MonadTC.html#385" class="Generalizable">A</a>
  <a id="10525" href="Interface.MonadTC.html#10492" class="Function">runWithHole</a> <a id="10537" href="Interface.MonadTC.html#10537" class="Bound">t</a> <a id="10539" class="Symbol">=</a> <a id="10541" href="Interface.MonadReader.html#342" class="Field">local</a> <a id="10547" class="Symbol">(λ</a> <a id="10550" href="Interface.MonadTC.html#10550" class="Bound">env</a> <a id="10554" class="Symbol">→</a> <a id="10556" class="Keyword">record</a> <a id="10563" href="Interface.MonadTC.html#10550" class="Bound">env</a> <a id="10567" class="Symbol">{</a> <a id="10569" href="Interface.MonadTC.html#888" class="Field">goal</a> <a id="10574" class="Symbol">=</a> <a id="10576" href="Data.Sum.Base.html#666" class="InductiveConstructor">inj₁</a> <a id="10581" href="Interface.MonadTC.html#10537" class="Bound">t</a> <a id="10583" class="Symbol">})</a>

  <a id="10589" href="Interface.MonadTC.html#10589" class="Function">runWithGoalTy</a> <a id="10603" class="Symbol">:</a> <a id="10605" href="Agda.Builtin.Reflection.html#4670" class="Datatype">Term</a> <a id="10610" class="Symbol">→</a> <a id="10612" href="Interface.MonadTC.html#4083" class="Bound">M</a> <a id="10614" href="Interface.MonadTC.html#385" class="Generalizable">A</a> <a id="10616" class="Symbol">→</a> <a id="10618" href="Interface.MonadTC.html#4083" class="Bound">M</a> <a id="10620" href="Interface.MonadTC.html#385" class="Generalizable">A</a>
  <a id="10624" href="Interface.MonadTC.html#10589" class="Function">runWithGoalTy</a> <a id="10638" href="Interface.MonadTC.html#10638" class="Bound">t</a> <a id="10640" class="Symbol">=</a> <a id="10642" href="Interface.MonadReader.html#342" class="Field">local</a> <a id="10648" class="Symbol">(λ</a> <a id="10651" href="Interface.MonadTC.html#10651" class="Bound">env</a> <a id="10655" class="Symbol">→</a> <a id="10657" class="Keyword">record</a> <a id="10664" href="Interface.MonadTC.html#10651" class="Bound">env</a> <a id="10668" class="Symbol">{</a> <a id="10670" href="Interface.MonadTC.html#888" class="Field">goal</a> <a id="10675" class="Symbol">=</a> <a id="10677" href="Data.Sum.Base.html#691" class="InductiveConstructor">inj₂</a> <a id="10682" href="Interface.MonadTC.html#10638" class="Bound">t</a> <a id="10684" class="Symbol">})</a>

  <a id="10690" href="Interface.MonadTC.html#10690" class="Function">goalHole</a> <a id="10699" class="Symbol">:</a> <a id="10701" href="Interface.MonadTC.html#4083" class="Bound">M</a> <a id="10703" href="Agda.Builtin.Reflection.html#4670" class="Datatype">Term</a>
  <a id="10710" href="Interface.MonadTC.html#10690" class="Function">goalHole</a> <a id="10719" class="Symbol">=</a> <a id="10721" class="Keyword">do</a>
    <a id="10728" href="Data.Sum.Base.html#691" class="InductiveConstructor">inj₂</a> <a id="10733" href="Interface.MonadTC.html#10733" class="Bound">T</a> <a id="10735" href="Interface.Monad.html#311" class="Function Operator">←</a> <a id="10737" href="Interface.MonadReader.html#393" class="Function">reader</a> <a id="10744" href="Interface.MonadTC.html#888" class="Field">TCEnv.goal</a>
      <a id="10761" class="Keyword">where</a> <a id="10767" href="Data.Sum.Base.html#666" class="InductiveConstructor">inj₁</a> <a id="10772" href="Interface.MonadTC.html#10772" class="Bound">hole</a> <a id="10777" class="Symbol">→</a> <a id="10779" href="Interface.Monad.html#290" class="Function">return</a> <a id="10786" href="Interface.MonadTC.html#10772" class="Bound">hole</a>
    <a id="10795" href="Interface.MonadTC.html#4018" class="Function">newMeta</a> <a id="10803" href="Interface.MonadTC.html#10733" class="Bound">T</a>

  <a id="10808" href="Interface.MonadTC.html#10808" class="Function">withGoalHole</a> <a id="10821" class="Symbol">:</a> <a id="10823" href="Interface.MonadTC.html#4083" class="Bound">M</a> <a id="10825" href="Agda.Builtin.Unit.html#158" class="Record">⊤</a> <a id="10827" class="Symbol">→</a> <a id="10829" href="Interface.MonadTC.html#4083" class="Bound">M</a> <a id="10831" href="Agda.Builtin.Reflection.html#4670" class="Datatype">Term</a>
  <a id="10838" href="Interface.MonadTC.html#10808" class="Function">withGoalHole</a> <a id="10851" href="Interface.MonadTC.html#10851" class="Bound">tac</a> <a id="10855" class="Symbol">=</a> <a id="10857" class="Keyword">do</a>
    <a id="10864" href="Interface.MonadTC.html#10864" class="Bound">hole</a> <a id="10869" href="Interface.Monad.html#311" class="Function Operator">←</a> <a id="10871" href="Interface.MonadTC.html#10690" class="Function">goalHole</a>
    <a id="10884" href="Interface.MonadTC.html#10492" class="Function">runWithHole</a> <a id="10896" href="Interface.MonadTC.html#10864" class="Bound">hole</a> <a id="10901" href="Interface.MonadTC.html#10851" class="Bound">tac</a>
    <a id="10909" href="Interface.Monad.html#290" class="Function">return</a> <a id="10916" href="Interface.MonadTC.html#10864" class="Bound">hole</a>

<a id="MonadTC-TC"></a><a id="10922" href="Interface.MonadTC.html#10922" class="Function">MonadTC-TC</a> <a id="10933" class="Symbol">:</a> <a id="10935" href="Interface.MonadTC.html#1403" class="Record">MonadTC</a> <a id="10943" href="Agda.Builtin.Reflection.html#8279" class="Postulate">R.TC</a> <a id="10948" class="Symbol">⦃</a> <a id="10950" href="Interface.MonadTC.html#409" class="Function">Monad-TC</a> <a id="10959" class="Symbol">⦄</a> <a id="10961" class="Symbol">⦃</a> <a id="10963" href="Interface.MonadError.html#437" class="Function">MonadError-TC</a> <a id="10977" class="Symbol">⦄</a>
<a id="10979" href="Interface.MonadTC.html#10922" class="Function">MonadTC-TC</a> <a id="10990" class="Symbol">=</a> <a id="10992" class="Keyword">record</a> <a id="10999" class="Symbol">{</a> <a id="11001" href="Reflection.html" class="Module">R</a><a id="11002" class="Symbol">;</a> <a id="11004" href="Interface.MonadTC.html#11004" class="Module">R&#39;</a> <a id="11007" class="Keyword">using</a> <a id="11013" class="Symbol">(</a><a id="11014" href="Agda.Builtin.Reflection.html#8872" class="Postulate">quoteωTC</a><a id="11022" class="Symbol">;</a> <a id="11024" href="Agda.Builtin.Reflection.html#9924" class="Postulate">withReconstructed</a><a id="11041" class="Symbol">;</a> <a id="11043" href="Agda.Builtin.Reflection.html#10279" class="Postulate">onlyReduceDefs</a><a id="11057" class="Symbol">;</a> <a id="11059" href="Agda.Builtin.Reflection.html#10429" class="Postulate">dontReduceDefs</a><a id="11073" class="Symbol">)</a> <a id="11075" class="Symbol">}</a>
</pre></body></html>